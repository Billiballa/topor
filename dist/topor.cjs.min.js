"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){var r=Object.keys(t);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(t)),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(t,e){return t(e={exports:{}},e.exports),e.exports}var f=2311;var d=function(){return f++};var p="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},r=t.match(/Firefox\/([\d.]+)/),n=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(t);r&&(e.firefox=!0,e.version=r[1]);n&&(e.ie=!0,e.version=n[1]);i&&(e.edge=!0,e.version=i[1]);a&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11),domSupported:"undefined"!=typeof document}}(navigator.userAgent),v={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},g={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},_=Object.prototype.toString,y=Array.prototype,m=y.forEach,x=y.filter,b=y.slice,w=y.map,k=y.reduce,T={};function S(t){if(null==t||"object"!=typeof t)return t;var e=t,r=_.call(t);if("[object Array]"===r){if(!B(t)){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=S(t[n])}}else if(g[r]){if(!B(t)){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(n=0,i=t.length;n<i;n++)e[n]=S(t[n])}}}else if(!v[r]&&!B(t)&&!D(t))for(var o in e={},t)t.hasOwnProperty(o)&&(e[o]=S(t[o]));return e}function A(t,e,r){if(!R(e)||!R(t))return r?S(e):t;for(var n in e)if(e.hasOwnProperty(n)){var i=t[n],a=e[n];!R(a)||!R(i)||O(a)||O(i)||D(a)||D(i)||E(a)||E(i)||B(a)||B(i)?!r&&n in t||(t[n]=S(e[n])):A(i,a,r)}return t}function P(t,e,r){for(var n in e)e.hasOwnProperty(n)&&(r?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}var C,L=function(){return T.createCanvas()};function M(t,e,r){if(t&&e)if(t.forEach&&t.forEach===m)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)}function z(t,e){var r=b.call(arguments,2);return function(){return t.apply(e,r.concat(b.call(arguments)))}}function O(t){return"[object Array]"===_.call(t)}function R(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function E(t){return!!v[_.call(t)]}function D(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}T.createCanvas=function(){return document.createElement("canvas")};var I="__ec_primitive__";function B(t){return t[I]}function F(t){var e=O(t);this.data={};var r=this;function n(t,n){e?r.set(t,n):r.set(n,t)}t instanceof F?t.each(n):t&&M(t,n)}F.prototype={constructor:F,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var r in void 0!==e&&(t=z(t,e)),this.data)this.data.hasOwnProperty(r)&&t(this.data[r],r)},removeKey:function(t){delete this.data[t]}};var j={$override:function(t,e){"createCanvas"===t&&(C=null),T[t]=e},clone:S,merge:A,mergeAll:function(t,e){for(var r=t[0],n=1,i=t.length;n<i;n++)r=A(r,t[n],e);return r},extend:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},defaults:P,createCanvas:L,getContext:function(){return C||(C=L().getContext("2d")),C},indexOf:function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1},inherits:function(t,e){var r=t.prototype;function n(){}for(var i in n.prototype=e.prototype,t.prototype=new n,r)t.prototype[i]=r[i];t.prototype.constructor=t,t.superClass=e},mixin:function(t,e,r){P(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,r)},isArrayLike:function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},each:M,map:function(t,e,r){if(t&&e){if(t.map&&t.map===w)return t.map(e,r);for(var n=[],i=0,a=t.length;i<a;i++)n.push(e.call(r,t[i],i,t));return n}},reduce:function(t,e,r,n){if(t&&e){if(t.reduce&&t.reduce===k)return t.reduce(e,r,n);for(var i=0,a=t.length;i<a;i++)r=e.call(n,r,t[i],i,t);return r}},filter:function(t,e,r){if(t&&e){if(t.filter&&t.filter===x)return t.filter(e,r);for(var n=[],i=0,a=t.length;i<a;i++)e.call(r,t[i],i,t)&&n.push(t[i]);return n}},find:function(t,e,r){if(t&&e)for(var n=0,i=t.length;n<i;n++)if(e.call(r,t[n],n,t))return t[n]},bind:z,curry:function(t){var e=b.call(arguments,1);return function(){return t.apply(this,e.concat(b.call(arguments)))}},isArray:O,isFunction:function(t){return"function"==typeof t},isString:function(t){return"[object String]"===_.call(t)},isObject:R,isBuiltInObject:E,isTypedArray:function(t){return!!g[_.call(t)]},isDom:D,eqNaN:function(t){return t!=t},retrieve:function(t){for(var e=0,r=arguments.length;e<r;e++)if(null!=arguments[e])return arguments[e]},retrieve2:function(t,e){return null!=t?t:e},retrieve3:function(t,e,r){return null!=t?t:null!=e?e:r},slice:function(){return Function.call.apply(b,arguments)},normalizeCssArray:function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},assert:function(t,e){if(!t)throw new Error(e)},trim:function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},setAsPrimitive:function(t){t[I]=!0},isPrimitive:B,createHashMap:function(t){return new F(t)},concatArray:function(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];var i=t.length;for(n=0;n<e.length;n++)r[n+i]=e[n];return r},noop:function(){}},W="undefined"==typeof Float32Array?Array:Float32Array;function N(t){return Math.sqrt(H(t))}function H(t){return t[0]*t[0]+t[1]*t[1]}function q(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function U(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var V={create:function(t,e){var r=new W(2);return null==t&&(t=0),null==e&&(e=0),r[0]=t,r[1]=e,r},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var e=new W(2);return e[0]=t[0],e[1]=t[1],e},set:function(t,e,r){return t[0]=e,t[1]=r,t},add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},scaleAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},sub:function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},len:N,length:N,lenSquare:H,lengthSquare:H,mul:function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},div:function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},normalize:function(t,e){var r=N(e);return 0===r?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t},distance:q,dist:q,distanceSquare:U,distSquare:U,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,r,n){return t[0]=e[0]+n*(r[0]-e[0]),t[1]=e[1]+n*(r[1]-e[1]),t},applyTransform:function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t},min:function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},max:function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}};function X(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function Y(t,e){return{target:t,topTarget:e&&e.topTarget}}X.prototype={constructor:X,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(Y(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var r=t.offsetX,n=t.offsetY,i=r-this._x,a=n-this._y;this._x=r,this._y=n,e.drift(i,a,t),this.dispatchToElement(Y(e,t),"drag",t.event);var o=this.findHover(r,n,e).target,s=this._dropTarget;this._dropTarget=o,e!==o&&(s&&o!==s&&this.dispatchToElement(Y(s,t),"dragleave",t.event),o&&o!==s&&this.dispatchToElement(Y(o,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(Y(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(Y(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var $=X,G=Array.prototype.slice,Z=function(t){this._$handlers={},this._$eventProcessor=t};function Q(t,e,r,n,i,a){var o=t._$handlers;if("function"==typeof r&&(i=n,n=r,r=null),!n||!e)return t;r=function(t,e){var r=t._$eventProcessor;return null!=e&&r&&r.normalizeQuery&&(e=r.normalizeQuery(e)),e}(t,r),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===n)return t;var u={h:n,one:a,query:r,ctx:i||t,callAtLast:n.zrEventfulCallAtLast},l=o[e].length-1,h=o[e][l];return h&&h.callAtLast?o[e].splice(l,0,u):o[e].push(u),t}Z.prototype={constructor:Z,one:function(t,e,r,n){return Q(this,t,e,r,n,!0)},on:function(t,e,r,n){return Q(this,t,e,r,n,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var r=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(r[t]){for(var n=[],i=0,a=r[t].length;i<a;i++)r[t][i].h!==e&&n.push(r[t][i]);r[t]=n}r[t]&&0===r[t].length&&delete r[t]}else delete r[t];return this},trigger:function(t){var e=this._$handlers[t],r=this._$eventProcessor;if(e){var n=arguments,i=n.length;i>3&&(n=G.call(n,1));for(var a=e.length,o=0;o<a;){var s=e[o];if(r&&r.filter&&null!=s.query&&!r.filter(t,s.query))o++;else{switch(i){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,n[1]);break;case 3:s.h.call(s.ctx,n[1],n[2]);break;default:s.h.apply(s.ctx,n)}s.one?(e.splice(o,1),a--):o++}}}return r&&r.afterTrigger&&r.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],r=this._$eventProcessor;if(e){var n=arguments,i=n.length;i>4&&(n=G.call(n,1,n.length-1));for(var a=n[n.length-1],o=e.length,s=0;s<o;){var u=e[s];if(r&&r.filter&&null!=u.query&&!r.filter(t,u.query))s++;else{switch(i){case 1:u.h.call(a);break;case 2:u.h.call(a,n[1]);break;case 3:u.h.call(a,n[1],n[2]);break;default:u.h.apply(a,n)}u.one?(e.splice(s,1),o--):s++}}}return r&&r.afterTrigger&&r.afterTrigger(t),this}};var K=Z,J=K,tt="undefined"!=typeof window&&!!window.addEventListener,et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function rt(t,e,r,n){return r=r||{},n||!p.canvasSupported?nt(t,e,r):p.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):null!=e.offsetX?(r.zrX=e.offsetX,r.zrY=e.offsetY):nt(t,e,r),r}function nt(t,e,r){var n=function(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}(t);r.zrX=e.clientX-n.left,r.zrY=e.clientY-n.top}var it={Dispatcher:J,clientToLocal:rt,normalizeEvent:function(t,e,r){if(null!=(e=e||window.event).zrX)return e;var n=e.type;if(n&&n.indexOf("touch")>=0){var i="touchend"!==n?e.targetTouches[0]:e.changedTouches[0];i&&rt(t,i,e,r)}else rt(t,e,e,r),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var a=e.button;return null==e.which&&void 0!==a&&et.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e},addEventListener:function(t,e,r){tt?t.addEventListener(e,r):t.attachEvent("on"+e,r)},removeEventListener:function(t,e,r){tt?t.removeEventListener(e,r):t.detachEvent("on"+e,r)},stop:tt?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},isMiddleOrRightButtonOnMouseUpDown:function(t){return 2===t.which||3===t.which},notLeftMouse:function(t){return t.which>1}},at=function(){this._track=[]};function ot(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}at.prototype={constructor:at,recognize:function(t,e,r){return this._doTrack(t,e,r),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,r){var n=t.touches;if(n){for(var i={points:[],touches:[],target:e,event:t},a=0,o=n.length;a<o;a++){var s=n[a],u=it.clientToLocal(r,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},_recognize:function(t){for(var e in st)if(st.hasOwnProperty(e)){var r=st[e](this._track,t);if(r)return r}}};var st={pinch:function(t,e){var r=t.length;if(r){var n,i=(t[r-1]||{}).points,a=(t[r-2]||{}).points||i;if(a&&a.length>1&&i&&i.length>1){var o=ot(i)/ot(a);!isFinite(o)&&(o=1),e.pinchScale=o;var s=[((n=i)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},ut=at,lt="silent";function ht(t){it.stop(this.event)}function ct(){}ct.prototype.dispose=function(){};var ft=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],dt=function(t,e,r,n){K.call(this),this.storage=t,this.painter=e,this.painterRoot=n,r=r||new ct,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,$.call(this),this.setHandlerProxy(r)};function pt(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n,i=t;i;){if(i.clipPath&&!i.clipPath.contain(e,r))return!1;i.silent&&(n=!0),i=i.parent}return!n||lt}return!1}dt.prototype={constructor:dt,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(j.each(ft,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,r=t.zrY,n=this._hovered,i=n.target;i&&!i.__zr&&(i=(n=this.findHover(n.x,n.y)).target);var a=this._hovered=this.findHover(e,r),o=a.target,s=this.proxy;s.setCursor&&s.setCursor(o?o.cursor:"default"),i&&o!==i&&this.dispatchToElement(n,"mouseout",t),this.dispatchToElement(a,"mousemove",t),o&&o!==i&&this.dispatchToElement(a,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,r=t.toElement||t.relatedTarget;do{r=r&&r.parentNode}while(r&&9!==r.nodeType&&!(e=r===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var r=this[t];r&&r.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,r){var n=(t=t||{}).target;if(!n||!n.silent){for(var i="on"+e,a=function(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:ht}}(e,t,r);n&&(n[i]&&(a.cancelBubble=n[i].call(n,a)),n.trigger(e,a),n=n.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[i]&&t[i].call(t,a),t.trigger&&t.trigger(e,a)}))}},findHover:function(t,e,r){for(var n=this.storage.getDisplayList(),i={x:t,y:e},a=n.length-1;a>=0;a--){var o;if(n[a]!==r&&!n[a].ignore&&(o=pt(n[a],t,e))&&(!i.topTarget&&(i.topTarget=n[a]),o!==lt)){i.target=n[a];break}}return i},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new ut);var r=this._gestureMgr;"start"===e&&r.clear();var n=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&r.clear(),n){var i=n.type;t.gestureEvent=i,this.dispatchToElement({target:n.target},i,n.event)}}},j.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){dt.prototype[t]=function(e){var r=this.findHover(e.zrX,e.zrY),n=r.target;if("mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||V.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(r,t,e)}}),j.mixin(dt,K),j.mixin(dt,$);var vt=dt,gt="undefined"==typeof Float32Array?Array:Float32Array;function _t(){var t=new gt(6);return yt(t),t}function yt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function mt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}var xt={create:_t,identity:yt,copy:mt,mul:function(t,e,r){var n=e[0]*r[0]+e[2]*r[1],i=e[1]*r[0]+e[3]*r[1],a=e[0]*r[2]+e[2]*r[3],o=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],u=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t},translate:function(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t},rotate:function(t,e,r){var n=e[0],i=e[2],a=e[4],o=e[1],s=e[3],u=e[5],l=Math.sin(r),h=Math.cos(r);return t[0]=n*h+o*l,t[1]=-n*l+o*h,t[2]=i*h+s*l,t[3]=-i*l+h*s,t[4]=h*a+l*u,t[5]=h*u-l*a,t},scale:function(t,e,r){var n=r[0],i=r[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t},invert:function(t,e){var r=e[0],n=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=r*o-a*n;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-n*u,t[3]=r*u,t[4]=(n*s-o*i)*u,t[5]=(a*i-r*s)*u,t):null},clone:function(t){var e=_t();return mt(e,t),e}},bt=xt.identity,wt=5e-5;function kt(t){return t>wt||t<-wt}var Tt=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},St=Tt.prototype;St.transform=null,St.needLocalTransform=function(){return kt(this.rotation)||kt(this.position[0])||kt(this.position[1])||kt(this.scale[0]-1)||kt(this.scale[1]-1)};var At=[];St.updateTransform=function(){var t=this.parent,e=t&&t.transform,r=this.needLocalTransform(),n=this.transform;if(r||e){n=n||xt.create(),r?this.getLocalTransform(n):bt(n),e&&(r?xt.mul(n,t.transform,n):xt.copy(n,t.transform)),this.transform=n;var i=this.globalScaleRatio;if(null!=i&&1!==i){this.getGlobalScale(At);var a=At[0]<0?-1:1,o=At[1]<0?-1:1,s=((At[0]-a)*i+a)/At[0]||0,u=((At[1]-o)*i+o)/At[1]||0;n[0]*=s,n[1]*=s,n[2]*=u,n[3]*=u}this.invTransform=this.invTransform||xt.create(),xt.invert(this.invTransform,n)}else n&&bt(n)},St.getLocalTransform=function(t){return Tt.getLocalTransform(this,t)},St.setTransform=function(t){var e=this.transform,r=t.dpr||1;e?t.setTransform(r*e[0],r*e[1],r*e[2],r*e[3],r*e[4],r*e[5]):t.setTransform(r,0,0,r,0,0)},St.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var Pt=[],Ct=xt.create();St.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],n=this.position,i=this.scale;kt(e-1)&&(e=Math.sqrt(e)),kt(r-1)&&(r=Math.sqrt(r)),t[0]<0&&(e=-e),t[3]<0&&(r=-r),n[0]=t[4],n[1]=t[5],i[0]=e,i[1]=r,this.rotation=Math.atan2(-t[1]/r,t[0]/e)}},St.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(xt.mul(Pt,t.invTransform,e),e=Pt);var r=this.origin;r&&(r[0]||r[1])&&(Ct[4]=r[0],Ct[5]=r[1],xt.mul(Pt,e,Ct),Pt[4]-=r[0],Pt[5]-=r[1],e=Pt),this.setLocalTransform(e)}},St.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},St.transformCoordToLocal=function(t,e){var r=[t,e],n=this.invTransform;return n&&V.applyTransform(r,r,n),r},St.transformCoordToGlobal=function(t,e){var r=[t,e],n=this.transform;return n&&V.applyTransform(r,r,n),r},Tt.getLocalTransform=function(t,e){bt(e=e||[]);var r=t.origin,n=t.scale||[1,1],i=t.rotation||0,a=t.position||[0,0];return r&&(e[4]-=r[0],e[5]-=r[1]),xt.scale(e,e,n),i&&xt.rotate(e,e,i),r&&(e[4]+=r[0],e[5]+=r[1]),e[4]+=a[0],e[5]+=a[1],e};var Lt=Tt,Mt={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Mt.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Mt.bounceIn(2*t):.5*Mt.bounceOut(2*t-1)+.5}},zt=Mt;function Ot(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}Ot.prototype={constructor:Ot,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var r=(t-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var n=this.easing,i="string"==typeof n?zt[n]:n,a="function"==typeof i?i(r):r;return this.fire("frame",a),1===r?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Rt=Ot,Et=function(){this.head=null,this.tail=null,this._len=0},Dt=Et.prototype;Dt.insert=function(t){var e=new It(t);return this.insertEntry(e),e},Dt.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Dt.remove=function(t){var e=t.prev,r=t.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Dt.len=function(){return this._len},Dt.clear=function(){this.head=this.tail=null,this._len=0};var It=function(t){this.value=t,this.next,this.prev},Bt=function(t){this._list=new Et,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Ft=Bt.prototype;Ft.put=function(t,e){var r=this._list,n=this._map,i=null;if(null==n[t]){var a=r.len(),o=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var s=r.head;r.remove(s),delete n[s.key],i=s.value,this._lastRemovedEntry=s}o?o.value=e:o=new It(e),o.key=t,r.insertEntry(o),n[t]=o}return i},Ft.get=function(t){var e=this._map[t],r=this._list;if(null!=e)return e!==r.tail&&(r.remove(e),r.insertEntry(e)),e.value},Ft.clear=function(){this._list.clear(),this._map={}};var jt=Bt,Wt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Nt(t){return(t=Math.round(t))<0?0:t>255?255:t}function Ht(t){return t<0?0:t>1?1:t}function qt(t){return t.length&&"%"===t.charAt(t.length-1)?Nt(parseFloat(t)/100*255):Nt(parseInt(t,10))}function Ut(t){return t.length&&"%"===t.charAt(t.length-1)?Ht(parseFloat(t)/100):Ht(parseFloat(t))}function Vt(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function Xt(t,e,r){return t+(e-t)*r}function Yt(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function $t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var Gt=new jt(20),Zt=null;function Qt(t,e){Zt&&$t(Zt,e),Zt=Gt.put(t,Zt||e.slice())}function Kt(t,e){if(t){e=e||[];var r=Gt.get(t);if(r)return $t(e,r);var n,i=(t+="").replace(/ /g,"").toLowerCase();if(i in Wt)return $t(e,Wt[i]),Qt(t,e),e;if("#"===i.charAt(0))return 4===i.length?(n=parseInt(i.substr(1),16))>=0&&n<=4095?(Yt(e,(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1),Qt(t,e),e):void Yt(e,0,0,0,1):7===i.length?(n=parseInt(i.substr(1),16))>=0&&n<=16777215?(Yt(e,(16711680&n)>>16,(65280&n)>>8,255&n,1),Qt(t,e),e):void Yt(e,0,0,0,1):void 0;var a=i.indexOf("("),o=i.indexOf(")");if(-1!==a&&o+1===i.length){var s=i.substr(0,a),u=i.substr(a+1,o-(a+1)).split(","),l=1;switch(s){case"rgba":if(4!==u.length)return void Yt(e,0,0,0,1);l=Ut(u.pop());case"rgb":return 3!==u.length?void Yt(e,0,0,0,1):(Yt(e,qt(u[0]),qt(u[1]),qt(u[2]),l),Qt(t,e),e);case"hsla":return 4!==u.length?void Yt(e,0,0,0,1):(u[3]=Ut(u[3]),Jt(u,e),Qt(t,e),e);case"hsl":return 3!==u.length?void Yt(e,0,0,0,1):(Jt(u,e),Qt(t,e),e);default:return}}Yt(e,0,0,0,1)}}function Jt(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=Ut(t[1]),i=Ut(t[2]),a=i<=.5?i*(n+1):i+n-i*n,o=2*i-a;return Yt(e=e||[],Nt(255*Vt(o,a,r+1/3)),Nt(255*Vt(o,a,r)),Nt(255*Vt(o,a,r-1/3)),1),4===t.length&&(e[3]=t[3]),e}function te(t,e,r){if(e&&e.length&&t>=0&&t<=1){r=r||[];var n=t*(e.length-1),i=Math.floor(n),a=Math.ceil(n),o=e[i],s=e[a],u=n-i;return r[0]=Nt(Xt(o[0],s[0],u)),r[1]=Nt(Xt(o[1],s[1],u)),r[2]=Nt(Xt(o[2],s[2],u)),r[3]=Ht(Xt(o[3],s[3],u)),r}}function ee(t,e,r){if(e&&e.length&&t>=0&&t<=1){var n=t*(e.length-1),i=Math.floor(n),a=Math.ceil(n),o=Kt(e[i]),s=Kt(e[a]),u=n-i,l=re([Nt(Xt(o[0],s[0],u)),Nt(Xt(o[1],s[1],u)),Nt(Xt(o[2],s[2],u)),Ht(Xt(o[3],s[3],u))],"rgba");return r?{color:l,leftIndex:i,rightIndex:a,value:n}:l}}function re(t,e){if(t&&t.length){var r=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(r+=","+t[3]),e+"("+r+")"}}var ne={parse:Kt,lift:function(t,e){var r=Kt(t);if(r){for(var n=0;n<3;n++)r[n]=e<0?r[n]*(1-e)|0:(255-r[n])*e+r[n]|0,r[n]>255?r[n]=255:t[n]<0&&(r[n]=0);return re(r,4===r.length?"rgba":"rgb")}},toHex:function(t){var e=Kt(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},fastLerp:te,fastMapToColor:te,lerp:ee,mapToColor:ee,modifyHSL:function(t,e,r,n){if(t=Kt(t))return t=function(t){if(t){var e,r,n=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(n,i,a),s=Math.max(n,i,a),u=s-o,l=(s+o)/2;if(0===u)e=0,r=0;else{r=l<.5?u/(s+o):u/(2-s-o);var h=((s-n)/6+u/2)/u,c=((s-i)/6+u/2)/u,f=((s-a)/6+u/2)/u;n===s?e=f-c:i===s?e=1/3+h-f:a===s&&(e=2/3+c-h),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,r,l];return null!=t[3]&&d.push(t[3]),d}}(t),null!=e&&(t[0]=function(t){return(t=Math.round(t))<0?0:t>360?360:t}(e)),null!=r&&(t[1]=Ut(r)),null!=n&&(t[2]=Ut(n)),re(Jt(t),"rgba")},modifyAlpha:function(t,e){if((t=Kt(t))&&null!=e)return t[3]=Ht(e),re(t,"rgba")},stringify:re},ie=j.isArrayLike,ae=Array.prototype.slice;function oe(t,e){return t[e]}function se(t,e,r){t[e]=r}function ue(t,e,r){return(e-t)*r+t}function le(t,e,r){return r>.5?e:t}function he(t,e,r,n,i){var a=t.length;if(1===i)for(var o=0;o<a;o++)n[o]=ue(t[o],e[o],r);else{var s=a&&t[0].length;for(o=0;o<a;o++)for(var u=0;u<s;u++)n[o][u]=ue(t[o][u],e[o][u],r)}}function ce(t,e,r){var n=t.length,i=e.length;if(n!==i)if(n>i)t.length=i;else for(var a=n;a<i;a++)t.push(1===r?e[a]:ae.call(e[a]));var o=t[0]&&t[0].length;for(a=0;a<t.length;a++)if(1===r)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function fe(t,e,r){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===r){for(var i=0;i<n;i++)if(t[i]!==e[i])return!1}else{var a=t[0].length;for(i=0;i<n;i++)for(var o=0;o<a;o++)if(t[i][o]!==e[i][o])return!1}return!0}function de(t,e,r,n,i,a,o,s,u){var l=t.length;if(1===u)for(var h=0;h<l;h++)s[h]=pe(t[h],e[h],r[h],n[h],i,a,o);else{var c=t[0].length;for(h=0;h<l;h++)for(var f=0;f<c;f++)s[h][f]=pe(t[h][f],e[h][f],r[h][f],n[h][f],i,a,o)}}function pe(t,e,r,n,i,a,o){var s=.5*(r-t),u=.5*(n-e);return(2*(e-r)+s+u)*o+(-3*(e-r)-2*s-u)*a+s*i+e}function ve(t){if(ie(t)){var e=t.length;if(ie(t[0])){for(var r=[],n=0;n<e;n++)r.push(ae.call(t[n]));return r}return ae.call(t)}return t}function ge(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function _e(t,e,r,n,i,a){var o=t._getter,s=t._setter,u="spline"===e,l=n.length;if(l){var h,c=n[0].value,f=ie(c),d=!1,p=!1,v=f?function(t){var e=t[t.length-1].value;return ie(e&&e[0])?2:1}(n):0;n.sort(function(t,e){return t.time-e.time}),h=n[l-1].time;for(var g=[],_=[],y=n[0].value,m=!0,x=0;x<l;x++){g.push(n[x].time/h);var b=n[x].value;if(f&&fe(b,y,v)||!f&&b===y||(m=!1),y=b,"string"==typeof b){var w=ne.parse(b);w?(b=w,d=!0):p=!0}_.push(b)}if(a||!m){var k=_[l-1];for(x=0;x<l-1;x++)f?ce(_[x],k,v):!isNaN(_[x])||isNaN(k)||p||d||(_[x]=k);f&&ce(o(t._target,i),k,v);var T,S,A,P,C,L=0,M=0;if(d)var z=[0,0,0,0];var O=new Rt({target:t._target,life:h,loop:t._loop,delay:t._delay,onframe:function(t,e){var r;if(e<0)r=0;else if(e<M){for(r=Math.min(L+1,l-1);r>=0&&!(g[r]<=e);r--);r=Math.min(r,l-2)}else{for(r=L;r<l&&!(g[r]>e);r++);r=Math.min(r-1,l-2)}L=r,M=e;var n=g[r+1]-g[r];if(0!==n)if(T=(e-g[r])/n,u)if(A=_[r],S=_[0===r?r:r-1],P=_[r>l-2?l-1:r+1],C=_[r>l-3?l-1:r+2],f)de(S,A,P,C,T,T*T,T*T*T,o(t,i),v);else{if(d)a=de(S,A,P,C,T,T*T,T*T*T,z,1),a=ge(z);else{if(p)return le(A,P,T);a=pe(S,A,P,C,T,T*T,T*T*T)}s(t,i,a)}else if(f)he(_[r],_[r+1],T,o(t,i),v);else{var a;if(d)he(_[r],_[r+1],T,z,1),a=ge(z);else{if(p)return le(_[r],_[r+1],T);a=ue(_[r],_[r+1],T)}s(t,i,a)}},ondestroy:r});return e&&"spline"!==e&&(O.easing=e),O}}}var ye=function(t,e,r,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=r||oe,this._setter=n||se,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};ye.prototype={when:function(t,e){var r=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!r[n]){r[n]=[];var i=this._getter(this._target,n);if(null==i)continue;0!==t&&r[n].push({time:0,value:ve(i)})}r[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,r=0;r<e;r++)t[r].call(this)},start:function(t,e){var r,n=this,i=0,a=function(){--i||n._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=_e(this,t,a,this._tracks[o],o,e);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),r=s)}if(r){var u=r.onframe;r.onframe=function(t,e){u(t,e);for(var r=0;r<n._onframeList.length;r++)n._onframeList[r](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,r=this.animation,n=0;n<e.length;n++){var i=e[n];t&&i.onframe(this._target,1),r&&r.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var me=ye,xe=1;"undefined"!=typeof window&&(xe=Math.max(window.devicePixelRatio||1,1));var be={debugMode:0,devicePixelRatio:xe},we=function(){},ke=j.isString,Te=j.isFunction,Se=j.isObject,Ae=j.isArrayLike,Pe=j.indexOf,Ce=function(){this.animators=[]};function Le(t,e,r,n,i,a,o,s){ke(n)?(a=i,i=n,n=0):Te(i)?(a=i,i="linear",n=0):Te(n)?(a=n,n=0):Te(r)?(a=r,r=500):r||(r=500),t.stopAnimation(),function t(e,r,n,i,a,o,s){var u={};var l=0;for(var h in i)i.hasOwnProperty(h)&&(null!=n[h]?Se(i[h])&&!Ae(i[h])?t(e,r?r+"."+h:h,n[h],i[h],a,o,s):(s?(u[h]=n[h],Me(e,r,h,i[h])):u[h]=i[h],l++):null==i[h]||s||Me(e,r,h,i[h]));l>0&&e.animate(r,!1).when(null==a?500:a,u).delay(o||0)}(t,"",t,e,r,n,s);var u=t.animators.slice(),l=u.length;function h(){--l||a&&a()}l||a&&a();for(var c=0;c<u.length;c++)u[c].done(h).start(i,o)}function Me(t,e,r,n){if(e){var i={};i[e]={},i[e][r]=n,t.attr(i)}else t.attr(r,n)}Ce.prototype={constructor:Ce,animate:function(t,e){var r,n=!1,i=this,a=this.__zr;if(t){var o=t.split("."),s=i;n="shape"===o[0];for(var u=0,l=o.length;u<l;u++)s&&(s=s[o[u]]);s&&(r=s)}else r=i;if(r){var h=i.animators,c=new me(r,e);return c.during(function(t){i.dirty(n)}).done(function(){h.splice(Pe(h,c),1)}),h.push(c),a&&a.animation.addAnimator(c),c}we('Property "'+t+'" is not existed in element '+i.id)},stopAnimation:function(t){for(var e=this.animators,r=e.length,n=0;n<r;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,r,n,i,a){Le(this,t,e,r,n,i,a)},animateFrom:function(t,e,r,n,i,a){Le(this,t,e,r,n,i,a,!0)}};var ze=Ce,Oe=function(t){Lt.call(this,t),K.call(this,t),ze.call(this,t),this.id=t.id||d()};Oe.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var r=this[t];r||(r=this[t]=[]),r[0]=e[0],r[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(j.isObject(t))for(var r in t)t.hasOwnProperty(r)&&this.attrKV(r,t[r]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.addAnimator(e[r]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.removeAnimator(e[r]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},j.mixin(Oe,ze),j.mixin(Oe,Lt),j.mixin(Oe,K);var Re,Ee,De,Ie,Be=Oe,Fe=V.applyTransform,je=Math.min,We=Math.max;function Ne(t,e,r,n){r<0&&(t+=r,r=-r),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=r,this.height=n}Ne.prototype={constructor:Ne,union:function(t){var e=je(t.x,this.x),r=je(t.y,this.y);this.width=We(t.x+t.width,this.x+this.width)-e,this.height=We(t.y+t.height,this.y+this.height)-r,this.x=e,this.y=r},applyTransform:(Re=[],Ee=[],De=[],Ie=[],function(t){if(t){Re[0]=De[0]=this.x,Re[1]=Ie[1]=this.y,Ee[0]=Ie[0]=this.x+this.width,Ee[1]=De[1]=this.y+this.height,Fe(Re,Re,t),Fe(Ee,Ee,t),Fe(De,De,t),Fe(Ie,Ie,t),this.x=je(Re[0],Ee[0],De[0],Ie[0]),this.y=je(Re[1],Ee[1],De[1],Ie[1]);var e=We(Re[0],Ee[0],De[0],Ie[0]),r=We(Re[1],Ee[1],De[1],Ie[1]);this.width=e-this.x,this.height=r-this.y}}),calculateTransform:function(t){var e=this,r=t.width/e.width,n=t.height/e.height,i=xt.create();return xt.translate(i,i,[-e.x,-e.y]),xt.scale(i,i,[r,n]),xt.translate(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof Ne||(t=Ne.create(t));var e=this,r=e.x,n=e.x+e.width,i=e.y,a=e.y+e.height,o=t.x,s=t.x+t.width,u=t.y,l=t.y+t.height;return!(n<o||s<r||a<u||l<i)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new Ne(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Ne.create=function(t){return new Ne(t.x,t.y,t.width,t.height)};var He=Ne,qe=function(t){for(var e in t=t||{},Be.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};qe.prototype={constructor:qe,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,r=0;r<e.length;r++)if(e[r].name===t)return e[r]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var r=this._children,n=r.indexOf(e);n>=0&&(r.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,r=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof qe&&t.addChildrenToStorage(e)),r&&r.refresh()},remove:function(t){var e=this.__zr,r=this.__storage,n=this._children,i=j.indexOf(n,t);return i<0?this:(n.splice(i,1),t.parent=null,r&&(r.delFromStorage(t),t instanceof qe&&t.delChildrenFromStorage(r)),e&&e.refresh(),this)},removeAll:function(){var t,e,r=this._children,n=this.__storage;for(e=0;e<r.length;e++)t=r[e],n&&(n.delFromStorage(t),t instanceof qe&&t.delChildrenFromStorage(n)),t.parent=null;return r.length=0,this},eachChild:function(t,e){for(var r=this._children,n=0;n<r.length;n++){var i=r[n];t.call(e,i,n)}return this},traverse:function(t,e){for(var r=0;r<this._children.length;r++){var n=this._children[r];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var r=this._children[e];t.addToStorage(r),r instanceof qe&&r.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var r=this._children[e];t.delFromStorage(r),r instanceof qe&&r.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,r=new He(0,0,0,0),n=t||this._children,i=[],a=0;a<n.length;a++){var o=n[a];if(!o.ignore&&!o.invisible){var s=o.getBoundingRect(),u=o.getLocalTransform(i);u?(r.copy(s),r.applyTransform(u),(e=e||r.clone()).union(r)):(e=e||s.clone()).union(s)}}return e||r}},j.inherits(qe,Be);var Ue=qe,Ve=32,Xe=7;function Ye(t,e,r,n){var i=e+1;if(i===r)return 1;if(n(t[i++],t[e])<0){for(;i<r&&n(t[i],t[i-1])<0;)i++;!function(t,e,r){r--;for(;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}(t,e,i)}else for(;i<r&&n(t[i],t[i-1])>=0;)i++;return i-e}function $e(t,e,r,n,i){for(n===e&&n++;n<r;n++){for(var a,o=t[n],s=e,u=n;s<u;)i(o,t[a=s+u>>>1])<0?u=a:s=a+1;var l=n-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=o}}function Ge(t,e,r,n,i,a){var o=0,s=0,u=1;if(a(t,e[r+i])>0){for(s=n-i;u<s&&a(t,e[r+i+u])>0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{for(s=i+1;u<s&&a(t,e[r+i-u])<=0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}for(o++;o<u;){var h=o+(u-o>>>1);a(t,e[r+h])>0?o=h+1:u=h}return u}function Ze(t,e,r,n,i,a){var o=0,s=0,u=1;if(a(t,e[r+i])<0){for(s=i+1;u<s&&a(t,e[r+i-u])<0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}else{for(s=n-i;u<s&&a(t,e[r+i+u])>=0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}for(o++;o<u;){var h=o+(u-o>>>1);a(t,e[r+h])<0?u=h:o=h+1}return u}function Qe(t,e){var r,n,i=Xe,a=0;t.length;var o=[];function s(s){var u=r[s],l=n[s],h=r[s+1],c=n[s+1];n[s]=l+c,s===a-3&&(r[s+1]=r[s+2],n[s+1]=n[s+2]),a--;var f=Ze(t[h],t,u,l,0,e);u+=f,0!==(l-=f)&&0!==(c=Ge(t[u+l-1],t,h,c,c-1,e))&&(l<=c?function(r,n,a,s){var u=0;for(u=0;u<n;u++)o[u]=t[r+u];var l=0,h=a,c=r;if(t[c++]=t[h++],0==--s){for(u=0;u<n;u++)t[c+u]=o[l+u];return}if(1===n){for(u=0;u<s;u++)t[c+u]=t[h+u];return void(t[c+s]=o[l])}var f,d,p,v=i;for(;;){f=0,d=0,p=!1;do{if(e(t[h],o[l])<0){if(t[c++]=t[h++],d++,f=0,0==--s){p=!0;break}}else if(t[c++]=o[l++],f++,d=0,1==--n){p=!0;break}}while((f|d)<v);if(p)break;do{if(0!==(f=Ze(t[h],o,l,n,0,e))){for(u=0;u<f;u++)t[c+u]=o[l+u];if(c+=f,l+=f,(n-=f)<=1){p=!0;break}}if(t[c++]=t[h++],0==--s){p=!0;break}if(0!==(d=Ge(o[l],t,h,s,0,e))){for(u=0;u<d;u++)t[c+u]=t[h+u];if(c+=d,h+=d,0===(s-=d)){p=!0;break}}if(t[c++]=o[l++],1==--n){p=!0;break}v--}while(f>=Xe||d>=Xe);if(p)break;v<0&&(v=0),v+=2}if((i=v)<1&&(i=1),1===n){for(u=0;u<s;u++)t[c+u]=t[h+u];t[c+s]=o[l]}else{if(0===n)throw new Error;for(u=0;u<n;u++)t[c+u]=o[l+u]}}(u,l,h,c):function(r,n,a,s){var u=0;for(u=0;u<s;u++)o[u]=t[a+u];var l=r+n-1,h=s-1,c=a+s-1,f=0,d=0;if(t[c--]=t[l--],0==--n){for(f=c-(s-1),u=0;u<s;u++)t[f+u]=o[u];return}if(1===s){for(d=(c-=n)+1,f=(l-=n)+1,u=n-1;u>=0;u--)t[d+u]=t[f+u];return void(t[c]=o[h])}var p=i;for(;;){var v=0,g=0,_=!1;do{if(e(o[h],t[l])<0){if(t[c--]=t[l--],v++,g=0,0==--n){_=!0;break}}else if(t[c--]=o[h--],g++,v=0,1==--s){_=!0;break}}while((v|g)<p);if(_)break;do{if(0!==(v=n-Ze(o[h],t,r,n,n-1,e))){for(n-=v,d=(c-=v)+1,f=(l-=v)+1,u=v-1;u>=0;u--)t[d+u]=t[f+u];if(0===n){_=!0;break}}if(t[c--]=o[h--],1==--s){_=!0;break}if(0!==(g=s-Ge(t[l],o,0,s,s-1,e))){for(s-=g,d=(c-=g)+1,f=(h-=g)+1,u=0;u<g;u++)t[d+u]=o[f+u];if(s<=1){_=!0;break}}if(t[c--]=t[l--],0==--n){_=!0;break}p--}while(v>=Xe||g>=Xe);if(_)break;p<0&&(p=0),p+=2}(i=p)<1&&(i=1);if(1===s){for(d=(c-=n)+1,f=(l-=n)+1,u=n-1;u>=0;u--)t[d+u]=t[f+u];t[c]=o[h]}else{if(0===s)throw new Error;for(f=c-(s-1),u=0;u<s;u++)t[f+u]=o[u]}}(u,l,h,c))}r=[],n=[],this.mergeRuns=function(){for(;a>1;){var t=a-2;if(t>=1&&n[t-1]<=n[t]+n[t+1]||t>=2&&n[t-2]<=n[t]+n[t-1])n[t-1]<n[t+1]&&t--;else if(n[t]>n[t+1])break;s(t)}},this.forceMergeRuns=function(){for(;a>1;){var t=a-2;t>0&&n[t-1]<n[t+1]&&t--,s(t)}},this.pushRun=function(t,e){r[a]=t,n[a]=e,a+=1}}var Ke=function(t,e,r,n){r||(r=0),n||(n=t.length);var i=n-r;if(!(i<2)){var a=0;if(i<Ve)$e(t,r,n,r+(a=Ye(t,r,n,e)),e);else{var o=new Qe(t,e),s=function(t){for(var e=0;t>=Ve;)e|=1&t,t>>=1;return t+e}(i);do{if((a=Ye(t,r,n,e))<s){var u=i;u>s&&(u=s),$e(t,r,r+u,r+a,e),a=u}o.pushRun(r,a),o.mergeRuns(),i-=a,r+=a}while(0!==i);o.forceMergeRuns()}}};function Je(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var tr=function(){this._roots=[],this._displayList=[],this._displayListLen=0};tr.prototype={constructor:tr,traverse:function(t,e){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,r=this._displayList,n=0,i=e.length;n<i;n++)this._updateAndAddDisplayable(e[n],null,t);r.length=this._displayListLen,p.canvasSupported&&Ke(r,Je)},_updateAndAddDisplayable:function(t,e,r){if(!t.ignore||r){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var i=n,a=t;i;)i.parent=a,i.updateTransform(),e.push(i),a=i,i=i.clipPath}if(t.isGroup){for(var o=t._children,s=0;s<o.length;s++){var u=o[s];t.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,e,r)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Ue&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var r=this._roots[e];r instanceof Ue&&r.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var n=t.length;e<n;e++)this.delRoot(t[e])}else{var i=j.indexOf(this._roots,t);i>=0&&(this.delFromStorage(t),this._roots.splice(i,1),t instanceof Ue&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Je};var er=tr,rr={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};var nr=function(t,e,r){return rr.hasOwnProperty(e)?r*t.dpr:r},ir={ContextCachedBy:{NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},WILL_BE_RESTORED:9},ar=ir.ContextCachedBy,or=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],sr=function(t){this.extendFrom(t,!1)};function ur(t,e,r){var n=null==e.x?0:e.x,i=null==e.x2?1:e.x2,a=null==e.y?0:e.y,o=null==e.y2?0:e.y2;return e.global||(n=n*r.width+r.x,i=i*r.width+r.x,a=a*r.height+r.y,o=o*r.height+r.y),n=isNaN(n)?0:n,i=isNaN(i)?1:i,a=isNaN(a)?0:a,o=isNaN(o)?0:o,t.createLinearGradient(n,a,i,o)}function lr(t,e,r){var n=r.width,i=r.height,a=Math.min(n,i),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,u=null==e.r?.5:e.r;return e.global||(o=o*n+r.x,s=s*i+r.y,u*=a),t.createRadialGradient(o,s,0,o,s,u)}for(var hr=sr.prototype={constructor:sr,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,r){var n=r&&r.style,i=!n||t.__attrCachedBy!==ar.STYLE_BIND;t.__attrCachedBy=ar.STYLE_BIND;for(var a=0;a<or.length;a++){var o=or[a],s=o[0];(i||this[s]!==n[s])&&(t[s]=nr(t,s,this[s]||o[1]))}if((i||this.fill!==n.fill)&&(t.fillStyle=this.fill),(i||this.stroke!==n.stroke)&&(t.strokeStyle=this.stroke),(i||this.opacity!==n.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(i||this.blend!==n.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var u=this.lineWidth;t.lineWidth=u/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var r in t)!t.hasOwnProperty(r)||!0!==e&&(!1===e?this.hasOwnProperty(r):null==t[r])||(this[r]=t[r])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,r){for(var n=("radial"===e.type?lr:ur)(t,e,r),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}},cr=0;cr<or.length;cr++){var fr=or[cr];fr[0]in hr||(hr[fr[0]]=fr[1])}sr.getGradient=hr.getGradient;var dr=sr,pr=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};pr.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var vr=pr,gr=be.devicePixelRatio;function _r(){return!1}function yr(t,e,r){var n=j.createCanvas(),i=e.getWidth(),a=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left=0,o.top=0,o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=i*r,n.height=a*r,n}var mr=function(t,e,r){var n;r=r||gr,"string"==typeof t?n=yr(t,e,r):j.isObject(t)&&(t=(n=t).id),this.id=t,this.dom=n;var i=n.style;i&&(n.onselectstart=_r,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};mr.prototype={constructor:mr,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=yr("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var r=this.dpr,n=this.dom,i=n.style,a=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),n.width=t*r,n.height=e*r,a&&(a.width=t*r,a.height=e*r,1!==r&&this.ctxBack.scale(r,r))},clear:function(t,e){var r,n=this.dom,i=this.ctx,a=n.width,o=n.height,s=(e=e||this.clearColor,this.motionBlur&&!t),u=this.lastFrameAlpha,l=this.dpr;(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,a/l,o/l)),i.clearRect(0,0,a,o),e&&"transparent"!==e)&&(e.colorStops?(r=e.__canvasGradient||dr.getGradient(i,e,{x:0,y:0,width:a,height:o}),e.__canvasGradient=r):e.image&&(r=vr.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=r||e,i.fillRect(0,0,a,o),i.restore());if(s){var h=this.domBack;i.save(),i.globalAlpha=u,i.drawImage(h,0,0,a,o),i.restore()}}};var xr=mr,br="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},wr=new jt(50);function kr(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function Tr(t){return t&&t.width&&t.height}var Sr={findExistImage:function(t){if("string"==typeof t){var e=wr.get(t);return e&&e.image}return t},createOrUpdateImage:function(t,e,r,n,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!r)return e;var a=wr.get(t),o={hostEl:r,cb:n,cbPayload:i};return a?!Tr(e=a.image)&&a.pending.push(o):((e=new Image).onload=e.onerror=kr,wr.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return t}return e},isImageReady:Tr},Ar=j.getContext,Pr=j.extend,Cr=j.retrieve2,Lr=j.retrieve3,Mr=j.trim,zr={},Or=0,Rr=5e3,Er=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Dr="12px sans-serif",Ir={};function Br(t,e){var r=t+":"+(e=e||Dr);if(zr[r])return zr[r];for(var n=(t+"").split("\n"),i=0,a=0,o=n.length;a<o;a++)i=Math.max(Vr(n[a],e).width,i);return Or>Rr&&(Or=0,zr={}),Or++,zr[r]=i,i}function Fr(t,e,r){return"right"===r?t-=e:"center"===r&&(t-=e/2),t}function jr(t,e,r){return"middle"===r?t-=e/2:"bottom"===r&&(t-=e),t}function Wr(t,e,r,n,i){if(!e)return"";var a=(t+"").split("\n");i=Nr(e,r,n,i);for(var o=0,s=a.length;o<s;o++)a[o]=Hr(a[o],i);return a.join("\n")}function Nr(t,e,r,n){(n=Pr({},n)).font=e;r=Cr(r,"...");n.maxIterations=Cr(n.maxIterations,2);var i=n.minChar=Cr(n.minChar,0);n.cnCharWidth=Br("\u56fd",e);var a=n.ascCharWidth=Br("a",e);n.placeholder=Cr(n.placeholder,"");for(var o=t=Math.max(0,t-1),s=0;s<i&&o>=a;s++)o-=a;var u=Br(r,e);return u>o&&(r="",u=0),o=t-u,n.ellipsis=r,n.ellipsisWidth=u,n.contentWidth=o,n.containerWidth=t,n}function Hr(t,e){var r=e.containerWidth,n=e.font,i=e.contentWidth;if(!r)return"";var a=Br(t,n);if(a<=r)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?qr(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;a=Br(t=t.substr(0,s),n)}return""===t&&(t=e.placeholder),t}function qr(t,e,r,n){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?r:n}return a}function Ur(t){return Br("\u56fd",t)}function Vr(t,e){return Ir.measureText(t,e)}function Xr(t,e,r,n,i){null!=t&&(t+="");var a=Cr(n,Ur(e)),o=t?t.split("\n"):[],s=o.length*a,u=s;if(r&&(u+=r[0]+r[2]),t&&i){var l=i.outerHeight,h=i.outerWidth;if(null!=l&&u>l)t="",o=[];else if(null!=h)for(var c=Nr(h-(r?r[1]+r[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),f=0,d=o.length;f<d;f++)o[f]=Hr(o[f],c)}return{lines:o,height:s,outerHeight:u,lineHeight:a}}function Yr(t,e){var r={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return r;for(var n,i=Er.lastIndex=0;null!=(n=Er.exec(t));){var a=n.index;a>i&&$r(r,t.substring(i,a)),$r(r,n[2],n[1]),i=Er.lastIndex}i<t.length&&$r(r,t.substring(i,t.length));var o=r.lines,s=0,u=0,l=[],h=e.textPadding,c=e.truncate,f=c&&c.outerWidth,d=c&&c.outerHeight;h&&(null!=f&&(f-=h[1]+h[3]),null!=d&&(d-=h[0]+h[2]));for(var p=0;p<o.length;p++){for(var v=o[p],g=0,_=0,y=0;y<v.tokens.length;y++){var m=(L=v.tokens[y]).styleName&&e.rich[L.styleName]||{},x=L.textPadding=m.textPadding,b=L.font=m.font||e.font,w=L.textHeight=Cr(m.textHeight,Ur(b));if(x&&(w+=x[0]+x[2]),L.height=w,L.lineHeight=Lr(m.textLineHeight,e.textLineHeight,w),L.textAlign=m&&m.textAlign||e.textAlign,L.textVerticalAlign=m&&m.textVerticalAlign||"middle",null!=d&&s+L.lineHeight>d)return{lines:[],width:0,height:0};L.textWidth=Br(L.text,b);var k=m.textWidth,T=null==k||"auto"===k;if("string"==typeof k&&"%"===k.charAt(k.length-1))L.percentWidth=k,l.push(L),k=0;else{if(T){k=L.textWidth;var S=m.textBackgroundColor,A=S&&S.image;A&&(A=Sr.findExistImage(A),Sr.isImageReady(A)&&(k=Math.max(k,A.width*w/A.height)))}var P=x?x[1]+x[3]:0;k+=P;var C=null!=f?f-_:null;null!=C&&C<k&&(!T||C<P?(L.text="",L.textWidth=k=0):(L.text=Wr(L.text,C-P,b,c.ellipsis,{minChar:c.minChar}),L.textWidth=Br(L.text,b),k=L.textWidth+P))}_+=L.width=k,m&&(g=Math.max(g,L.lineHeight))}v.width=_,v.lineHeight=g,s+=g,u=Math.max(u,_)}r.outerWidth=r.width=Cr(e.textWidth,u),r.outerHeight=r.height=Cr(e.textHeight,s),h&&(r.outerWidth+=h[1]+h[3],r.outerHeight+=h[0]+h[2]);for(p=0;p<l.length;p++){var L,M=(L=l[p]).percentWidth;L.width=parseInt(M,10)/100*u}return r}function $r(t,e,r){for(var n=""===e,i=e.split("\n"),a=t.lines,o=0;o<i.length;o++){var s=i[o],u={styleName:r,text:s,isLineHolder:!s&&!n};if(o)a.push({tokens:[u]});else{var l=(a[a.length-1]||(a[0]={tokens:[]})).tokens,h=l.length;1===h&&l[0].isLineHolder?l[0]=u:(s||!h||n)&&l.push(u)}}}Ir.measureText=function(t,e){var r=Ar();return r.font=e||Dr,r.measureText(t)};var Gr={DEFAULT_FONT:Dr,$override:function(t,e){Ir[t]=e},getWidth:Br,getBoundingRect:function(t,e,r,n,i,a,o,s){return o?function(t,e,r,n,i,a,o,s){var u=Yr(t,{rich:o,truncate:s,font:e,textAlign:r,textPadding:i,textLineHeight:a}),l=u.outerWidth,h=u.outerHeight,c=Fr(0,l,r),f=jr(0,h,n);return new He(c,f,l,h)}(t,e,r,n,i,a,o,s):function(t,e,r,n,i,a,o){var s=Xr(t,e,i,a,o),u=Br(t,e);i&&(u+=i[1]+i[3]);var l=s.outerHeight,h=Fr(0,u,r),c=jr(0,l,n),f=new He(h,c,u,l);return f.lineHeight=s.lineHeight,f}(t,e,r,n,i,a,s)},adjustTextX:Fr,adjustTextY:jr,adjustTextPositionOnRect:function(t,e,r){var n=e.x,i=e.y,a=e.height,o=e.width,s=a/2,u="left",l="top";switch(t){case"left":n-=r,i+=s,u="right",l="middle";break;case"right":n+=r+o,i+=s,l="middle";break;case"top":n+=o/2,i-=r,u="center",l="bottom";break;case"bottom":n+=o/2,i+=a+r,u="center";break;case"inside":n+=o/2,i+=s,u="center",l="middle";break;case"insideLeft":n+=r,i+=s,l="middle";break;case"insideRight":n+=o-r,i+=s,u="right",l="middle";break;case"insideTop":n+=o/2,i+=r,u="center";break;case"insideBottom":n+=o/2,i+=a-r,u="center",l="bottom";break;case"insideTopLeft":n+=r,i+=r;break;case"insideTopRight":n+=o-r,i+=r,u="right";break;case"insideBottomLeft":n+=r,i+=a-r,l="bottom";break;case"insideBottomRight":n+=o-r,i+=a-r,u="right",l="bottom"}return{x:n,y:i,textAlign:u,textVerticalAlign:l}},truncateText:Wr,getLineHeight:Ur,measureText:Vr,parsePlainText:Xr,parseRichText:Yr,makeFont:function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&Mr(e)||t.textFont||t.font}};var Zr={buildPath:function(t,e){var r,n,i,a,o,s=e.x,u=e.y,l=e.width,h=e.height,c=e.r;l<0&&(s+=l,l=-l),h<0&&(u+=h,h=-h),"number"==typeof c?r=n=i=a=c:c instanceof Array?1===c.length?r=n=i=a=c[0]:2===c.length?(r=i=c[0],n=a=c[1]):3===c.length?(r=c[0],n=a=c[1],i=c[2]):(r=c[0],n=c[1],i=c[2],a=c[3]):r=n=i=a=0,r+n>l&&(r*=l/(o=r+n),n*=l/o),i+a>l&&(i*=l/(o=i+a),a*=l/o),n+i>h&&(n*=h/(o=n+i),i*=h/o),r+a>h&&(r*=h/(o=r+a),a*=h/o),t.moveTo(s+r,u),t.lineTo(s+l-n,u),0!==n&&t.arc(s+l-n,u+n,n,-Math.PI/2,0),t.lineTo(s+l,u+h-i),0!==i&&t.arc(s+l-i,u+h-i,i,0,Math.PI/2),t.lineTo(s+a,u+h),0!==a&&t.arc(s+a,u+h-a,a,Math.PI/2,Math.PI),t.lineTo(s,u+r),0!==r&&t.arc(s+r,u+r,r,Math.PI,1.5*Math.PI)}},Qr=j.retrieve2,Kr=j.retrieve3,Jr=j.each,tn=j.normalizeCssArray,en=j.isString,rn=j.isObject,nn=ir.ContextCachedBy,an=ir.WILL_BE_RESTORED,on=Gr.DEFAULT_FONT,sn={left:1,right:1,center:1},un={top:1,bottom:1,middle:1},ln=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]];function hn(t){if(t){t.font=Gr.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||sn[e]?e:"left";var r=t.textVerticalAlign||t.textBaseline;"center"===r&&(r="middle"),t.textVerticalAlign=null==r||un[r]?r:"top",t.textPadding&&(t.textPadding=tn(t.textPadding))}}function cn(t,e,r,n,i,a){var o,s=vn(n),u=!1,l=e.__attrCachedBy===nn.PLAIN_TEXT;a!==an?(a&&(o=a.style,u=!s&&l&&o),e.__attrCachedBy=s?nn.NONE:nn.PLAIN_TEXT):l&&(e.__attrCachedBy=nn.NONE);var h=n.font||on;u&&h===(o.font||on)||(e.font=h);var c=t.__computedFont;t.__styleFont!==h&&(t.__styleFont=h,c=t.__computedFont=e.font);var f=n.textPadding,d=n.textLineHeight,p=t.__textCotentBlock;p&&!t.__dirtyText||(p=t.__textCotentBlock=Gr.parsePlainText(r,c,f,d,n.truncate));var v=p.outerHeight,g=p.lines,_=p.lineHeight,y=yn(v,n,i),m=y.baseX,x=y.baseY,b=y.textAlign||"left",w=y.textVerticalAlign;dn(e,n,i,m,x);var k=Gr.adjustTextY(x,v,w),T=m,S=k;if(s||f){var A=Gr.getWidth(r,c);f&&(A+=f[1]+f[3]);var P=Gr.adjustTextX(m,A,b);s&&gn(t,e,n,P,k,A,v),f&&(T=kn(m,b,f),S+=f[0])}e.textAlign=b,e.textBaseline="middle",e.globalAlpha=n.opacity||1;for(var C=0;C<ln.length;C++){var L=ln[C],M=L[0],z=L[1],O=n[M];u&&O===o[M]||(e[z]=nr(e,z,O||L[2]))}S+=_/2;var R=n.textStrokeWidth,E=u?o.textStrokeWidth:null,D=!u||R!==E,I=!u||D||n.textStroke!==o.textStroke,B=xn(n.textStroke,R),F=bn(n.textFill);if(B&&(D&&(e.lineWidth=R),I&&(e.strokeStyle=B)),F&&(u&&n.textFill===o.textFill||(e.fillStyle=F)),1===g.length)B&&e.strokeText(g[0],T,S),F&&e.fillText(g[0],T,S);else for(C=0;C<g.length;C++)B&&e.strokeText(g[C],T,S),F&&e.fillText(g[C],T,S),S+=_}function fn(t,e,r,n,i,a){a!==an&&(e.__attrCachedBy=nn.NONE);var o=t.__textCotentBlock;o&&!t.__dirtyText||(o=t.__textCotentBlock=Gr.parseRichText(r,n)),function(t,e,r,n,i){var a=r.width,o=r.outerWidth,s=r.outerHeight,u=n.textPadding,l=yn(s,n,i),h=l.baseX,c=l.baseY,f=l.textAlign,d=l.textVerticalAlign;dn(e,n,i,h,c);var p=Gr.adjustTextX(h,o,f),v=Gr.adjustTextY(c,s,d),g=p,_=v;u&&(g+=u[3],_+=u[0]);var y=g+a;vn(n)&&gn(t,e,n,p,v,o,s);for(var m=0;m<r.lines.length;m++){for(var x,b=r.lines[m],w=b.tokens,k=w.length,T=b.lineHeight,S=b.width,A=0,P=g,C=y,L=k-1;A<k&&(!(x=w[A]).textAlign||"left"===x.textAlign);)pn(t,e,x,n,T,_,P,"left"),S-=x.width,P+=x.width,A++;for(;L>=0&&"right"===(x=w[L]).textAlign;)pn(t,e,x,n,T,_,C,"right"),S-=x.width,C-=x.width,L--;for(P+=(a-(P-g)-(y-C)-S)/2;A<=L;)x=w[A],pn(t,e,x,n,T,_,P+x.width/2,"center"),P+=x.width,A++;_+=T}}(t,e,o,n,i)}function dn(t,e,r,n,i){if(r&&e.textRotation){var a=e.textOrigin;"center"===a?(n=r.width/2+r.x,i=r.height/2+r.y):a&&(n=a[0]+r.x,i=a[1]+r.y),t.translate(n,i),t.rotate(-e.textRotation),t.translate(-n,-i)}}function pn(t,e,r,n,i,a,o,s){var u=n.rich[r.styleName]||{};u.text=r.text;var l=r.textVerticalAlign,h=a+i/2;"top"===l?h=a+r.height/2:"bottom"===l&&(h=a+i-r.height/2),!r.isLineHolder&&vn(u)&&gn(t,e,u,"right"===s?o-r.width:"center"===s?o-r.width/2:o,h-r.height/2,r.width,r.height);var c=r.textPadding;c&&(o=kn(o,s,c),h-=r.height/2-c[2]-r.textHeight/2),mn(e,"shadowBlur",Kr(u.textShadowBlur,n.textShadowBlur,0)),mn(e,"shadowColor",u.textShadowColor||n.textShadowColor||"transparent"),mn(e,"shadowOffsetX",Kr(u.textShadowOffsetX,n.textShadowOffsetX,0)),mn(e,"shadowOffsetY",Kr(u.textShadowOffsetY,n.textShadowOffsetY,0)),mn(e,"textAlign",s),mn(e,"textBaseline","middle"),mn(e,"font",r.font||on);var f=xn(u.textStroke||n.textStroke,p),d=bn(u.textFill||n.textFill),p=Qr(u.textStrokeWidth,n.textStrokeWidth);f&&(mn(e,"lineWidth",p),mn(e,"strokeStyle",f),e.strokeText(r.text,o,h)),d&&(mn(e,"fillStyle",d),e.fillText(r.text,o,h))}function vn(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function gn(t,e,r,n,i,a,o){var s=r.textBackgroundColor,u=r.textBorderWidth,l=r.textBorderColor,h=en(s);if(mn(e,"shadowBlur",r.textBoxShadowBlur||0),mn(e,"shadowColor",r.textBoxShadowColor||"transparent"),mn(e,"shadowOffsetX",r.textBoxShadowOffsetX||0),mn(e,"shadowOffsetY",r.textBoxShadowOffsetY||0),h||u&&l){e.beginPath();var c=r.textBorderRadius;c?Zr.buildPath(e,{x:n,y:i,width:a,height:o,r:c}):e.rect(n,i,a,o),e.closePath()}if(h)if(mn(e,"fillStyle",s),null!=r.fillOpacity){var f=e.globalAlpha;e.globalAlpha=r.fillOpacity*r.opacity,e.fill(),e.globalAlpha=f}else e.fill();else if(rn(s)){var d=s.image;(d=Sr.createOrUpdateImage(d,null,t,_n,s))&&Sr.isImageReady(d)&&e.drawImage(d,n,i,a,o)}if(u&&l)if(mn(e,"lineWidth",u),mn(e,"strokeStyle",l),null!=r.strokeOpacity){f=e.globalAlpha;e.globalAlpha=r.strokeOpacity*r.opacity,e.stroke(),e.globalAlpha=f}else e.stroke()}function _n(t,e){e.image=t}function yn(t,e,r){var n=e.x||0,i=e.y||0,a=e.textAlign,o=e.textVerticalAlign;if(r){var s=e.textPosition;if(s instanceof Array)n=r.x+wn(s[0],r.width),i=r.y+wn(s[1],r.height);else{var u=Gr.adjustTextPositionOnRect(s,r,e.textDistance);n=u.x,i=u.y,a=a||u.textAlign,o=o||u.textVerticalAlign}var l=e.textOffset;l&&(n+=l[0],i+=l[1])}return{baseX:n,baseY:i,textAlign:a,textVerticalAlign:o}}function mn(t,e,r){return t[e]=nr(t,e,r),t[e]}function xn(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function bn(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function wn(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function kn(t,e,r){return"right"===e?t-r[1]:"center"===e?t+r[3]/2-r[1]/2:t+r[3]}var Tn={normalizeTextStyle:function(t){return hn(t),Jr(t.rich,hn),t},renderText:function(t,e,r,n,i,a){n.rich?fn(t,e,r,n,i,a):cn(t,e,r,n,i,a)},getStroke:xn,getFill:bn,needDrawText:function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},Sn=ir.WILL_BE_RESTORED,An=new He,Pn=function(){};Pn.prototype={constructor:Pn,drawRectText:function(t,e){var r=this.style;e=r.textRect||e,this.__dirty&&Tn.normalizeTextStyle(r,!0);var n=r.text;if(null!=n&&(n+=""),Tn.needDrawText(n,r)){t.save();var i=this.transform;r.transformText?this.setTransform(t):i&&(An.copy(e),An.applyTransform(i),e=An),Tn.renderText(this,t,n,r,e,Sn),t.restore()}}};var Cn=Pn;function Ln(t){for(var e in t=t||{},Be.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new dr(t.style,this),this._rect=null,this.__clipPaths=[]}Ln.prototype={constructor:Ln,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var r=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(r[0],r[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?Be.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new dr(t,this),this.dirty(!1),this}},j.inherits(Ln,Be),j.mixin(Ln,Cn);var Mn=Ln;function zn(t){Mn.call(this,t)}zn.prototype={constructor:zn,type:"image",brush:function(t,e){var r=this.style,n=r.image;r.bind(t,this,e);var i=this._image=Sr.createOrUpdateImage(n,this._image,this,this.onload);if(i&&Sr.isImageReady(i)){var a=r.x||0,o=r.y||0,s=r.width,u=r.height,l=i.width/i.height;if(null==s&&null!=u?s=u*l:null==u&&null!=s?u=s/l:null==s&&null==u&&(s=i.width,u=i.height),this.setTransform(t),r.sWidth&&r.sHeight){var h=r.sx||0,c=r.sy||0;t.drawImage(i,h,c,r.sWidth,r.sHeight,a,o,s,u)}else if(r.sx&&r.sy){var f=s-(h=r.sx),d=u-(c=r.sy);t.drawImage(i,h,c,f,d,a,o,s,u)}else t.drawImage(i,a,o,s,u);null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new He(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},j.inherits(zn,Mn);var On=zn,Rn=be.devicePixelRatio;function En(t){return parseInt(t,10)}var Dn=new He(0,0,0,0),In=new He(0,0,0,0);var Bn=function(t,e,r){this.type="canvas";var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=r=j.extend({},r||{}),this.dpr=r.devicePixelRatio||Rn,this._singleCanvas=n,this.root=t;var i=t.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,n){var s=t.width,u=t.height;null!=r.width&&(s=r.width),null!=r.height&&(u=r.height),this.dpr=r.devicePixelRatio||1,t.width=s*this.dpr,t.height=u*this.dpr,this._width=s,this._height=u;var l=new xr(t,this,this.dpr);l.__builtin__=!0,l.initContext(),o[314159]=l,l.zlevel=314159,a.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=function(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}(this._width,this._height);t.appendChild(h)}this._hoverlayer=null,this._hoverElements=[]};Bn.prototype={constructor:Bn,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var n=0;n<r.length;n++){var i=r[n],a=this._layers[i];if(!a.__builtin__&&a.refresh){var o=0===n?this._backgroundColor:null;a.refresh(o)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var r=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return r.__from=t,t.__hoverMir=r,e&&r.setStyle(e),this._hoverElements.push(r),r}},removeHover:function(t){var e=t.__hoverMir,r=this._hoverElements,n=j.indexOf(r,e);n>=0&&r.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,r=0;r<e.length;r++){var n=e[r].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,r=this._hoverlayer;if(r&&r.clear(),e){Ke(t,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(1e5));var n={};r.ctx.save();for(var i=0;i<e;){var a=t[i],o=a.__from;o&&o.__zr?(i++,o.invisible||(a.transform=o.transform,a.invTransform=o.invTransform,a.__clipPaths=o.__clipPaths,this._doPaintEl(a,r,!0,n))):(t.splice(i,1),o.__hoverMir=null,e--)}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,r){if(this._redrawId===r){e=e||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var i=this;br(function(){i._paintList(t,e,r)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer(function(n){n.virtual&&t.drawImage(n.dom,0,0,e,r)})},_doPaintList:function(t,e){for(var r=[],n=0;n<this._zlevelList.length;n++){var i=this._zlevelList[n];(s=this._layers[i]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&r.push(s)}for(var a=!0,o=0;o<r.length;o++){var s,u=(s=r[o]).ctx,l={};u.save();var h=e?s.__startIndex:s.__drawIndex,c=!e&&s.incremental&&Date.now,f=c&&Date.now(),d=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,d);else if(h===s.__startIndex){var v=t[h];v.incremental&&v.notClear&&!e||s.clear(!1,d)}-1===h&&(console.error("For some unknown reason. drawIndex is -1"),h=s.__startIndex);for(var g=h;g<s.__endIndex;g++){var _=t[g];if(this._doPaintEl(_,s,e,l),_.__dirty=_.__dirtyText=!1,c)if(Date.now()-f>15)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(a=!1),l.prevElClipPaths&&u.restore(),u.restore()}return p.wxa&&j.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},_doPaintEl:function(t,e,r,n){var i=e.ctx,a=t.transform;if((e.__dirty||r)&&!t.invisible&&0!==t.style.opacity&&(!a||a[0]||a[3])&&(!t.culling||!function(t,e,r){return Dn.copy(t.getBoundingRect()),t.transform&&Dn.applyTransform(t.transform),In.width=e,In.height=r,!Dn.intersect(In)}(t,this._width,this._height))){var o=t.__clipPaths;n.prevElClipPaths&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0}(o,n.prevElClipPaths)||(n.prevElClipPaths&&(e.ctx.restore(),n.prevElClipPaths=null,n.prevEl=null),o&&(i.save(),function(t,e){for(var r=0;r<t.length;r++){var n=t[r];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}(o,i),n.prevElClipPaths=o)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,n.prevEl||null),n.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var r=this._layers[t];return r||((r=new xr("zr_"+t,this,this.dpr)).zlevel=t,r.__builtin__=!0,this._layerConfig[t]&&j.merge(r,this._layerConfig[t],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},insertLayer:function(t,e){var r=this._layers,n=this._zlevelList,i=n.length,a=null,o=-1,s=this._domRoot;if(r[t])we("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(i>0&&t>n[0]){for(o=0;o<i-1&&!(n[o]<t&&n[o+1]>t);o++);a=r[n[o]]}if(n.splice(o+1,0,t),r[t]=e,!e.virtual)if(a){var u=a.dom;u.nextSibling?s.insertBefore(e.dom,u.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else we("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var r,n,i=this._zlevelList;for(n=0;n<i.length;n++)r=i[n],t.call(e,this._layers[r],r)},eachBuiltinLayer:function(t,e){var r,n,i,a=this._zlevelList;for(i=0;i<a.length;i++)n=a[i],(r=this._layers[n]).__builtin__&&t.call(e,r,n)},eachOtherLayer:function(t,e){var r,n,i,a=this._zlevelList;for(i=0;i<a.length;i++)n=a[i],(r=this._layers[n]).__builtin__||t.call(e,r,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var r=1;r<t.length;r++){if((a=t[r]).zlevel!==t[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var n=null,i=0;for(r=0;r<t.length;r++){var a,o,s=(a=t[r]).zlevel;a.incremental?((o=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,i=1):o=this.getLayer(s+(i>0?.01:0),this._needsManuallyCompositing),o.__builtin__||we("ZLevel "+s+" has been used by unkown layer "+o.id),o!==n&&(o.__used=!0,o.__startIndex!==r&&(o.__dirty=!0),o.__startIndex=r,o.incremental?o.__drawIndex=-1:o.__drawIndex=r,e(r),n=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=r))}e(r),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var r=this._layerConfig;r[t]?j.merge(r[t],e,!0):r[t]=e;for(var n=0;n<this._zlevelList.length;n++){var i=this._zlevelList[n];if(i===t||i===t+.01){var a=this._layers[i];j.merge(a,r[t],!0)}}}},delLayer:function(t){var e=this._layers,r=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],r.splice(j.indexOf(r,t),1))},resize:function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),r.style.display="",this._width!==t||e!==this._height){for(var i in r.style.width=t+"px",r.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);j.each(this._progressiveLayers,function(r){r.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new xr("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,n=e.dom.height,i=e.ctx;this.eachLayer(function(t){t.__builtin__?i.drawImage(t.dom,0,0,r,n):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var u=o[s];this._doPaintEl(u,e,!0,a)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,r=["width","height"][t],n=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[n]||En(s[r])||En(o.style[r]))-(En(s[i])||0)-(En(s[a])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var r=document.createElement("canvas"),n=r.getContext("2d"),i=t.getBoundingRect(),a=t.style,o=a.shadowBlur*e,s=a.shadowOffsetX*e,u=a.shadowOffsetY*e,l=a.hasStroke()?a.lineWidth:0,h=Math.max(l/2,-s+o),c=Math.max(l/2,s+o),f=Math.max(l/2,-u+o),d=Math.max(l/2,u+o),p=i.width+h+c,v=i.height+f+d;r.width=p*e,r.height=v*e,n.scale(e,e),n.clearRect(0,0,p,v),n.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[h-i.x,f-i.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(n);var _=new On({style:{x:0,y:0,image:r}});return null!=g.position&&(_.position=t.position=g.position),null!=g.rotation&&(_.rotation=t.rotation=g.rotation),null!=g.scale&&(_.scale=t.scale=g.scale),_}};var Fn=Bn,jn=it.Dispatcher,Wn=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,jn.call(this)};Wn.prototype={constructor:Wn,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),r=0;r<e.length;r++)this.addClip(e[r])},removeClip:function(t){var e=j.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),r=0;r<e.length;r++)this.removeClip(e[r]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,r=this._clips,n=r.length,i=[],a=[],o=0;o<n;o++){var s=r[o],u=s.step(t,e);u&&(i.push(u),a.push(s))}for(o=0;o<n;)r[o]._needsRemove?(r[o]=r[n-1],r.pop(),n--):o++;n=i.length;for(o=0;o<n;o++)a[o].fire(i[o]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,br(function e(){t._running&&(br(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var r=new me(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(r),r}},j.mixin(Wn,jn);var Nn=Wn,Hn=it.addEventListener,qn=it.removeEventListener,Un=it.normalizeEvent,Vn=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Xn=["touchstart","touchend","touchmove"],Yn={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},$n=j.map(Vn,function(t){var e=t.replace("mouse","pointer");return Yn[e]?e:t});function Gn(t){return"mousewheel"===t&&p.browser.firefox?"DOMMouseScroll":t}function Zn(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}var Qn={mousemove:function(t){t=Un(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=Un(this.dom,t)).toElement||t.relatedTarget;if(e!==this.dom)for(;e&&9!==e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=Un(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(this,t,"start"),Qn.mousemove.call(this,t),Qn.mousedown.call(this,t),Zn(this)},touchmove:function(t){(t=Un(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"change"),Qn.mousemove.call(this,t),Zn(this)},touchend:function(t){(t=Un(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"end"),Qn.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&Qn.click.call(this,t),Zn(this)},pointerdown:function(t){Qn.mousedown.call(this,t)},pointermove:function(t){Kn(t)||Qn.mousemove.call(this,t)},pointerup:function(t){Qn.mouseup.call(this,t)},pointerout:function(t){Kn(t)||Qn.mouseout.call(this,t)}};function Kn(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Jn(t){var e;function r(e,r){j.each(e,function(e){Hn(t,Gn(e),r._handlers[e])},r)}K.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._handlers={},e=this,j.each(Xn,function(t){e._handlers[t]=j.bind(Qn[t],e)}),j.each($n,function(t){e._handlers[t]=j.bind(Qn[t],e)}),j.each(Vn,function(t){e._handlers[t]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(Qn[t],e)}),p.pointerEventsSupported?r($n,this):(p.touchEventsSupported&&r(Xn,this),r(Vn,this))}j.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Qn[t]=function(e){e=Un(this.dom,e),this.trigger(t,e)}});var ti=Jn.prototype;ti.dispose=function(){for(var t=Vn.concat(Xn),e=0;e<t.length;e++){var r=t[e];qn(this.dom,Gn(r),this._handlers[r])}},ti.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},j.mixin(Jn,K);var ei=Jn,ri=!p.canvasSupported,ni={canvas:Fn},ii={};var ai=function(t,e,r){r=r||{},this.dom=e,this.id=t;var n=this,i=new er,a=r.renderer;if(ri){if(!ni.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&ni[a]||(a="canvas");var o=new ni[a](e,i,r,t);this.storage=i,this.painter=o;var s=p.node||p.worker?null:new ei(o.getViewportRoot());this.handler=new vt(i,o,s,o.root),this.animation=new Nn({stage:{update:j.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var u=i.delFromStorage,l=i.addToStorage;i.delFromStorage=function(t){u.call(i,t),t&&t.removeSelfFromZr(n)},i.addToStorage=function(t){l.call(i,t),t.addSelfToZr(n)}};ai.prototype={constructor:ai,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var r=this.painter.addHover(t,e);return this.refreshHover(),r}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,r){this.handler.on(t,e,r)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete ii[t]}};var oi={version:"4.0.7",init:function(t,e){var r=new ai(d(),t,e);return ii[r.id]=r,r},dispose:function(t){if(t)t.dispose();else{for(var e in ii)ii.hasOwnProperty(e)&&ii[e].dispose();ii={}}return this},getInstance:function(t){return ii[t]},registerPainter:function(t,e){ni[t]=e}},si=V.create,ui=V.distSquare,li=Math.pow,hi=Math.sqrt,ci=1e-8,fi=1e-4,di=hi(3),pi=1/3,vi=si(),gi=si(),_i=si();function yi(t){return t>-ci&&t<ci}function mi(t){return t>ci||t<-ci}function xi(t,e,r,n,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*n+3*a*r)}function bi(t,e,r,n){var i=1-n;return i*(i*t+2*n*e)+n*n*r}var wi={cubicAt:xi,cubicDerivativeAt:function(t,e,r,n,i){var a=1-i;return 3*(((e-t)*a+2*(r-e)*i)*a+(n-r)*i*i)},cubicRootAt:function(t,e,r,n,i,a){var o=n+3*(e-r)-t,s=3*(r-2*e+t),u=3*(e-t),l=t-i,h=s*s-3*o*u,c=s*u-9*o*l,f=u*u-3*s*l,d=0;if(yi(h)&&yi(c))yi(s)?a[0]=0:(T=-u/s)>=0&&T<=1&&(a[d++]=T);else{var p=c*c-4*h*f;if(yi(p)){var v=c/h,g=-v/2;(T=-s/o+v)>=0&&T<=1&&(a[d++]=T),g>=0&&g<=1&&(a[d++]=g)}else if(p>0){var _=hi(p),y=h*s+1.5*o*(-c+_),m=h*s+1.5*o*(-c-_);(T=(-s-((y=y<0?-li(-y,pi):li(y,pi))+(m=m<0?-li(-m,pi):li(m,pi))))/(3*o))>=0&&T<=1&&(a[d++]=T)}else{var x=(2*h*s-3*o*c)/(2*hi(h*h*h)),b=Math.acos(x)/3,w=hi(h),k=Math.cos(b),T=(-s-2*w*k)/(3*o),S=(g=(-s+w*(k+di*Math.sin(b)))/(3*o),(-s+w*(k-di*Math.sin(b)))/(3*o));T>=0&&T<=1&&(a[d++]=T),g>=0&&g<=1&&(a[d++]=g),S>=0&&S<=1&&(a[d++]=S)}}return d},cubicExtrema:function(t,e,r,n,i){var a=6*r-12*e+6*t,o=9*e+3*n-3*t-9*r,s=3*e-3*t,u=0;if(yi(o))mi(a)&&(h=-s/a)>=0&&h<=1&&(i[u++]=h);else{var l=a*a-4*o*s;if(yi(l))i[0]=-a/(2*o);else if(l>0){var h,c=hi(l),f=(-a-c)/(2*o);(h=(-a+c)/(2*o))>=0&&h<=1&&(i[u++]=h),f>=0&&f<=1&&(i[u++]=f)}}return u},cubicSubdivide:function(t,e,r,n,i,a){var o=(e-t)*i+t,s=(r-e)*i+e,u=(n-r)*i+r,l=(s-o)*i+o,h=(u-s)*i+s,c=(h-l)*i+l;a[0]=t,a[1]=o,a[2]=l,a[3]=c,a[4]=c,a[5]=h,a[6]=u,a[7]=n},cubicProjectPoint:function(t,e,r,n,i,a,o,s,u,l,h){var c,f,d,p,v,g=.005,_=1/0;vi[0]=u,vi[1]=l;for(var y=0;y<1;y+=.05)gi[0]=xi(t,r,i,o,y),gi[1]=xi(e,n,a,s,y),(p=ui(vi,gi))<_&&(c=y,_=p);_=1/0;for(var m=0;m<32&&!(g<fi);m++)f=c-g,d=c+g,gi[0]=xi(t,r,i,o,f),gi[1]=xi(e,n,a,s,f),p=ui(gi,vi),f>=0&&p<_?(c=f,_=p):(_i[0]=xi(t,r,i,o,d),_i[1]=xi(e,n,a,s,d),v=ui(_i,vi),d<=1&&v<_?(c=d,_=v):g*=.5);return h&&(h[0]=xi(t,r,i,o,c),h[1]=xi(e,n,a,s,c)),hi(_)},quadraticAt:bi,quadraticDerivativeAt:function(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))},quadraticRootAt:function(t,e,r,n,i){var a=t-2*e+r,o=2*(e-t),s=t-n,u=0;if(yi(a))mi(o)&&(h=-s/o)>=0&&h<=1&&(i[u++]=h);else{var l=o*o-4*a*s;if(yi(l))(h=-o/(2*a))>=0&&h<=1&&(i[u++]=h);else if(l>0){var h,c=hi(l),f=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(i[u++]=h),f>=0&&f<=1&&(i[u++]=f)}}return u},quadraticExtremum:function(t,e,r){var n=t+r-2*e;return 0===n?.5:(t-e)/n},quadraticSubdivide:function(t,e,r,n,i){var a=(e-t)*n+t,o=(r-e)*n+e,s=(o-a)*n+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=r},quadraticProjectPoint:function(t,e,r,n,i,a,o,s,u){var l,h=.005,c=1/0;vi[0]=o,vi[1]=s;for(var f=0;f<1;f+=.05)gi[0]=bi(t,r,i,f),gi[1]=bi(e,n,a,f),(g=ui(vi,gi))<c&&(l=f,c=g);c=1/0;for(var d=0;d<32&&!(h<fi);d++){var p=l-h,v=l+h;gi[0]=bi(t,r,i,p),gi[1]=bi(e,n,a,p);var g=ui(gi,vi);if(p>=0&&g<c)l=p,c=g;else{_i[0]=bi(t,r,i,v),_i[1]=bi(e,n,a,v);var _=ui(_i,vi);v<=1&&_<c?(l=v,c=_):h*=.5}}return u&&(u[0]=bi(t,r,i,l),u[1]=bi(e,n,a,l)),hi(c)}},ki=Math.min,Ti=Math.max,Si=Math.sin,Ai=Math.cos,Pi=2*Math.PI,Ci=V.create(),Li=V.create(),Mi=V.create();var zi=[],Oi=[];var Ri={fromPoints:function(t,e,r){if(0!==t.length){var n,i=t[0],a=i[0],o=i[0],s=i[1],u=i[1];for(n=1;n<t.length;n++)i=t[n],a=ki(a,i[0]),o=Ti(o,i[0]),s=ki(s,i[1]),u=Ti(u,i[1]);e[0]=a,e[1]=s,r[0]=o,r[1]=u}},fromLine:function(t,e,r,n,i,a){i[0]=ki(t,r),i[1]=ki(e,n),a[0]=Ti(t,r),a[1]=Ti(e,n)},fromCubic:function(t,e,r,n,i,a,o,s,u,l){var h,c=wi.cubicExtrema,f=wi.cubicAt,d=c(t,r,i,o,zi);for(u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0,h=0;h<d;h++){var p=f(t,r,i,o,zi[h]);u[0]=ki(p,u[0]),l[0]=Ti(p,l[0])}for(d=c(e,n,a,s,Oi),h=0;h<d;h++){var v=f(e,n,a,s,Oi[h]);u[1]=ki(v,u[1]),l[1]=Ti(v,l[1])}u[0]=ki(t,u[0]),l[0]=Ti(t,l[0]),u[0]=ki(o,u[0]),l[0]=Ti(o,l[0]),u[1]=ki(e,u[1]),l[1]=Ti(e,l[1]),u[1]=ki(s,u[1]),l[1]=Ti(s,l[1])},fromQuadratic:function(t,e,r,n,i,a,o,s){var u=wi.quadraticExtremum,l=wi.quadraticAt,h=Ti(ki(u(t,r,i),1),0),c=Ti(ki(u(e,n,a),1),0),f=l(t,r,i,h),d=l(e,n,a,c);o[0]=ki(t,i,f),o[1]=ki(e,a,d),s[0]=Ti(t,i,f),s[1]=Ti(e,a,d)},fromArc:function(t,e,r,n,i,a,o,s,u){var l=V.min,h=V.max,c=Math.abs(i-a);if(c%Pi<1e-4&&c>1e-4)return s[0]=t-r,s[1]=e-n,u[0]=t+r,void(u[1]=e+n);if(Ci[0]=Ai(i)*r+t,Ci[1]=Si(i)*n+e,Li[0]=Ai(a)*r+t,Li[1]=Si(a)*n+e,l(s,Ci,Li),h(u,Ci,Li),(i%=Pi)<0&&(i+=Pi),(a%=Pi)<0&&(a+=Pi),i>a&&!o?a+=Pi:i<a&&o&&(i+=Pi),o){var f=a;a=i,i=f}for(var d=0;d<a;d+=Math.PI/2)d>i&&(Mi[0]=Ai(d)*r+t,Mi[1]=Si(d)*n+e,l(s,Mi,s),h(u,Mi,u))}},Ei=be.devicePixelRatio,Di={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ii=[],Bi=[],Fi=[],ji=[],Wi=Math.min,Ni=Math.max,Hi=Math.cos,qi=Math.sin,Ui=Math.sqrt,Vi=Math.abs,Xi="undefined"!=typeof Float32Array,Yi=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};Yi.prototype={constructor:Yi,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=Vi(1/Ei/t)||0,this._uy=Vi(1/Ei/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(Di.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var r=Vi(t-this._xi)>this._ux||Vi(e-this._yi)>this._uy||this._len<5;return this.addData(Di.L,t,e),this._ctx&&r&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),r&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,r,n,i,a){return this.addData(Di.C,t,e,r,n,i,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,r,n,i,a):this._ctx.bezierCurveTo(t,e,r,n,i,a)),this._xi=i,this._yi=a,this},quadraticCurveTo:function(t,e,r,n){return this.addData(Di.Q,t,e,r,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,r,n):this._ctx.quadraticCurveTo(t,e,r,n)),this._xi=r,this._yi=n,this},arc:function(t,e,r,n,i,a){return this.addData(Di.A,t,e,r,r,n,i-n,0,a?0:1),this._ctx&&this._ctx.arc(t,e,r,n,i,a),this._xi=Hi(i)*r+t,this._yi=qi(i)*r+e,this},arcTo:function(t,e,r,n,i){return this._ctx&&this._ctx.arcTo(t,e,r,n,i),this},rect:function(t,e,r,n){return this._ctx&&this._ctx.rect(t,e,r,n),this.addData(Di.R,t,e,r,n),this},closePath:function(){this.addData(Di.Z);var t=this._ctx,e=this._x0,r=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,r),t.closePath()),this._xi=e,this._yi=r,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,r=0;r<t.length;r++)e+=t[r];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!Xi||(this.data=new Float32Array(e));for(var r=0;r<e;r++)this.data[r]=t[r];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,r=0,n=this._len,i=0;i<e;i++)r+=t[i].len();Xi&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+r));for(i=0;i<e;i++)for(var a=t[i].data,o=0;o<a.length;o++)this.data[n++]=a[o];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var r=0;r<arguments.length;r++)e[this._len++]=arguments[r];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var r,n,i=this._dashSum,a=this._dashOffset,o=this._lineDash,s=this._ctx,u=this._xi,l=this._yi,h=t-u,c=e-l,f=Ui(h*h+c*c),d=u,p=l,v=o.length;for(a<0&&(a=i+a),d-=(a%=i)*(h/=f),p-=a*(c/=f);h>0&&d<=t||h<0&&d>=t||0===h&&(c>0&&p<=e||c<0&&p>=e);)d+=h*(r=o[n=this._dashIdx]),p+=c*r,this._dashIdx=(n+1)%v,h>0&&d<u||h<0&&d>u||c>0&&p<l||c<0&&p>l||s[n%2?"moveTo":"lineTo"](h>=0?Wi(d,t):Ni(d,t),c>=0?Wi(p,e):Ni(p,e));h=d-t,c=p-e,this._dashOffset=-Ui(h*h+c*c)},_dashedBezierTo:function(t,e,r,n,i,a){var o,s,u,l,h,c=this._dashSum,f=this._dashOffset,d=this._lineDash,p=this._ctx,v=this._xi,g=this._yi,_=wi.cubicAt,y=0,m=this._dashIdx,x=d.length,b=0;for(f<0&&(f=c+f),f%=c,o=0;o<1;o+=.1)s=_(v,t,r,i,o+.1)-_(v,t,r,i,o),u=_(g,e,n,a,o+.1)-_(g,e,n,a,o),y+=Ui(s*s+u*u);for(;m<x&&!((b+=d[m])>f);m++);for(o=(b-f)/y;o<=1;)l=_(v,t,r,i,o),h=_(g,e,n,a,o),m%2?p.moveTo(l,h):p.lineTo(l,h),o+=d[m]/y,m=(m+1)%x;m%2!=0&&p.lineTo(i,a),s=i-l,u=a-h,this._dashOffset=-Ui(s*s+u*u)},_dashedQuadraticTo:function(t,e,r,n){var i=r,a=n;r=(r+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,r,n,i,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Xi&&(this.data=new Float32Array(t)))},getBoundingRect:function(){Ii[0]=Ii[1]=Fi[0]=Fi[1]=Number.MAX_VALUE,Bi[0]=Bi[1]=ji[0]=ji[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,r=0,n=0,i=0,a=0;a<t.length;){var o=t[a++];switch(1===a&&(n=e=t[a],i=r=t[a+1]),o){case Di.M:e=n=t[a++],r=i=t[a++],Fi[0]=n,Fi[1]=i,ji[0]=n,ji[1]=i;break;case Di.L:Ri.fromLine(e,r,t[a],t[a+1],Fi,ji),e=t[a++],r=t[a++];break;case Di.C:Ri.fromCubic(e,r,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],Fi,ji),e=t[a++],r=t[a++];break;case Di.Q:Ri.fromQuadratic(e,r,t[a++],t[a++],t[a],t[a+1],Fi,ji),e=t[a++],r=t[a++];break;case Di.A:var s=t[a++],u=t[a++],l=t[a++],h=t[a++],c=t[a++],f=t[a++]+c;a+=1;var d=1-t[a++];1===a&&(n=Hi(c)*l+s,i=qi(c)*h+u),Ri.fromArc(s,u,l,h,c,f,d,Fi,ji),e=Hi(f)*l+s,r=qi(f)*h+u;break;case Di.R:n=e=t[a++],i=r=t[a++];var p=t[a++],v=t[a++];Ri.fromLine(n,i,n+p,i+v,Fi,ji);break;case Di.Z:e=n,r=i}V.min(Ii,Ii,Fi),V.max(Bi,Bi,ji)}return 0===a&&(Ii[0]=Ii[1]=Bi[0]=Bi[1]=0),new He(Ii[0],Ii[1],Bi[0]-Ii[0],Bi[1]-Ii[1])},rebuildPath:function(t){for(var e,r,n,i,a,o,s=this.data,u=this._ux,l=this._uy,h=this._len,c=0;c<h;){var f=s[c++];switch(1===c&&(e=n=s[c],r=i=s[c+1]),f){case Di.M:e=n=s[c++],r=i=s[c++],t.moveTo(n,i);break;case Di.L:a=s[c++],o=s[c++],(Vi(a-n)>u||Vi(o-i)>l||c===h-1)&&(t.lineTo(a,o),n=a,i=o);break;case Di.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),n=s[c-2],i=s[c-1];break;case Di.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),n=s[c-2],i=s[c-1];break;case Di.A:var d=s[c++],p=s[c++],v=s[c++],g=s[c++],_=s[c++],y=s[c++],m=s[c++],x=s[c++],b=v>g?v:g,w=v>g?1:v/g,k=v>g?g/v:1,T=_+y;Math.abs(v-g)>.001?(t.translate(d,p),t.rotate(m),t.scale(w,k),t.arc(0,0,b,_,T,1-x),t.scale(1/w,1/k),t.rotate(-m),t.translate(-d,-p)):t.arc(d,p,b,_,T,1-x),1===c&&(e=Hi(_)*v+d,r=qi(_)*g+p),n=Hi(T)*v+d,i=qi(T)*g+p;break;case Di.R:e=n=s[c],r=i=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case Di.Z:t.closePath(),n=e,i=r}}}},Yi.CMD=Di;var $i=Yi;var Gi={containStroke:function(t,e,r,n,i,a,o){if(0===i)return!1;var s=i,u=0;if(o>e+s&&o>n+s||o<e-s&&o<n-s||a>t+s&&a>r+s||a<t-s&&a<r-s)return!1;if(t===r)return Math.abs(a-t)<=s/2;var l=(u=(e-n)/(t-r))*a-o+(t*n-r*e)/(t-r);return l*l/(u*u+1)<=s/2*s/2}};var Zi={containStroke:function(t,e,r,n,i,a,o,s,u,l,h){if(0===u)return!1;var c=u;return!(h>e+c&&h>n+c&&h>a+c&&h>s+c||h<e-c&&h<n-c&&h<a-c&&h<s-c||l>t+c&&l>r+c&&l>i+c&&l>o+c||l<t-c&&l<r-c&&l<i-c&&l<o-c)&&wi.cubicProjectPoint(t,e,r,n,i,a,o,s,l,h,null)<=c/2}},Qi=wi.quadraticProjectPoint;var Ki={containStroke:function(t,e,r,n,i,a,o,s,u){if(0===o)return!1;var l=o;return!(u>e+l&&u>n+l&&u>a+l||u<e-l&&u<n-l&&u<a-l||s>t+l&&s>r+l&&s>i+l||s<t-l&&s<r-l&&s<i-l)&&Qi(t,e,r,n,i,a,s,u,null)<=l/2}},Ji=2*Math.PI;var ta={normalizeRadian:function(t){return(t%=Ji)<0&&(t+=Ji),t}},ea=ta.normalizeRadian,ra=2*Math.PI;var na={containStroke:function(t,e,r,n,i,a,o,s,u){if(0===o)return!1;var l=o;s-=t,u-=e;var h=Math.sqrt(s*s+u*u);if(h-l>r||h+l<r)return!1;if(Math.abs(n-i)%ra<1e-4)return!0;if(a){var c=n;n=ea(i),i=ea(c)}else n=ea(n),i=ea(i);n>i&&(i+=ra);var f=Math.atan2(u,s);return f<0&&(f+=ra),f>=n&&f<=i||f+ra>=n&&f+ra<=i}};var ia=function(t,e,r,n,i,a){if(a>e&&a>n||a<e&&a<n)return 0;if(n===e)return 0;var o=n<e?1:-1,s=(a-e)/(n-e);1!==s&&0!==s||(o=n<e?.5:-.5);var u=s*(r-t)+t;return u===i?1/0:u>i?o:0},aa=ta.normalizeRadian,oa=$i.CMD,sa=2*Math.PI,ua=1e-4;var la=[-1,-1,-1],ha=[-1,-1];function ca(t,e,r,n,i,a,o,s,u,l){if(l>e&&l>n&&l>a&&l>s||l<e&&l<n&&l<a&&l<s)return 0;var h,c=wi.cubicRootAt(e,n,a,s,l,la);if(0===c)return 0;for(var f,d,p=0,v=-1,g=0;g<c;g++){var _=la[g],y=0===_||1===_?.5:1;wi.cubicAt(t,r,i,o,_)<u||(v<0&&(v=wi.cubicExtrema(e,n,a,s,ha),ha[1]<ha[0]&&v>1&&(h=void 0,h=ha[0],ha[0]=ha[1],ha[1]=h),f=wi.cubicAt(e,n,a,s,ha[0]),v>1&&(d=wi.cubicAt(e,n,a,s,ha[1]))),2===v?_<ha[0]?p+=f<e?y:-y:_<ha[1]?p+=d<f?y:-y:p+=s<d?y:-y:_<ha[0]?p+=f<e?y:-y:p+=s<f?y:-y)}return p}function fa(t,e,r,n,i,a,o,s){if(s>e&&s>n&&s>a||s<e&&s<n&&s<a)return 0;var u=wi.quadraticRootAt(e,n,a,s,la);if(0===u)return 0;var l=wi.quadraticExtremum(e,n,a);if(l>=0&&l<=1){for(var h=0,c=wi.quadraticAt(e,n,a,l),f=0;f<u;f++){var d=0===la[f]||1===la[f]?.5:1;wi.quadraticAt(t,r,i,la[f])<o||(la[f]<l?h+=c<e?d:-d:h+=a<c?d:-d)}return h}d=0===la[0]||1===la[0]?.5:1;return wi.quadraticAt(t,r,i,la[0])<o?0:a<e?d:-d}function da(t,e,r,n,i,a,o,s){if((s-=e)>r||s<-r)return 0;var u=Math.sqrt(r*r-s*s);la[0]=-u,la[1]=u;var l=Math.abs(n-i);if(l<1e-4)return 0;if(l%sa<1e-4){n=0,i=sa;var h=a?1:-1;return o>=la[0]+t&&o<=la[1]+t?h:0}if(a){u=n;n=aa(i),i=aa(u)}else n=aa(n),i=aa(i);n>i&&(i+=sa);for(var c=0,f=0;f<2;f++){var d=la[f];if(d+t>o){var p=Math.atan2(s,d);h=a?1:-1;p<0&&(p=sa+p),(p>=n&&p<=i||p+sa>=n&&p+sa<=i)&&(p>Math.PI/2&&p<1.5*Math.PI&&(h=-h),c+=h)}}return c}function pa(t,e,r,n,i){for(var a,o,s=0,u=0,l=0,h=0,c=0,f=0;f<t.length;){var d=t[f++];switch(d===oa.M&&f>1&&(r||(s+=ia(u,l,h,c,n,i))),1===f&&(h=u=t[f],c=l=t[f+1]),d){case oa.M:u=h=t[f++],l=c=t[f++];break;case oa.L:if(r){if(Gi.containStroke(u,l,t[f],t[f+1],e,n,i))return!0}else s+=ia(u,l,t[f],t[f+1],n,i)||0;u=t[f++],l=t[f++];break;case oa.C:if(r){if(Zi.containStroke(u,l,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],e,n,i))return!0}else s+=ca(u,l,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],n,i)||0;u=t[f++],l=t[f++];break;case oa.Q:if(r){if(Ki.containStroke(u,l,t[f++],t[f++],t[f],t[f+1],e,n,i))return!0}else s+=fa(u,l,t[f++],t[f++],t[f],t[f+1],n,i)||0;u=t[f++],l=t[f++];break;case oa.A:var p=t[f++],v=t[f++],g=t[f++],_=t[f++],y=t[f++],m=t[f++];f+=1;var x=1-t[f++],b=Math.cos(y)*g+p,w=Math.sin(y)*_+v;f>1?s+=ia(u,l,b,w,n,i):(h=b,c=w);var k=(n-p)*_/g+p;if(r){if(na.containStroke(p,v,_,y,y+m,x,e,k,i))return!0}else s+=da(p,v,_,y,y+m,x,k,i);u=Math.cos(y+m)*g+p,l=Math.sin(y+m)*_+v;break;case oa.R:h=u=t[f++],c=l=t[f++];b=h+t[f++],w=c+t[f++];if(r){if(Gi.containStroke(h,c,b,c,e,n,i)||Gi.containStroke(b,c,b,w,e,n,i)||Gi.containStroke(b,w,h,w,e,n,i)||Gi.containStroke(h,w,h,c,e,n,i))return!0}else s+=ia(b,c,b,w,n,i),s+=ia(h,w,h,c,n,i);break;case oa.Z:if(r){if(Gi.containStroke(u,l,h,c,e,n,i))return!0}else s+=ia(u,l,h,c,n,i);u=h,l=c}}return r||(a=l,o=c,Math.abs(a-o)<ua)||(s+=ia(u,l,h,c,n,i)||0),0!==s}var va={contain:function(t,e,r){return pa(t,0,!1,e,r)},containStroke:function(t,e,r,n){return pa(t,e,!0,r,n)}},ga=vr.prototype.getCanvasPattern,_a=Math.abs,ya=new $i(!0);function ma(t){Mn.call(this,t),this.path=null}ma.prototype={constructor:ma,type:"path",__dirtyPath:!0,strokeContainThreshold:5,subPixelOptimize:!1,brush:function(t,e){var r,n=this.style,i=this.path||ya,a=n.hasStroke(),o=n.hasFill(),s=n.fill,u=n.stroke,l=o&&!!s.colorStops,h=a&&!!u.colorStops,c=o&&!!s.image,f=a&&!!u.image;(n.bind(t,this,e),this.setTransform(t),this.__dirty)&&(l&&(r=r||this.getBoundingRect(),this._fillGradient=n.getGradient(t,s,r)),h&&(r=r||this.getBoundingRect(),this._strokeGradient=n.getGradient(t,u,r)));l?t.fillStyle=this._fillGradient:c&&(t.fillStyle=ga.call(s,t)),h?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=ga.call(u,t));var d=n.lineDash,p=n.lineDashOffset,v=!!t.setLineDash,g=this.getGlobalScale();if(i.setScale(g[0],g[1]),this.__dirtyPath||d&&!v&&a?(i.beginPath(t),d&&!v&&(i.setLineDash(d),i.setLineDashOffset(p)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o)if(null!=n.fillOpacity){var _=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,i.fill(t),t.globalAlpha=_}else i.fill(t);if(d&&v&&(t.setLineDash(d),t.lineDashOffset=p),a)if(null!=n.strokeOpacity){_=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,i.stroke(t),t.globalAlpha=_}else i.stroke(t);d&&v&&t.setLineDash([]),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,r){},createPathProxy:function(){this.path=new $i},getBoundingRect:function(){var t=this._rect,e=this.style,r=!t;if(r){var n=this.path;n||(n=this.path=new $i),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||r){i.copy(t);var a=e.lineWidth,o=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),o>1e-10&&(i.width+=a/o,i.height+=a/o,i.x-=a/o/2,i.y-=a/o/2)}return i}return t},contain:function(t,e){var r=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),i=this.style;if(t=r[0],e=r[1],n.contain(t,e)){var a=this.path.data;if(i.hasStroke()){var o=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(i.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),va.containStroke(a,o/s,t,e)))return!0}if(i.hasFill())return va.contain(a,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Mn.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var r=this.shape;if(r){if(j.isObject(t))for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);else r[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&_a(t[0]-1)>1e-10&&_a(t[3]-1)>1e-10?Math.sqrt(_a(t[0]*t[3]-t[2]*t[1])):1}},ma.extend=function(t){var e=function(e){ma.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var r=t.shape;if(r){this.shape=this.shape||{};var n=this.shape;for(var i in r)!n.hasOwnProperty(i)&&r.hasOwnProperty(i)&&(n[i]=r[i])}t.init&&t.init.call(this,e)};for(var r in j.inherits(e,ma),t)"style"!==r&&"shape"!==r&&(e.prototype[r]=t[r]);return e},j.inherits(ma,Mn);var xa=ma,ba=V.applyTransform,wa=$i.CMD,ka=[[],[],[]],Ta=Math.sqrt,Sa=Math.atan2;var Aa=function(t,e){var r,n,i,a,o,s=t.data,u=wa.M,l=wa.C,h=wa.L,c=wa.R,f=wa.A,d=wa.Q;for(i=0,a=0;i<s.length;){switch(r=s[i++],a=i,n=0,r){case u:case h:n=1;break;case l:n=3;break;case d:n=2;break;case f:var p=e[4],v=e[5],g=Ta(e[0]*e[0]+e[1]*e[1]),_=Ta(e[2]*e[2]+e[3]*e[3]),y=Sa(-e[1]/_,e[0]/g);s[i]*=g,s[i++]+=p,s[i]*=_,s[i++]+=v,s[i++]*=g,s[i++]*=_,s[i++]+=y,s[i++]+=y,a=i+=2;break;case c:m[0]=s[i++],m[1]=s[i++],ba(m,m,e),s[a++]=m[0],s[a++]=m[1],m[0]+=s[i++],m[1]+=s[i++],ba(m,m,e),s[a++]=m[0],s[a++]=m[1]}for(o=0;o<n;o++){var m;(m=ka[o])[0]=s[i++],m[1]=s[i++],ba(m,m,e),s[a++]=m[0],s[a++]=m[1]}}},Pa=Math.sqrt,Ca=Math.sin,La=Math.cos,Ma=Math.PI,za=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},Oa=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(za(t)*za(e))},Ra=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Oa(t,e))};function Ea(t,e,r,n,i,a,o,s,u,l,h){var c=u*(Ma/180),f=La(c)*(t-r)/2+Ca(c)*(e-n)/2,d=-1*Ca(c)*(t-r)/2+La(c)*(e-n)/2,p=f*f/(o*o)+d*d/(s*s);p>1&&(o*=Pa(p),s*=Pa(p));var v=(i===a?-1:1)*Pa((o*o*(s*s)-o*o*(d*d)-s*s*(f*f))/(o*o*(d*d)+s*s*(f*f)))||0,g=v*o*d/s,_=v*-s*f/o,y=(t+r)/2+La(c)*g-Ca(c)*_,m=(e+n)/2+Ca(c)*g+La(c)*_,x=Ra([1,0],[(f-g)/o,(d-_)/s]),b=[(f-g)/o,(d-_)/s],w=[(-1*f-g)/o,(-1*d-_)/s],k=Ra(b,w);Oa(b,w)<=-1&&(k=Ma),Oa(b,w)>=1&&(k=0),0===a&&k>0&&(k-=2*Ma),1===a&&k<0&&(k+=2*Ma),h.addData(l,y,m,o,s,x,k,c,a)}var Da=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Ia=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Ba(t,e){var r=function(t){if(!t)return new $i;for(var e,r=0,n=0,i=r,a=n,o=new $i,s=$i.CMD,u=t.match(Da),l=0;l<u.length;l++){for(var h,c=u[l],f=c.charAt(0),d=c.match(Ia)||[],p=d.length,v=0;v<p;v++)d[v]=parseFloat(d[v]);for(var g=0;g<p;){var _,y,m,x,b,w,k,T=r,S=n;switch(f){case"l":r+=d[g++],n+=d[g++],h=s.L,o.addData(h,r,n);break;case"L":r=d[g++],n=d[g++],h=s.L,o.addData(h,r,n);break;case"m":r+=d[g++],n+=d[g++],h=s.M,o.addData(h,r,n),i=r,a=n,f="l";break;case"M":r=d[g++],n=d[g++],h=s.M,o.addData(h,r,n),i=r,a=n,f="L";break;case"h":r+=d[g++],h=s.L,o.addData(h,r,n);break;case"H":r=d[g++],h=s.L,o.addData(h,r,n);break;case"v":n+=d[g++],h=s.L,o.addData(h,r,n);break;case"V":n=d[g++],h=s.L,o.addData(h,r,n);break;case"C":h=s.C,o.addData(h,d[g++],d[g++],d[g++],d[g++],d[g++],d[g++]),r=d[g-2],n=d[g-1];break;case"c":h=s.C,o.addData(h,d[g++]+r,d[g++]+n,d[g++]+r,d[g++]+n,d[g++]+r,d[g++]+n),r+=d[g-2],n+=d[g-1];break;case"S":_=r,y=n;var A=o.len(),P=o.data;e===s.C&&(_+=r-P[A-4],y+=n-P[A-3]),h=s.C,T=d[g++],S=d[g++],r=d[g++],n=d[g++],o.addData(h,_,y,T,S,r,n);break;case"s":_=r,y=n,A=o.len(),P=o.data,e===s.C&&(_+=r-P[A-4],y+=n-P[A-3]),h=s.C,T=r+d[g++],S=n+d[g++],r+=d[g++],n+=d[g++],o.addData(h,_,y,T,S,r,n);break;case"Q":T=d[g++],S=d[g++],r=d[g++],n=d[g++],h=s.Q,o.addData(h,T,S,r,n);break;case"q":T=d[g++]+r,S=d[g++]+n,r+=d[g++],n+=d[g++],h=s.Q,o.addData(h,T,S,r,n);break;case"T":_=r,y=n,A=o.len(),P=o.data,e===s.Q&&(_+=r-P[A-4],y+=n-P[A-3]),r=d[g++],n=d[g++],h=s.Q,o.addData(h,_,y,r,n);break;case"t":_=r,y=n,A=o.len(),P=o.data,e===s.Q&&(_+=r-P[A-4],y+=n-P[A-3]),r+=d[g++],n+=d[g++],h=s.Q,o.addData(h,_,y,r,n);break;case"A":m=d[g++],x=d[g++],b=d[g++],w=d[g++],k=d[g++],Ea(T=r,S=n,r=d[g++],n=d[g++],w,k,m,x,b,h=s.A,o);break;case"a":m=d[g++],x=d[g++],b=d[g++],w=d[g++],k=d[g++],Ea(T=r,S=n,r+=d[g++],n+=d[g++],w,k,m,x,b,h=s.A,o)}}"z"!==f&&"Z"!==f||(h=s.Z,o.addData(h),r=i,n=a),e=h}return o.toStatic(),o}(t);return(e=e||{}).buildPath=function(t){if(t.setData){t.setData(r.data),(e=t.getContext())&&t.rebuildPath(e)}else{var e=t;r.rebuildPath(e)}},e.applyTransform=function(t){Aa(r,t),this.dirty(!0)},e}var Fa={createFromString:function(t,e){return new xa(Ba(t,e))},extendFromString:function(t,e){return xa.extend(Ba(t,e))},mergePath:function(t,e){for(var r=[],n=t.length,i=0;i<n;i++){var a=t[i];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),r.push(a.path)}var o=new xa(e);return o.createPathProxy(),o.buildPath=function(t){t.appendPath(r);var e=t.getContext();e&&t.rebuildPath(e)},o}},ja=ir.ContextCachedBy,Wa=function(t){Mn.call(this,t)};Wa.prototype={constructor:Wa,type:"text",brush:function(t,e){var r=this.style;this.__dirty&&Tn.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var n=r.text;null!=n&&(n+=""),Tn.needDrawText(n,r)?(this.setTransform(t),Tn.renderText(this,t,n,r,null,e),this.restoreTransform(t)):t.__attrCachedBy=ja.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&Tn.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var r=Gr.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(r.x+=t.x||0,r.y+=t.y||0,Tn.getStroke(t.textStroke,t.textStrokeWidth)){var n=t.textStrokeWidth;r.x-=n/2,r.y-=n/2,r.width+=n,r.height+=n}this._rect=r}return this._rect}},j.inherits(Wa,Mn);var Na=Wa,Ha=xa.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,r){r&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),qa=Math.round;function Ua(t,e,r){var n=qa(2*t);return(n+qa(e))%2==0?n/2:(n+(r?1:-1))/2}var Va={subPixelOptimizeLine:function(t,e,r){var n=r&&r.lineWidth;if(e&&n){var i=e.x1,a=e.x2,o=e.y1,s=e.y2;qa(2*i)===qa(2*a)?t.x1=t.x2=Ua(i,n,!0):(t.x1=i,t.x2=a),qa(2*o)===qa(2*s)?t.y1=t.y2=Ua(o,n,!0):(t.y1=o,t.y2=s)}},subPixelOptimizeRect:function(t,e,r){var n=r&&r.lineWidth;if(e&&n){var i=e.x,a=e.y,o=e.width,s=e.height;t.x=Ua(i,n,!0),t.y=Ua(a,n,!0),t.width=Math.max(Ua(i+o,n,!1)-t.x,0===o?0:1),t.height=Math.max(Ua(a+s,n,!1)-t.y,0===s?0:1)}},subPixelOptimize:Ua},Xa=Va.subPixelOptimizeRect,Ya={},$a=xa.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var r,n,i,a;this.subPixelOptimize?(Xa(Ya,e,this.style),r=Ya.x,n=Ya.y,i=Ya.width,a=Ya.height,Ya.r=e.r,e=Ya):(r=e.x,n=e.y,i=e.width,a=e.height),e.r?Zr.buildPath(t,e):t.rect(r,n,i,a),t.closePath()}}),Ga=xa.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var r=.5522848,n=e.cx,i=e.cy,a=e.rx,o=e.ry,s=a*r,u=o*r;t.moveTo(n-a,i),t.bezierCurveTo(n-a,i-u,n-s,i-o,n,i-o),t.bezierCurveTo(n+s,i-o,n+a,i-u,n+a,i),t.bezierCurveTo(n+a,i+u,n+s,i+o,n,i+o),t.bezierCurveTo(n-s,i+o,n-a,i+u,n-a,i),t.closePath()}}),Za=Va.subPixelOptimizeLine,Qa={},Ka=xa.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r,n,i,a;this.subPixelOptimize?(Za(Qa,e,this.style),r=Qa.x1,n=Qa.y1,i=Qa.x2,a=Qa.y2):(r=e.x1,n=e.y1,i=e.x2,a=e.y2);var o=e.percent;0!==o&&(t.moveTo(r,n),o<1&&(i=r*(1-o)+i*o,a=n*(1-o)+a*o),t.lineTo(i,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Ja=V.distance;function to(t,e,r,n,i,a,o){var s=.5*(r-t),u=.5*(n-e);return(2*(e-r)+s+u)*o+(-3*(e-r)-2*s-u)*a+s*i+e}var eo=function(t,e){for(var r=t.length,n=[],i=0,a=1;a<r;a++)i+=Ja(t[a-1],t[a]);var o=i/2;for(o=o<r?r:o,a=0;a<o;a++){var s,u,l,h=a/(o-1)*(e?r:r-1),c=Math.floor(h),f=h-c,d=t[c%r];e?(s=t[(c-1+r)%r],u=t[(c+1)%r],l=t[(c+2)%r]):(s=t[0===c?c:c-1],u=t[c>r-2?r-1:c+1],l=t[c>r-3?r-1:c+2]);var p=f*f,v=f*p;n.push([to(s[0],d[0],u[0],l[0],f,p,v),to(s[1],d[1],u[1],l[1],f,p,v)])}return n},ro=V.min,no=V.max,io=V.scale,ao=V.distance,oo=V.add,so=V.clone,uo=V.sub;var lo=function(t,e,r,n){var i,a,o,s,u=[],l=[],h=[],c=[];if(n){o=[1/0,1/0],s=[-1/0,-1/0];for(var f=0,d=t.length;f<d;f++)ro(o,o,t[f]),no(s,s,t[f]);ro(o,o,n[0]),no(s,s,n[1])}for(f=0,d=t.length;f<d;f++){var p=t[f];if(r)i=t[f?f-1:d-1],a=t[(f+1)%d];else{if(0===f||f===d-1){u.push(so(t[f]));continue}i=t[f-1],a=t[f+1]}uo(l,a,i),io(l,l,e);var v=ao(p,i),g=ao(p,a),_=v+g;0!==_&&(v/=_,g/=_),io(h,l,-v),io(c,l,g);var y=oo([],p,h),m=oo([],p,c);n&&(no(y,y,o),ro(y,y,s),no(m,m,o),ro(m,m,s)),u.push(y),u.push(m)}return r&&u.push(u.shift()),u};var ho={buildPath:function(t,e,r){var n=e.points,i=e.smooth;if(n&&n.length>=2){if(i&&"spline"!==i){var a=lo(n,i,r,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var o=n.length,s=0;s<(r?o:o-1);s++){var u=a[2*s],l=a[2*s+1],h=n[(s+1)%o];t.bezierCurveTo(u[0],u[1],l[0],l[1],h[0],h[1])}}else{"spline"===i&&(n=eo(n,r)),t.moveTo(n[0][0],n[0][1]),s=1;for(var c=n.length;s<c;s++)t.lineTo(n[s][0],n[s][1])}r&&t.closePath()}}},co=xa.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){ho.buildPath(t,e,!0)}}),fo=xa.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){ho.buildPath(t,e,!1)}}),po=function(t){this.colorStops=t||[]};po.prototype={constructor:po,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var vo=po,go=function(t,e,r,n,i,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==r?1:r,this.y2=null==n?0:n,this.type="linear",this.global=a||!1,vo.call(this,i)};go.prototype={constructor:go},j.inherits(go,vo);var _o=go,yo=Fa.createFromString,mo=j.isString,xo=j.extend,bo=j.defaults,wo=j.trim,ko=j.each,To=/[\s,]+/;function So(t){mo(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function Ao(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}Ao.prototype.parse=function(t,e){e=e||{};var r=So(t);if(!r)throw new Error("Illegal svg");var n=new Ue;this._root=n;var i=r.getAttribute("viewBox")||"",a=parseFloat(r.getAttribute("width")||e.width),o=parseFloat(r.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(o)&&(o=null),Oo(r,n,null,!0);for(var s,u,l=r.firstChild;l;)this._parseNode(l,n),l=l.nextSibling;if(i){var h=wo(i).split(To);h.length>=4&&(s={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(s&&null!=a&&null!=o&&(u=Bo(s,a,o),!e.ignoreViewBox)){var c=n;(n=new Ue).add(c),c.scale=u.scale.slice(),c.position=u.position.slice()}return e.ignoreRootClip||null==a||null==o||n.setClipPath(new $a({shape:{x:0,y:0,width:a,height:o}})),{root:n,width:a,height:o,viewBoxRect:s,viewBoxTransform:u}},Ao.prototype._parseNode=function(t,e){var r,n,i=t.nodeName.toLowerCase();if("defs"===i?this._isDefine=!0:"text"===i&&(this._isText=!0),this._isDefine){if(n=Co[i]){var a=n.call(this,t),o=t.getAttribute("id");o&&(this._defs[o]=a)}}else(n=Po[i])&&(r=n.call(this,t,e),e.add(r));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,r),3===s.nodeType&&this._isText&&this._parseText(s,r),s=s.nextSibling;"defs"===i?this._isDefine=!1:"text"===i&&(this._isText=!1)},Ao.prototype._parseText=function(t,e){if(1===t.nodeType){var r=t.getAttribute("dx")||0,n=t.getAttribute("dy")||0;this._textX+=parseFloat(r),this._textY+=parseFloat(n)}var i=new Na({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Lo(e,i),Oo(t,i,this._defs);var a=i.style.fontSize;a&&a<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=a/9,i.scale[1]*=a/9);var o=i.getBoundingRect();return this._textX+=o.width,e.add(i),i};var Po={g:function(t,e){var r=new Ue;return Lo(e,r),Oo(t,r,this._defs),r},rect:function(t,e){var r=new $a;return Lo(e,r),Oo(t,r,this._defs),r.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),r},circle:function(t,e){var r=new Ha;return Lo(e,r),Oo(t,r,this._defs),r.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),r},line:function(t,e){var r=new Ka;return Lo(e,r),Oo(t,r,this._defs),r.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),r},ellipse:function(t,e){var r=new Ga;return Lo(e,r),Oo(t,r,this._defs),r.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),r},polygon:function(t,e){var r=t.getAttribute("points");r&&(r=Mo(r));var n=new co({shape:{points:r||[]}});return Lo(e,n),Oo(t,n,this._defs),n},polyline:function(t,e){var r=new xa;Lo(e,r),Oo(t,r,this._defs);var n=t.getAttribute("points");return n&&(n=Mo(n)),new fo({shape:{points:n||[]}})},image:function(t,e){var r=new On;return Lo(e,r),Oo(t,r,this._defs),r.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),r},text:function(t,e){var r=t.getAttribute("x")||0,n=t.getAttribute("y")||0,i=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(n)+parseFloat(a);var o=new Ue;return Lo(e,o),Oo(t,o,this._defs),o},tspan:function(t,e){var r=t.getAttribute("x"),n=t.getAttribute("y");null!=r&&(this._textX=parseFloat(r)),null!=n&&(this._textY=parseFloat(n));var i=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0,o=new Ue;return Lo(e,o),Oo(t,o,this._defs),this._textX+=i,this._textY+=a,o},path:function(t,e){var r=t.getAttribute("d")||"",n=yo(r);return Lo(e,n),Oo(t,n,this._defs),n}},Co={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),r=parseInt(t.getAttribute("y1")||0,10),n=parseInt(t.getAttribute("x2")||10,10),i=parseInt(t.getAttribute("y2")||0,10),a=new _o(e,r,n,i);return function(t,e){var r=t.firstChild;for(;r;){if(1===r.nodeType){var n=r.getAttribute("offset");n=n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var i=r.getAttribute("stop-color")||"#000000";e.addColorStop(n,i)}r=r.nextSibling}}(t,a),a},radialgradient:function(t){}};function Lo(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),bo(e.__inheritedStyle,t.__inheritedStyle))}function Mo(t){for(var e=wo(t).split(To),r=[],n=0;n<e.length;n+=2){var i=parseFloat(e[n]),a=parseFloat(e[n+1]);r.push([i,a])}return r}var zo={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Oo(t,e,r,n){var i=e.__inheritedStyle||{},a="text"===e.type;if(1===t.nodeType&&(function(t,e){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var n=null,i=[];r.replace(Do,function(t,e,r){i.push(e,r)});for(var a=i.length-1;a>0;a-=2){var o=i[a],s=i[a-1];switch(n=n||xt.create(),s){case"translate":o=wo(o).split(To),xt.translate(n,n,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=wo(o).split(To),xt.scale(n,n,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=wo(o).split(To),xt.rotate(n,n,parseFloat(o[0]));break;case"skew":o=wo(o).split(To),console.warn("Skew transform is not supported yet");break;case"matrix":var o=wo(o).split(To);n[0]=parseFloat(o[0]),n[1]=parseFloat(o[1]),n[2]=parseFloat(o[2]),n[3]=parseFloat(o[3]),n[4]=parseFloat(o[4]),n[5]=parseFloat(o[5])}}e.setLocalTransform(n)}}(t,e),xo(i,function(t){var e=t.getAttribute("style"),r={};if(!e)return r;var n,i={};Io.lastIndex=0;for(;null!=(n=Io.exec(e));)i[n[1]]=n[2];for(var a in zo)zo.hasOwnProperty(a)&&null!=i[a]&&(r[zo[a]]=i[a]);return r}(t)),!n))for(var o in zo)if(zo.hasOwnProperty(o)){var s=t.getAttribute(o);null!=s&&(i[zo[o]]=s)}var u=a?"textFill":"fill",l=a?"textStroke":"stroke";e.style=e.style||new dr;var h=e.style;null!=i.fill&&h.set(u,Eo(i.fill,r)),null!=i.stroke&&h.set(l,Eo(i.stroke,r)),ko(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&a?"textStrokeWidth":t;null!=i[t]&&h.set(e,parseFloat(i[t]))}),i.textBaseline&&"auto"!==i.textBaseline||(i.textBaseline="alphabetic"),"alphabetic"===i.textBaseline&&(i.textBaseline="bottom"),"start"===i.textAlign&&(i.textAlign="left"),"end"===i.textAlign&&(i.textAlign="right"),ko(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=i[t]&&h.set(t,i[t])}),i.lineDash&&(e.style.lineDash=wo(i.lineDash).split(To)),h[l]&&"none"!==h[l]&&(e[l]=!0),e.__inheritedStyle=i}var Ro=/url\(\s*#(.*?)\)/;function Eo(t,e){var r=e&&t&&t.match(Ro);return r?e[wo(r[1])]:t}var Do=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;var Io=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Bo(t,e,r){var n=e/t.width,i=r/t.height,a=Math.min(n,i);return{scale:[a,a],position:[-(t.x+t.width/2)*a+e/2,-(t.y+t.height/2)*a+r/2]}}var Fo={parseXML:So,makeViewBoxTransform:Bo,parseSVG:function(t,e){return(new Ao).parse(t,e)}},jo=xa.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,r=0;r<e.length;r++)t=t||e[r].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var r=e.paths||[],n=0;n<r.length;n++)r[n].buildPath(t,r[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),xa.prototype.getBoundingRect.call(this)}}),Wo=j.inherits;function No(t){Mn.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}No.prototype.incremental=!0,No.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},No.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},No.prototype.addDisplayables=function(t,e){e=e||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],e)},No.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},No.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},No.prototype.brush=function(t,e){for(var r=this._cursor;r<this._displayables.length;r++){(n=this._displayables[r]).beforeBrush&&n.beforeBrush(t),n.brush(t,r===this._cursor?null:this._displayables[r-1]),n.afterBrush&&n.afterBrush(t)}this._cursor=r;for(r=0;r<this._temporaryDisplayables.length;r++){var n;(n=this._temporaryDisplayables[r]).beforeBrush&&n.beforeBrush(t),n.brush(t,0===r?null:this._temporaryDisplayables[r-1]),n.afterBrush&&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var Ho=[];No.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new He(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var r=this._displayables[e],n=r.getBoundingRect().clone();r.needLocalTransform()&&n.applyTransform(r.getLocalTransform(Ho)),t.union(n)}this._rect=t}return this._rect},No.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(r[0],r[1]))for(var n=0;n<this._displayables.length;n++){if(this._displayables[n].contain(t,e))return!0}return!1},Wo(No,Mn);var qo=No,Uo=xa.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.cx,n=e.cy,i=Math.max(e.r,0),a=e.startAngle,o=e.endAngle,s=e.clockwise,u=Math.cos(a),l=Math.sin(a);t.moveTo(u*i+r,l*i+n),t.arc(r,n,i,a,o,!s)}}),Vo=wi.quadraticSubdivide,Xo=wi.cubicSubdivide,Yo=wi.quadraticAt,$o=wi.cubicAt,Go=wi.quadraticDerivativeAt,Zo=wi.cubicDerivativeAt,Qo=[];function Ko(t,e,r){var n=t.cpx2,i=t.cpy2;return null===n||null===i?[(r?Zo:$o)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?Zo:$o)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?Go:Yo)(t.x1,t.cpx1,t.x2,e),(r?Go:Yo)(t.y1,t.cpy1,t.y2,e)]}var Jo=xa.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2,o=e.cpx1,s=e.cpy1,u=e.cpx2,l=e.cpy2,h=e.percent;0!==h&&(t.moveTo(r,n),null==u||null==l?(h<1&&(Vo(r,o,i,h,Qo),o=Qo[1],i=Qo[2],Vo(n,s,a,h,Qo),s=Qo[1],a=Qo[2]),t.quadraticCurveTo(o,s,i,a)):(h<1&&(Xo(r,o,u,i,h,Qo),o=Qo[1],u=Qo[2],i=Qo[3],Xo(n,s,l,a,h,Qo),s=Qo[1],l=Qo[2],a=Qo[3]),t.bezierCurveTo(o,s,u,l,i,a)))},pointAt:function(t){return Ko(this.shape,t,!1)},tangentAt:function(t){var e=Ko(this.shape,t,!0);return V.normalize(e,e)}}),ts=xa.extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width,a=e.height;t.moveTo(r,n+i),t.bezierCurveTo(r+i,n+i,r+3*i/2,n-i/3,r,n-a),t.bezierCurveTo(r-3*i/2,n-i/3,r-i,n+i,r,n+i),t.closePath()}}),es=xa.extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width,a=e.height;t.moveTo(r,n),t.bezierCurveTo(r+i/2,n-2*a/3,r+2*i,n+a/3,r,n+a),t.bezierCurveTo(r-2*i,n+a/3,r-i/2,n-2*a/3,r,n)}}),rs=Math.PI,ns=Math.sin,is=Math.cos,as=xa.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(t,e){var r=e.n;if(r&&!(r<2)){var n=e.x,i=e.y,a=e.r,o=2*rs/r,s=-rs/2;t.moveTo(n+a*is(s),i+a*ns(s));for(var u=0,l=r-1;u<l;u++)s+=o,t.lineTo(n+a*is(s),i+a*ns(s));t.closePath()}}}),os=xa.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=2*Math.PI;t.moveTo(r+e.r,n),t.arc(r,n,e.r,0,i,!1),t.moveTo(r+e.r0,n),t.arc(r,n,e.r0,0,i,!0)}}),ss=Math.sin,us=Math.cos,ls=Math.PI/180,hs=xa.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r,n,i,a=e.r,o=e.k,s=e.n,u=e.cx,l=e.cy;t.moveTo(u,l);for(var h=0,c=a.length;h<c;h++){i=a[h];for(var f=0;f<=360*s;f++)r=i*ss(o/s*f%360*ls)*us(f*ls)+u,n=i*ss(o/s*f%360*ls)*ss(f*ls)+l,t.lineTo(r,n)}}}),cs=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var fs=function(t){return p.browser.ie&&p.browser.version>=11?function(){var e,r=this.__clipPaths,n=this.style;if(r)for(var i=0;i<r.length;i++){var a=r[i],o=a&&a.shape,s=a&&a.type;if(o&&("sector"===s&&o.startAngle===o.endAngle||"rect"===s&&(!o.width||!o.height))){for(var u=0;u<cs.length;u++)cs[u][2]=n[cs[u][0]],n[cs[u][0]]=cs[u][1];e=!0;break}}if(t.apply(this,arguments),e)for(u=0;u<cs.length;u++)n[cs[u][0]]=cs[u][2]}:t},ds=xa.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:fs(xa.prototype.brush),buildPath:function(t,e){var r=e.cx,n=e.cy,i=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,u=e.clockwise,l=Math.cos(o),h=Math.sin(o);t.moveTo(l*i+r,h*i+n),t.lineTo(l*a+r,h*a+n),t.arc(r,n,a,o,s,!u),t.lineTo(Math.cos(s)*i+r,Math.sin(s)*i+n),0!==i&&t.arc(r,n,i,s,o,u),t.closePath()}}),ps=Math.PI,vs=Math.cos,gs=Math.sin,_s=xa.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(t,e){var r=e.n;if(r&&!(r<2)){var n=e.cx,i=e.cy,a=e.r,o=e.r0;null==o&&(o=r>4?a*vs(2*ps/r)/vs(ps/r):a/3);var s=ps/r,u=-ps/2,l=n+a*vs(u),h=i+a*gs(u);u+=s,t.moveTo(l,h);for(var c,f=0,d=2*r-1;f<d;f++)c=f%2==0?o:a,t.lineTo(n+c*vs(u),i+c*gs(u)),u+=s;t.closePath()}}}),ys=Math.cos,ms=Math.sin,xs=xa.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r,n,i,a,o=e.r,s=e.r0,u=e.d,l=e.cx,h=e.cy,c="out"===e.location?1:-1;if(!(e.location&&o<=s)){var f,d=0,p=1;r=(o+c*s)*ys(0)-c*u*ys(0)+l,n=(o+c*s)*ms(0)-u*ms(0)+h,t.moveTo(r,n);do{d++}while(s*d%(o+c*s)!=0);do{f=Math.PI/180*p,i=(o+c*s)*ys(f)-c*u*ys((o/s+c)*f)+l,a=(o+c*s)*ms(f)-u*ms((o/s+c)*f)+h,t.lineTo(i,a),p++}while(p<=s*d/(o+c*s)*360)}}}),bs=function(t,e,r,n,i){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==r?.5:r,this.type="radial",this.global=i||!1,vo.call(this,n)};bs.prototype={constructor:bs},j.inherits(bs,vo);var ws={util:j,matrix:xt,vector:V,color:ne,path:Fa,parseSVG:Fo.parseSVG,Group:Ue,Path:xa,Image:On,CompoundPath:jo,Text:Na,IncrementalDisplayable:qo,Arc:Uo,BezierCurve:Jo,Circle:Ha,Droplet:ts,Ellipse:Ga,Heart:es,Isogon:as,Line:Ka,Polygon:co,Polyline:fo,Rect:$a,Ring:os,Rose:hs,Sector:ds,Star:_s,Trochoid:xs,LinearGradient:_o,RadialGradient:bs,Pattern:vr,BoundingRect:He},ks="http://www.w3.org/2000/svg";var Ts={createElement:function(t){return document.createElementNS(ks,t)}},Ss=Ts.createElement,As=$i.CMD,Ps=Array.prototype.join,Cs="none",Ls=Math.round,Ms=Math.sin,zs=Math.cos,Os=Math.PI,Rs=2*Math.PI,Es=180/Os,Ds=1e-4;function Is(t){return Ls(1e4*t)/1e4}function Bs(t){return t<Ds&&t>-Ds}function Fs(t,e){e&&js(t,"transform","matrix("+Ps.call(e,",")+")")}function js(t,e,r){(!r||"linear"!==r.type&&"radial"!==r.type)&&t.setAttribute(e,r)}function Ws(t,e,r,n){if(function(t,e){var r=e?t.textFill:t.fill;return null!=r&&r!==Cs}(e,r)){var i=r?e.textFill:e.fill;i="transparent"===i?Cs:i,"none"!==t.getAttribute("clip-path")&&i===Cs&&(i="rgba(0, 0, 0, 0.002)"),js(t,"fill",i),js(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else js(t,"fill",Cs);if(function(t,e){var r=e?t.textStroke:t.stroke;return null!=r&&r!==Cs}(e,r)){var a=r?e.textStroke:e.stroke;js(t,"stroke",a="transparent"===a?Cs:a),js(t,"stroke-width",(r?e.textStrokeWidth:e.lineWidth)/(!r&&e.strokeNoScale?n.getLineScale():1)),js(t,"paint-order",r?"stroke":"fill"),js(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(js(t,"stroke-dasharray",e.lineDash.join(",")),js(t,"stroke-dashoffset",Ls(e.lineDashOffset||0))):js(t,"stroke-dasharray",""),e.lineCap&&js(t,"stroke-linecap",e.lineCap),e.lineJoin&&js(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&js(t,"stroke-miterlimit",e.miterLimit)}else js(t,"stroke",Cs)}var Ns={};Ns.brush=function(t){var e=t.style,r=t.__svgEl;r||(r=Ss("path"),t.__svgEl=r),t.path||t.createPathProxy();var n=t.path;if(t.__dirtyPath){n.beginPath(),n.subPixelOptimize=!1,t.buildPath(n,t.shape),t.__dirtyPath=!1;var i=function(t){for(var e=[],r=t.data,n=t.len(),i=0;i<n;){var a="",o=0;switch(r[i++]){case As.M:a="M",o=2;break;case As.L:a="L",o=2;break;case As.Q:a="Q",o=4;break;case As.C:a="C",o=6;break;case As.A:var s=r[i++],u=r[i++],l=r[i++],h=r[i++],c=r[i++],f=r[i++],d=r[i++],p=r[i++],v=Math.abs(f),g=Bs(v-Rs)&&!Bs(v),_=!1;_=v>=Rs||!Bs(v)&&(f>-Os&&f<0||f>Os)==!!p;var y=Is(s+l*zs(c)),m=Is(u+h*Ms(c));g&&(f=p?Rs-1e-4:1e-4-Rs,_=!0,9===i&&e.push("M",y,m));var x=Is(s+l*zs(c+f)),b=Is(u+h*Ms(c+f));e.push("A",Is(l),Is(h),Ls(d*Es),+_,+p,x,b);break;case As.Z:a="Z";break;case As.R:x=Is(r[i++]),b=Is(r[i++]);var w=Is(r[i++]),k=Is(r[i++]);e.push("M",x,b,"L",x+w,b,"L",x+w,b+k,"L",x,b+k,"L",x,b)}a&&e.push(a);for(var T=0;T<o;T++)e.push(Is(r[i++]))}return e.join(" ")}(n);i.indexOf("NaN")<0&&js(r,"d",i)}Ws(r,e,!1,t),Fs(r,t.transform),null!=e.text&&Vs(t,t.getBoundingRect())};var Hs={brush:function(t){var e=t.style,r=e.image;r instanceof HTMLImageElement&&(r=r.src);if(r){var n=e.x||0,i=e.y||0,a=e.width,o=e.height,s=t.__svgEl;s||(s=Ss("image"),t.__svgEl=s),r!==t.__imageSrc&&(!function(t,e,r){t.setAttributeNS("http://www.w3.org/1999/xlink",e,r)}(s,"href",r),t.__imageSrc=r),js(s,"width",a),js(s,"height",o),js(s,"x",n),js(s,"y",i),Fs(s,t.transform),null!=e.text&&Vs(t,t.getBoundingRect())}}},qs={},Us=new He,Vs=function(t,e,r){var n=t.style;t.__dirty&&Tn.normalizeTextStyle(n,!0);var i=n.text;if(null!=i){i+="";var a,o,s=t.__textSvgEl;s||(s=Ss("text"),t.__textSvgEl=s);var u=n.textPosition,l=n.textDistance,h=n.textAlign||"left";"number"==typeof n.fontSize&&(n.fontSize+="px");var c=n.font||[n.fontStyle||"",n.fontWeight||"",n.fontSize||"",n.fontFamily||""].join(" ")||Gr.DEFAULT_FONT,f=Xs(n.textVerticalAlign),d=(r=Gr.getBoundingRect(i,c,h,f,n.textPadding,n.textLineHeight)).lineHeight;if(u instanceof Array)a=e.x+u[0],o=e.y+u[1];else{var p=Gr.adjustTextPositionOnRect(u,e,l);a=p.x,o=p.y,f=Xs(p.textVerticalAlign),h=p.textAlign}js(s,"alignment-baseline",f),c&&(s.style.font=c);var v=n.textPadding;if(js(s,"x",a),js(s,"y",o),Ws(s,n,!0,t),t instanceof Na||t.style.transformText)Fs(s,t.transform);else{if(t.transform)Us.copy(e),Us.applyTransform(t.transform),e=Us;else{var g=t.transformCoordToGlobal(e.x,e.y);e.x=g[0],e.y=g[1],t.transform=xt.identity(xt.create())}var _=n.textOrigin;"center"===_?(a=r.width/2+a,o=r.height/2+o):_&&(a=_[0]+a,o=_[1]+o);var y=-n.textRotation||0,m=xt.create();xt.rotate(m,m,y);g=[t.transform[4],t.transform[5]];xt.translate(m,m,g),Fs(s,m)}var x=i.split("\n"),b=x.length,w=h;"left"===w?(w="start",v&&(a+=v[3])):"right"===w?(w="end",v&&(a-=v[1])):"center"===w&&(w="middle",v&&(a+=(v[3]-v[1])/2));var k=0;if("after-edge"===f?(k=-r.height+d,v&&(k-=v[2])):"middle"===f?(k=(-r.height+d)/2,v&&(o+=(v[0]-v[2])/2)):v&&(k+=v[0]),t.__text!==i||t.__textFont!==c){var T=t.__tspanList||[];t.__tspanList=T;for(var S=0;S<b;S++){(P=T[S])?P.innerHTML="":(P=T[S]=Ss("tspan"),s.appendChild(P),js(P,"alignment-baseline",f),js(P,"text-anchor",w)),js(P,"x",a),js(P,"y",o+S*d+k),P.appendChild(document.createTextNode(x[S]))}for(;S<T.length;S++)s.removeChild(T[S]);T.length=b,t.__text=i,t.__textFont=c}else if(t.__tspanList.length){var A=t.__tspanList.length;for(S=0;S<A;++S){var P;(P=t.__tspanList[S])&&(js(P,"x",a),js(P,"y",o+S*d+k))}}}};function Xs(t){return"middle"===t?"middle":"bottom"===t?"after-edge":"hanging"}qs.drawRectText=Vs,qs.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],Vs(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))};var Ys={path:Ns,image:Hs,text:qs};function $s(){}function Gs(t,e,r,n){for(var i=0,a=e.length,o=0,s=0;i<a;i++){var u=e[i];if(u.removed){for(l=[],h=s;h<s+u.count;h++)l.push(h);u.indices=l,s+=u.count}else{for(var l=[],h=o;h<o+u.count;h++)l.push(h);u.indices=l,o+=u.count,u.added||(s+=u.count)}}return e}function Zs(t){return{newPos:t.newPos,components:t.components.slice(0)}}$s.prototype={diff:function(t,e,r){r||(r=function(t,e){return t===e}),this.equals=r;var n=this;t=t.slice();var i=(e=e.slice()).length,a=t.length,o=1,s=i+a,u=[{newPos:-1,components:[]}],l=this.extractCommon(u[0],e,t,0);if(u[0].newPos+1>=i&&l+1>=a){for(var h=[],c=0;c<e.length;c++)h.push(c);return[{indices:h,count:e.length}]}function f(){for(var r=-1*o;r<=o;r+=2){var s,l=u[r-1],h=u[r+1],c=(h?h.newPos:0)-r;l&&(u[r-1]=void 0);var f=l&&l.newPos+1<i,d=h&&0<=c&&c<a;if(f||d){if(!f||d&&l.newPos<h.newPos?(s=Zs(h),n.pushComponent(s.components,void 0,!0)):((s=l).newPos++,n.pushComponent(s.components,!0,void 0)),c=n.extractCommon(s,e,t,r),s.newPos+1>=i&&c+1>=a)return Gs(n,s.components);u[r]=s}else u[r]=void 0}o++}for(;o<=s;){var d=f();if(d)return d}},pushComponent:function(t,e,r){var n=t[t.length-1];n&&n.added===e&&n.removed===r?t[t.length-1]={count:n.count+1,added:e,removed:r}:t.push({count:1,added:e,removed:r})},extractCommon:function(t,e,r,n){for(var i=e.length,a=r.length,o=t.newPos,s=o-n,u=0;o+1<i&&s+1<a&&this.equals(e[o+1],r[s+1]);)o++,s++,u++;return u&&t.components.push({count:u}),t.newPos=o,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var Qs=new $s;var Ks=function(t,e,r){return Qs.diff(t,e,r)},Js=Ts.createElement,tu=Ys.path,eu=Ys.image,ru=Ys.text;function nu(t,e,r,n,i){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof r?[r]:r,this._markLabel=n,this._domName=i||"_dom",this.nextId=0}nu.prototype.createElement=Js,nu.prototype.getDefs=function(t){var e=this._svgRoot,r=this._svgRoot.getElementsByTagName("defs");return 0===r.length?t?((r=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(r.contains=function(t){var e=r.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),r):null:r[0]},nu.prototype.update=function(t,e){if(t){var r=this.getDefs(!1);if(t[this._domName]&&r.contains(t[this._domName]))"function"==typeof e&&e(t);else{var n=this.add(t);n&&(t[this._domName]=n)}}},nu.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},nu.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},nu.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return j.each(this._tagNames,function(r){var n=t.getElementsByTagName(r);e=e.concat([].slice.call(n))}),e},nu.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;j.each(t,function(t){t[e._markLabel]="0"})},nu.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},nu.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),r=this;j.each(e,function(e){"1"!==e[r._markLabel]&&t.removeChild(e)})}},nu.prototype.getSvgProxy=function(t){return t instanceof xa?tu:t instanceof On?eu:t instanceof Na?ru:tu},nu.prototype.getTextSvgElement=function(t){return t.__textSvgEl},nu.prototype.getSvgElement=function(t){return t.__svgEl};var iu=nu;function au(t,e){iu.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}j.inherits(au,iu),au.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var r=this;j.each(["fill","stroke"],function(n){if(e.style[n]&&("linear"===e.style[n].type||"radial"===e.style[n].type)){var i,a=e.style[n],o=r.getDefs(!0);a._dom?(i=a._dom,o.contains(a._dom)||r.addDom(i)):i=r.add(a),r.markUsed(e);var s=i.getAttribute("id");t.setAttribute(n,"url(#"+s+")")}})}},au.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return we("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},au.prototype.update=function(t){var e=this;iu.prototype.update.call(this,t,function(){var r=t.type,n=t._dom.tagName;"linear"===r&&"linearGradient"===n||"radial"===r&&"radialGradient"===n?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},au.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void we("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var r=t.colorStops,n=0,i=r.length;n<i;++n){var a=this.createElement("stop");a.setAttribute("offset",100*r[n].offset+"%");var o=r[n].color;if(o.indexOf(!1)){var s=ne.parse(o)[3],u=ne.toHex(o);a.setAttribute("stop-color","#"+u),a.setAttribute("stop-opacity",s)}else a.setAttribute("stop-color",r[n].color);e.appendChild(a)}t._dom=e},au.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&iu.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&iu.prototype.markUsed.call(this,e._dom)}};var ou=au;function su(t,e){iu.call(this,t,e,"clipPath","__clippath_in_use__")}j.inherits(su,iu),su.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var r=this.getTextSvgElement(t);r&&this.updateDom(r,t.__clipPaths,!0),this.markUsed(t)},su.prototype.updateDom=function(t,e,r){if(e&&e.length>0){var n,i,a=this.getDefs(!0),o=e[0],s=r?"_textDom":"_dom";o[s]?(i=o[s].getAttribute("id"),n=o[s],a.contains(n)||a.appendChild(n)):(i="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(n=this.createElement("clipPath")).setAttribute("id",i),a.appendChild(n),o[s]=n);var u=this.getSvgProxy(o);if(o.transform&&o.parent.invTransform&&!r){var l=Array.prototype.slice.call(o.transform);xt.mul(o.transform,o.parent.invTransform,o.transform),u.brush(o),o.transform=l}else u.brush(o);var h=this.getSvgElement(o);n.innerHTML="",n.appendChild(h.cloneNode()),t.setAttribute("clip-path","url(#"+i+")"),e.length>1&&this.updateDom(n,e.slice(1),r)}else t&&t.setAttribute("clip-path","none")},su.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&j.each(t.__clipPaths,function(t){t._dom&&iu.prototype.markUsed.call(e,t._dom),t._textDom&&iu.prototype.markUsed.call(e,t._textDom)})};var uu=su;function lu(t,e){iu.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function hu(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}j.inherits(lu,iu),lu.prototype.addWithoutUpdate=function(t,e){if(e&&hu(e.style)){var r,n=e.style;if(n._shadowDom)r=n._shadowDom,this.getDefs(!0).contains(n._shadowDom)||this.addDom(r);else r=this.add(e);this.markUsed(e);var i=r.getAttribute("id");t.style.filter="url(#"+i+")"}},lu.prototype.add=function(t){var e=this.createElement("filter"),r=t.style;return r._shadowDomId=r._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+r._shadowDomId),this.updateDom(t,e),this.addDom(e),e},lu.prototype.update=function(t,e){var r=e.style;if(hu(r)){var n=this;iu.prototype.update.call(this,e,function(t){n.updateDom(e,t._shadowDom)})}else this.remove(t,r)},lu.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},lu.prototype.updateDom=function(t,e){var r=e.getElementsByTagName("feDropShadow");r=0===r.length?this.createElement("feDropShadow"):r[0];var n,i,a,o,s=t.style,u=t.scale&&t.scale[0]||1,l=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)n=s.shadowOffsetX||0,i=s.shadowOffsetY||0,a=s.shadowBlur,o=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);n=s.textShadowOffsetX||0,i=s.textShadowOffsetY||0,a=s.textShadowBlur,o=s.textShadowColor}r.setAttribute("dx",n/u),r.setAttribute("dy",i/l),r.setAttribute("flood-color",o);var h=a/2/u+" "+a/2/l;r.setAttribute("stdDeviation",h),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(a/2*200)+"%"),e.setAttribute("height",Math.ceil(a/2*200)+"%"),e.appendChild(r),s._shadowDom=e},lu.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&iu.prototype.markUsed.call(this,e._shadowDom)};var cu=lu,fu=Ts.createElement,du=Ys.path,pu=Ys.image,vu=Ys.text;function gu(t){return parseInt(t,10)}function _u(t,e){return e&&t&&e.parentNode!==t}function yu(t,e,r){if(_u(t,e)&&r){var n=r.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function mu(t,e){if(_u(t,e)){var r=t.firstChild;r?t.insertBefore(e,r):t.appendChild(e)}}function xu(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function bu(t){return t.__textSvgEl}function wu(t){return t.__svgEl}var ku=function(t,e,r,n){this.root=t,this.storage=e,this._opts=r=j.extend({},r||{});var i=fu("svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("version","1.1"),i.setAttribute("baseProfile","full"),i.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new ou(n,i),this.clipPathManager=new uu(n,i),this.shadowManager=new cu(n,i);var a=document.createElement("div");a.style.cssText="overflow:hidden;position:relative",this._svgRoot=i,this._viewport=a,t.appendChild(a),a.appendChild(i),this.resize(r.width,r.height),this._visibleList=[]};ku.prototype={constructor:ku,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,r,n=this._svgRoot,i=this._visibleList,a=t.length,o=[];for(e=0;e<a;e++){var s=t[e],u=(r=s)instanceof xa?du:r instanceof On?pu:r instanceof Na?vu:du,l=wu(s)||bu(s);s.invisible||(s.__dirty&&(u&&u.brush(s),this.clipPathManager.update(s),s.style&&(this.gradientManager.update(s.style.fill),this.gradientManager.update(s.style.stroke),this.shadowManager.update(l,s)),s.__dirty=!1),o.push(s))}var h,c=Ks(i,o);for(e=0;e<c.length;e++){if((p=c[e]).removed)for(var f=0;f<p.count;f++){l=wu(s=i[p.indices[f]]);var d=bu(s);xu(n,l),xu(n,d)}}for(e=0;e<c.length;e++){var p;if((p=c[e]).added)for(f=0;f<p.count;f++){l=wu(s=o[p.indices[f]]),d=bu(s);h?yu(n,l,h):mu(n,l),l?yu(n,d,l):h?yu(n,d,h):mu(n,d),yu(n,d,l),h=d||l||h,this.gradientManager.addWithoutUpdate(l,s),this.shadowManager.addWithoutUpdate(h,s),this.clipPathManager.markUsed(s)}else if(!p.removed)for(f=0;f<p.count;f++){h=l=bu(s=o[p.indices[f]])||wu(s)||h,this.gradientManager.markUsed(s),this.gradientManager.addWithoutUpdate(l,s),this.shadowManager.markUsed(s),this.shadowManager.addWithoutUpdate(l,s),this.clipPathManager.markUsed(s)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=o},_getDefs:function(t){var e,r=this._svgRoot;return 0===(e=this._svgRoot.getElementsByTagName("defs")).length?t?((e=r.insertBefore(fu("defs"),r.firstChild)).contains||(e.contains=function(t){var r=e.children;if(!r)return!1;for(var n=r.length-1;n>=0;--n)if(r[n]===t)return!0;return!1}),e):null:e[0]},resize:function(t,e){var r=this._viewport;r.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),r.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var i=r.style;i.width=t+"px",i.height=e+"px";var a=this._svgRoot;a.setAttribute("width",t),a.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,r=["width","height"][t],n=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[n]||gu(s[r])||gu(o.style[r]))-(gu(s[i])||0)-(gu(s[a])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},j.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;ku.prototype[t]=(e=t,function(){we('In SVG mode painter not support method "'+e+'"')})});var Tu=ku;(0,oi.registerPainter)("svg",Tu);var Su,Au="urn:schemas-microsoft-com:vml",Pu="undefined"==typeof window?null:window,Cu=!1,Lu=Pu&&Pu.document;if(Lu&&!p.canvasSupported)try{!Lu.namespaces.zrvml&&Lu.namespaces.add("zrvml",Au),Su=function(t){return Lu.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){Su=function(t){return Lu.createElement("<"+t+' xmlns="'+Au+'" class="zrvml">')}}var Mu={doc:Lu,createNode:function(t){return Su(t)},initVML:function(){if(!Cu&&Lu){Cu=!0;var t=Lu.styleSheets;t.length<31?Lu.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}},zu=V.applyTransform,Ou=$i.CMD,Ru=Math.round,Eu=Math.sqrt,Du=Math.abs,Iu=Math.cos,Bu=Math.sin,Fu=Math.max;if(!p.canvasSupported){var ju=21600,Wu=ju/2,Nu=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=ju+","+ju,t.coordorigin="0,0"},Hu=function(t,e,r){return"rgb("+[t,e,r].join(",")+")"},qu=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},Uu=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},Vu=function(t,e,r){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+r},Xu=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},Yu=function(t,e,r){var n=ne.parse(e);r=+r,isNaN(r)&&(r=1),n&&(t.color=Hu(n[0],n[1],n[2]),t.opacity=r*n[3])},$u=function(t){var e=ne.parse(t);return[Hu(e[0],e[1],e[2]),e[3]]},Gu=function(t,e,r,n){var i="fill"===e,a=t.getElementsByTagName(e)[0];null!=r[e]&&"none"!==r[e]&&(i||!i&&r.lineWidth)?(t[i?"filled":"stroked"]="true",r[e]instanceof vo&&Uu(t,a),a||(a=Mu.createNode(e)),i?function(t,e,r){var n=e.fill;if(null!=n)if(n instanceof vo){var i,a=0,o=[0,0],s=0,u=1,l=r.getBoundingRect(),h=l.width,c=l.height;if("linear"===n.type){i="gradient";var f=r.transform,d=[n.x*h,n.y*c],p=[n.x2*h,n.y2*c];f&&(zu(d,d,f),zu(p,p,f));var v=p[0]-d[0],g=p[1]-d[1];(a=180*Math.atan2(v,g)/Math.PI)<0&&(a+=360),a<1e-6&&(a=0)}else{i="gradientradial",d=[n.x*h,n.y*c],f=r.transform;var _=r.scale,y=h,m=c;o=[(d[0]-l.x)/y,(d[1]-l.y)/m],f&&zu(d,d,f),y/=_[0]*ju,m/=_[1]*ju;var x=Fu(y,m);s=0/x,u=2*n.r/x-s}var b=n.colorStops.slice();b.sort(function(t,e){return t.offset-e.offset});for(var w=b.length,k=[],T=[],S=0;S<w;S++){var A=b[S],P=$u(A.color);T.push(A.offset*u+s+" "+P[0]),0!==S&&S!==w-1||k.push(P)}if(w>=2){var C=k[0][0],L=k[1][0],M=k[0][1]*e.opacity,z=k[1][1]*e.opacity;t.type=i,t.method="none",t.focus="100%",t.angle=a,t.color=C,t.color2=L,t.colors=T.join(","),t.opacity=z,t.opacity2=M}"radial"===i&&(t.focusposition=o.join(","))}else Yu(t,n,e.opacity)}(a,r,n):function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof vo||Yu(t,e.stroke,e.opacity)}(a,r),qu(t,a)):(t[i?"filled":"stroked"]="false",Uu(t,a))},Zu=[[],[],[]];xa.prototype.brushVML=function(t){var e=this.style,r=this._vmlEl;r||(r=Mu.createNode("shape"),Nu(r),this._vmlEl=r),Gu(r,"fill",e,this),Gu(r,"stroke",e,this);var n=this.transform,i=null!=n,a=r.getElementsByTagName("stroke")[0];if(a){var o=e.lineWidth;if(i&&!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];o*=Eu(Du(s))}a.weight=o+"px"}var u=this.path||(this.path=new $i);this.__dirtyPath&&(u.beginPath(),u.subPixelOptimize=!1,this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),r.path=function(t,e){var r,n,i,a,o,s,u=Ou.M,l=Ou.C,h=Ou.L,c=Ou.A,f=Ou.Q,d=[],p=t.data,v=t.len();for(a=0;a<v;){switch(n="",r=0,i=p[a++]){case u:n=" m ",r=1,o=p[a++],s=p[a++],Zu[0][0]=o,Zu[0][1]=s;break;case h:n=" l ",r=1,o=p[a++],s=p[a++],Zu[0][0]=o,Zu[0][1]=s;break;case f:case l:n=" c ",r=3;var g,_,y=p[a++],m=p[a++],x=p[a++],b=p[a++];i===f?(g=x,_=b,x=(x+2*y)/3,b=(b+2*m)/3,y=(o+2*y)/3,m=(s+2*m)/3):(g=p[a++],_=p[a++]),Zu[0][0]=y,Zu[0][1]=m,Zu[1][0]=x,Zu[1][1]=b,Zu[2][0]=g,Zu[2][1]=_,o=g,s=_;break;case c:var w=0,k=0,T=1,S=1,A=0;e&&(w=e[4],k=e[5],T=Eu(e[0]*e[0]+e[1]*e[1]),S=Eu(e[2]*e[2]+e[3]*e[3]),A=Math.atan2(-e[1]/S,e[0]/T));var P=p[a++],C=p[a++],L=p[a++],M=p[a++],z=p[a++]+A,O=p[a++]+z+A;a++;var R=p[a++],E=P+Iu(z)*L,D=C+Bu(z)*M,I=(y=P+Iu(O)*L,m=C+Bu(O)*M,R?" wa ":" at ");Math.abs(E-y)<1e-4&&(Math.abs(O-z)>.01?R&&(E+=.0125):Math.abs(D-C)<1e-4?R&&E<P||!R&&E>P?m-=.0125:m+=.0125:R&&D<C||!R&&D>C?y+=.0125:y-=.0125),d.push(I,Ru(((P-L)*T+w)*ju-Wu),",",Ru(((C-M)*S+k)*ju-Wu),",",Ru(((P+L)*T+w)*ju-Wu),",",Ru(((C+M)*S+k)*ju-Wu),",",Ru((E*T+w)*ju-Wu),",",Ru((D*S+k)*ju-Wu),",",Ru((y*T+w)*ju-Wu),",",Ru((m*S+k)*ju-Wu)),o=y,s=m;break;case Ou.R:var B=Zu[0],F=Zu[1];B[0]=p[a++],B[1]=p[a++],F[0]=B[0]+p[a++],F[1]=B[1]+p[a++],e&&(zu(B,B,e),zu(F,F,e)),B[0]=Ru(B[0]*ju-Wu),F[0]=Ru(F[0]*ju-Wu),B[1]=Ru(B[1]*ju-Wu),F[1]=Ru(F[1]*ju-Wu),d.push(" m ",B[0],",",B[1]," l ",F[0],",",B[1]," l ",F[0],",",F[1]," l ",B[0],",",F[1]);break;case Ou.Z:d.push(" x ")}if(r>0){d.push(n);for(var j=0;j<r;j++){var W=Zu[j];e&&zu(W,W,e),d.push(Ru(W[0]*ju-Wu),",",Ru(W[1]*ju-Wu),j<r-1?",":"")}}}return d.join("")}(u,this.transform),r.style.zIndex=Vu(this.zlevel,this.z,this.z2),qu(t,r),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},xa.prototype.onRemove=function(t){Uu(t,this._vmlEl),this.removeRectText(t)},xa.prototype.onAdd=function(t){qu(t,this._vmlEl),this.appendRectText(t)};On.prototype.brushVML=function(t){var e,r,n,i=this.style,a=i.image;if("object"==typeof(n=a)&&n.tagName&&"IMG"===n.tagName.toUpperCase()){var o=a.src;if(o===this._imageSrc)e=this._imageWidth,r=this._imageHeight;else{var s=a.runtimeStyle,u=s.width,l=s.height;s.width="auto",s.height="auto",e=a.width,r=a.height,s.width=u,s.height=l,this._imageSrc=o,this._imageWidth=e,this._imageHeight=r}a=o}else a===this._imageSrc&&(e=this._imageWidth,r=this._imageHeight);if(a){var h=i.x||0,c=i.y||0,f=i.width,d=i.height,p=i.sWidth,v=i.sHeight,g=i.sx||0,_=i.sy||0,y=p&&v,m=this._vmlEl;m||(m=Mu.doc.createElement("div"),Nu(m),this._vmlEl=m);var x,b=m.style,w=!1,k=1,T=1;if(this.transform&&(x=this.transform,k=Eu(x[0]*x[0]+x[1]*x[1]),T=Eu(x[2]*x[2]+x[3]*x[3]),w=x[1]||x[2]),w){var S=[h,c],A=[h+f,c],P=[h,c+d],C=[h+f,c+d];zu(S,S,x),zu(A,A,x),zu(P,P,x),zu(C,C,x);var L=Fu(S[0],A[0],P[0],C[0]),M=Fu(S[1],A[1],P[1],C[1]),z=[];z.push("M11=",x[0]/k,",","M12=",x[2]/T,",","M21=",x[1]/k,",","M22=",x[3]/T,",","Dx=",Ru(h*k+x[4]),",","Dy=",Ru(c*T+x[5])),b.padding="0 "+Ru(L)+"px "+Ru(M)+"px 0",b.filter="progid:DXImageTransform.Microsoft.Matrix("+z.join("")+", SizingMethod=clip)"}else x&&(h=h*k+x[4],c=c*T+x[5]),b.filter="",b.left=Ru(h)+"px",b.top=Ru(c)+"px";var O=this._imageEl,R=this._cropEl;O||(O=Mu.doc.createElement("div"),this._imageEl=O);var E=O.style;if(y){if(e&&r)E.width=Ru(k*e*f/p)+"px",E.height=Ru(T*r*d/v)+"px";else{var D=new Image,I=this;D.onload=function(){D.onload=null,e=D.width,r=D.height,E.width=Ru(k*e*f/p)+"px",E.height=Ru(T*r*d/v)+"px",I._imageWidth=e,I._imageHeight=r,I._imageSrc=a},D.src=a}R||((R=Mu.doc.createElement("div")).style.overflow="hidden",this._cropEl=R);var B=R.style;B.width=Ru((f+g*f/p)*k),B.height=Ru((d+_*d/v)*T),B.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-g*f/p*k+",Dy="+-_*d/v*T+")",R.parentNode||m.appendChild(R),O.parentNode!==R&&R.appendChild(O)}else E.width=Ru(k*f)+"px",E.height=Ru(T*d)+"px",m.appendChild(O),R&&R.parentNode&&(m.removeChild(R),this._cropEl=null);var F="",j=i.opacity;j<1&&(F+=".Alpha(opacity="+Ru(100*j)+") "),F+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+a+", SizingMethod=scale)",E.filter=F,m.style.zIndex=Vu(this.zlevel,this.z,this.z2),qu(t,m),null!=i.text&&this.drawRectText(t,this.getBoundingRect())}},On.prototype.onRemove=function(t){Uu(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},On.prototype.onAdd=function(t){qu(t,this._vmlEl),this.appendRectText(t)};var Qu,Ku={},Ju=0,tl=document.createElement("div");Gr.$override("measureText",function(t,e){var r=Mu.doc;Qu||((Qu=r.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Mu.doc.body.appendChild(Qu));try{Qu.style.font=e}catch(t){}return Qu.innerHTML="",Qu.appendChild(r.createTextNode(t)),{width:Qu.offsetWidth}});for(var el=new He,rl=function(t,e,r,n){var i=this.style;this.__dirty&&Tn.normalizeTextStyle(i,!0);var a=i.text;if(null!=a&&(a+=""),a){if(i.rich){var o=Gr.parseRichText(a,i);a=[];for(var s=0;s<o.lines.length;s++){for(var u=o.lines[s].tokens,l=[],h=0;h<u.length;h++)l.push(u[h].text);a.push(l.join(""))}a=a.join("\n")}var c,f,d=i.textAlign,p=i.textVerticalAlign,v=function(t){var e=Ku[t];if(!e){Ju>100&&(Ju=0,Ku={});var r,n=tl.style;try{n.font=t,r=n.fontFamily.split(",")[0]}catch(t){}e={style:n.fontStyle||"normal",variant:n.fontVariant||"normal",weight:n.fontWeight||"normal",size:0|parseFloat(n.fontSize||12),family:r||"Microsoft YaHei"},Ku[t]=e,Ju++}return e}(i.font),g=v.style+" "+v.variant+" "+v.weight+" "+v.size+'px "'+v.family+'"';r=r||Gr.getBoundingRect(a,g,d,p,i.textPadding,i.textLineHeight);var _=this.transform;if(_&&!n&&(el.copy(e),el.applyTransform(_),e=el),n)c=e.x,f=e.y;else{var y=i.textPosition,m=i.textDistance;if(y instanceof Array)c=e.x+Xu(y[0],e.width),f=e.y+Xu(y[1],e.height),d=d||"left";else{var x=Gr.adjustTextPositionOnRect(y,e,m);c=x.x,f=x.y,d=d||x.textAlign,p=p||x.textVerticalAlign}}c=Gr.adjustTextX(c,r.width,d),f=Gr.adjustTextY(f,r.height,p),f+=r.height/2;var b,w,k,T=Mu.createNode,S=this._textVmlEl;S?w=(b=(k=S.firstChild).nextSibling).nextSibling:(S=T("line"),b=T("path"),w=T("textpath"),k=T("skew"),w.style["v-text-align"]="left",Nu(S),b.textpathok=!0,w.on=!0,S.from="0 0",S.to="1000 0.05",qu(S,k),qu(S,b),qu(S,w),this._textVmlEl=S);var A=[c,f],P=S.style;_&&n?(zu(A,A,_),k.on=!0,k.matrix=_[0].toFixed(3)+","+_[2].toFixed(3)+","+_[1].toFixed(3)+","+_[3].toFixed(3)+",0,0",k.offset=(Ru(A[0])||0)+","+(Ru(A[1])||0),k.origin="0 0",P.left="0px",P.top="0px"):(k.on=!1,P.left=Ru(c)+"px",P.top=Ru(f)+"px"),w.string=String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{w.style.font=g}catch(t){}Gu(S,"fill",{fill:i.textFill,opacity:i.opacity},this),Gu(S,"stroke",{stroke:i.textStroke,opacity:i.opacity,lineDash:i.lineDash},this),S.style.zIndex=Vu(this.zlevel,this.z,this.z2),qu(t,S)}},nl=function(t){Uu(t,this._textVmlEl),this._textVmlEl=null},il=function(t){qu(t,this._textVmlEl)},al=[Cn,Mn,On,xa,Na],ol=0;ol<al.length;ol++){var sl=al[ol].prototype;sl.drawRectText=rl,sl.removeRectText=nl,sl.appendRectText=il}Na.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},Na.prototype.onRemove=function(t){this.removeRectText(t)},Na.prototype.onAdd=function(t){this.appendRectText(t)}}var ul=j.each;function ll(t){return parseInt(t,10)}function hl(t,e){Mu.initVML(),this.root=t,this.storage=e;var r=document.createElement("div"),n=document.createElement("div");r.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(r),this._vmlRoot=n,this._vmlViewport=r,this.resize();var i=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){i.call(e,t),t&&t.onRemove&&t.onRemove(n)},e.addToStorage=function(t){t.onAdd&&t.onAdd(n),a.call(e,t)},this._firstPaint=!0}hl.prototype={constructor:hl,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,r=0;r<t.length;r++){var n=t[r];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!==t||this._height!==e){this._width=t,this._height=e;var r=this._vmlViewport.style;r.width=t+"px",r.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||ll(e.width))-ll(e.paddingLeft)-ll(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||ll(e.height))-ll(e.paddingTop)-ll(e.paddingBottom)|0}},ul(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;hl.prototype[t]=(e=t,function(){we('In IE8.0 VML mode painter not support method "'+e+'"')})});var cl=hl;(0,oi.registerPainter)("vml",cl);var fl,dl=c(function(t,e){!function(){for(var t in oi){if(null==oi||!oi.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=oi[t]}}(),function(){for(var t in ws){if(null==ws||!ws.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=ws[t]}}()}),pl=(fl=dl)&&fl.__esModule&&Object.prototype.hasOwnProperty.call(fl,"default")?fl.default:fl,vl=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(r,!0).forEach(function(e){n(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},pl.util,{mix:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];function i(t,e){var r=!0,n=!1,i=void 0;try{for(var a,o=Reflect.ownKeys(e)[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if("constructor"!==s&&"prototype"!==s&&"name"!==s){var u=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,u)}}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}for(var a=function e(){t(this,e);for(var n=0,a=r;n<a.length;n++){i(this,new(0,a[n]))}},o=0,s=r;o<s.length;o++){var u=s[o];i(a,u),i(a.prototype,u.prototype)}return a}}),gl=function(){function e(r){t(this,e),this.options=r}return r(e,[{key:"updateOptions",value:function(t){vl.defaults(this.options,t)}}]),e}(),_l=function(e){function r(e){return t(this,r),u(this,o(r).call(this,e))}return a(r,gl),r}(),yl=function(e){function r(e){return t(this,r),u(this,o(r).call(this,e))}return a(r,gl),r}();var ml=c(function(t,e){(function(){var r,n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="__lodash_hash_undefined__",s=500,u="__lodash_placeholder__",l=1,c=2,f=4,d=1,p=2,v=1,g=2,_=4,y=8,m=16,x=32,b=64,w=128,k=256,T=512,S=30,A="...",P=800,C=16,L=1,M=2,z=1/0,O=9007199254740991,R=17976931348623157e292,E=NaN,D=4294967295,I=D-1,B=D>>>1,F=[["ary",w],["bind",v],["bindKey",g],["curry",y],["curryRight",m],["flip",T],["partial",x],["partialRight",b],["rearg",k]],j="[object Arguments]",W="[object Array]",N="[object AsyncFunction]",H="[object Boolean]",q="[object Date]",U="[object DOMException]",V="[object Error]",X="[object Function]",Y="[object GeneratorFunction]",$="[object Map]",G="[object Number]",Z="[object Null]",Q="[object Object]",K="[object Proxy]",J="[object RegExp]",tt="[object Set]",et="[object String]",rt="[object Symbol]",nt="[object Undefined]",it="[object WeakMap]",at="[object WeakSet]",ot="[object ArrayBuffer]",st="[object DataView]",ut="[object Float32Array]",lt="[object Float64Array]",ht="[object Int8Array]",ct="[object Int16Array]",ft="[object Int32Array]",dt="[object Uint8Array]",pt="[object Uint8ClampedArray]",vt="[object Uint16Array]",gt="[object Uint32Array]",_t=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,bt=/[&<>"']/g,wt=RegExp(xt.source),kt=RegExp(bt.source),Tt=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ct=/^\w*$/,Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/[\\^$.*+?()[\]{}|]/g,zt=RegExp(Mt.source),Ot=/^\s+|\s+$/g,Rt=/^\s+/,Et=/\s+$/,Dt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nt=/\w*$/,Ht=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Ut=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$t=/($^)/,Gt=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kt="[\\ud800-\\udfff]",Jt="["+Qt+"]",te="["+Zt+"]",ee="\\d+",re="[\\u2700-\\u27bf]",ne="[a-z\\xdf-\\xf6\\xf8-\\xff]",ie="[^\\ud800-\\udfff"+Qt+ee+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",oe="[^\\ud800-\\udfff]",se="(?:\\ud83c[\\udde6-\\uddff]){2}",ue="[\\ud800-\\udbff][\\udc00-\\udfff]",le="[A-Z\\xc0-\\xd6\\xd8-\\xde]",he="(?:"+ne+"|"+ie+")",ce="(?:"+le+"|"+ie+")",fe="(?:"+te+"|"+ae+")"+"?",de="[\\ufe0e\\ufe0f]?"+fe+("(?:\\u200d(?:"+[oe,se,ue].join("|")+")[\\ufe0e\\ufe0f]?"+fe+")*"),pe="(?:"+[re,se,ue].join("|")+")"+de,ve="(?:"+[oe+te+"?",te,se,ue,Kt].join("|")+")",ge=RegExp("['\u2019]","g"),_e=RegExp(te,"g"),ye=RegExp(ae+"(?="+ae+")|"+ve+de,"g"),me=RegExp([le+"?"+ne+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[Jt,le,"$"].join("|")+")",ce+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[Jt,le+he,"$"].join("|")+")",le+"?"+he+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",le+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ee,pe].join("|"),"g"),xe=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),be=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,we=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ke=-1,Te={};Te[ut]=Te[lt]=Te[ht]=Te[ct]=Te[ft]=Te[dt]=Te[pt]=Te[vt]=Te[gt]=!0,Te[j]=Te[W]=Te[ot]=Te[H]=Te[st]=Te[q]=Te[V]=Te[X]=Te[$]=Te[G]=Te[Q]=Te[J]=Te[tt]=Te[et]=Te[it]=!1;var Se={};Se[j]=Se[W]=Se[ot]=Se[st]=Se[H]=Se[q]=Se[ut]=Se[lt]=Se[ht]=Se[ct]=Se[ft]=Se[$]=Se[G]=Se[Q]=Se[J]=Se[tt]=Se[et]=Se[rt]=Se[dt]=Se[pt]=Se[vt]=Se[gt]=!0,Se[V]=Se[X]=Se[it]=!1;var Ae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pe=parseFloat,Ce=parseInt,Le="object"==typeof h&&h&&h.Object===Object&&h,Me="object"==typeof self&&self&&self.Object===Object&&self,ze=Le||Me||Function("return this")(),Oe=e&&!e.nodeType&&e,Re=Oe&&t&&!t.nodeType&&t,Ee=Re&&Re.exports===Oe,De=Ee&&Le.process,Ie=function(){try{var t=Re&&Re.require&&Re.require("util").types;return t||De&&De.binding&&De.binding("util")}catch(t){}}(),Be=Ie&&Ie.isArrayBuffer,Fe=Ie&&Ie.isDate,je=Ie&&Ie.isMap,We=Ie&&Ie.isRegExp,Ne=Ie&&Ie.isSet,He=Ie&&Ie.isTypedArray;function qe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Ue(t,e,r,n){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];e(n,o,r(o),t)}return n}function Ve(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Xe(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Ye(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function $e(t,e){for(var r=-1,n=null==t?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function Ge(t,e){return!!(null==t?0:t.length)&&ar(t,e,0)>-1}function Ze(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Qe(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Ke(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Je(t,e,r,n){var i=-1,a=null==t?0:t.length;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r}function tr(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function er(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var rr=lr("length");function nr(t,e,r){var n;return r(t,function(t,r,i){if(e(t,r,i))return n=r,!1}),n}function ir(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function ar(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):ir(t,sr,r)}function or(t,e,r,n){for(var i=r-1,a=t.length;++i<a;)if(n(t[i],e))return i;return-1}function sr(t){return t!=t}function ur(t,e){var r=null==t?0:t.length;return r?fr(t,e)/r:E}function lr(t){return function(e){return null==e?r:e[t]}}function hr(t){return function(e){return null==t?r:t[e]}}function cr(t,e,r,n,i){return i(t,function(t,i,a){r=n?(n=!1,t):e(r,t,i,a)}),r}function fr(t,e){for(var n,i=-1,a=t.length;++i<a;){var o=e(t[i]);o!==r&&(n=n===r?o:n+o)}return n}function dr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function pr(t){return function(e){return t(e)}}function vr(t,e){return Qe(e,function(e){return t[e]})}function gr(t,e){return t.has(e)}function _r(t,e){for(var r=-1,n=t.length;++r<n&&ar(e,t[r],0)>-1;);return r}function yr(t,e){for(var r=t.length;r--&&ar(e,t[r],0)>-1;);return r}var mr=hr({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n",\u017f:"s"}),xr=hr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function br(t){return"\\"+Ae[t]}function wr(t){return xe.test(t)}function kr(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function Tr(t,e){return function(r){return t(e(r))}}function Sr(t,e){for(var r=-1,n=t.length,i=0,a=[];++r<n;){var o=t[r];o!==e&&o!==u||(t[r]=u,a[i++]=r)}return a}function Ar(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function Pr(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=[t,t]}),r}function Cr(t){return wr(t)?function(t){var e=ye.lastIndex=0;for(;ye.test(t);)++e;return e}(t):rr(t)}function Lr(t){return wr(t)?function(t){return t.match(ye)||[]}(t):function(t){return t.split("")}(t)}var Mr=hr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var zr=function t(e){var h,Zt=(e=null==e?ze:zr.defaults(ze.Object(),e,zr.pick(ze,we))).Array,Qt=e.Date,Kt=e.Error,Jt=e.Function,te=e.Math,ee=e.Object,re=e.RegExp,ne=e.String,ie=e.TypeError,ae=Zt.prototype,oe=Jt.prototype,se=ee.prototype,ue=e["__core-js_shared__"],le=oe.toString,he=se.hasOwnProperty,ce=0,fe=(h=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",de=se.toString,pe=le.call(ee),ve=ze._,ye=re("^"+le.call(he).replace(Mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xe=Ee?e.Buffer:r,Ae=e.Symbol,Le=e.Uint8Array,Me=xe?xe.allocUnsafe:r,Oe=Tr(ee.getPrototypeOf,ee),Re=ee.create,De=se.propertyIsEnumerable,Ie=ae.splice,rr=Ae?Ae.isConcatSpreadable:r,hr=Ae?Ae.iterator:r,Or=Ae?Ae.toStringTag:r,Rr=function(){try{var t=Fa(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Er=e.clearTimeout!==ze.clearTimeout&&e.clearTimeout,Dr=Qt&&Qt.now!==ze.Date.now&&Qt.now,Ir=e.setTimeout!==ze.setTimeout&&e.setTimeout,Br=te.ceil,Fr=te.floor,jr=ee.getOwnPropertySymbols,Wr=xe?xe.isBuffer:r,Nr=e.isFinite,Hr=ae.join,qr=Tr(ee.keys,ee),Ur=te.max,Vr=te.min,Xr=Qt.now,Yr=e.parseInt,$r=te.random,Gr=ae.reverse,Zr=Fa(e,"DataView"),Qr=Fa(e,"Map"),Kr=Fa(e,"Promise"),Jr=Fa(e,"Set"),tn=Fa(e,"WeakMap"),en=Fa(ee,"create"),rn=tn&&new tn,nn={},an=ho(Zr),on=ho(Qr),sn=ho(Kr),un=ho(Jr),ln=ho(tn),hn=Ae?Ae.prototype:r,cn=hn?hn.valueOf:r,fn=hn?hn.toString:r;function dn(t){if(Cs(t)&&!_s(t)&&!(t instanceof _n)){if(t instanceof gn)return t;if(he.call(t,"__wrapped__"))return co(t)}return new gn(t)}var pn=function(){function t(){}return function(e){if(!Ps(e))return{};if(Re)return Re(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function vn(){}function gn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function _n(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function yn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function bn(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new xn;++e<r;)this.add(t[e])}function wn(t){var e=this.__data__=new mn(t);this.size=e.size}function kn(t,e){var r=_s(t),n=!r&&gs(t),i=!r&&!n&&bs(t),a=!r&&!n&&!i&&Is(t),o=r||n||i||a,s=o?dr(t.length,ne):[],u=s.length;for(var l in t)!e&&!he.call(t,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Va(l,u))||s.push(l);return s}function Tn(t){var e=t.length;return e?t[bi(0,e-1)]:r}function Sn(t,e){return so(ra(t),En(e,0,t.length))}function An(t){return so(ra(t))}function Pn(t,e,n){(n===r||ds(t[e],n))&&(n!==r||e in t)||On(t,e,n)}function Cn(t,e,n){var i=t[e];he.call(t,e)&&ds(i,n)&&(n!==r||e in t)||On(t,e,n)}function Ln(t,e){for(var r=t.length;r--;)if(ds(t[r][0],e))return r;return-1}function Mn(t,e,r,n){return jn(t,function(t,i,a){e(n,t,r(t),a)}),n}function zn(t,e){return t&&na(e,iu(e),t)}function On(t,e,r){"__proto__"==e&&Rr?Rr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Rn(t,e){for(var n=-1,i=e.length,a=Zt(i),o=null==t;++n<i;)a[n]=o?r:Js(t,e[n]);return a}function En(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function Dn(t,e,n,i,a,o){var s,u=e&l,h=e&c,d=e&f;if(n&&(s=a?n(t,i,a,o):n(t)),s!==r)return s;if(!Ps(t))return t;var p=_s(t);if(p){if(s=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&he.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!u)return ra(t,s)}else{var v=Na(t),g=v==X||v==Y;if(bs(t))return Zi(t,u);if(v==Q||v==j||g&&!a){if(s=h||g?{}:qa(t),!u)return h?function(t,e){return na(t,Wa(t),e)}(t,function(t,e){return t&&na(e,au(e),t)}(s,t)):function(t,e){return na(t,ja(t),e)}(t,zn(s,t))}else{if(!Se[v])return a?t:{};s=function(t,e,r){var n,i=t.constructor;switch(e){case ot:return Qi(t);case H:case q:return new i(+t);case st:return function(t,e){var r=e?Qi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case ut:case lt:case ht:case ct:case ft:case dt:case pt:case vt:case gt:return Ki(t,r);case $:return new i;case G:case et:return new i(t);case J:return function(t){var e=new t.constructor(t.source,Nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case tt:return new i;case rt:return n=t,cn?ee(cn.call(n)):{}}}(t,v,u)}}o||(o=new wn);var _=o.get(t);if(_)return _;o.set(t,s),Rs(t)?t.forEach(function(r){s.add(Dn(r,e,n,r,t,o))}):Ls(t)&&t.forEach(function(r,i){s.set(i,Dn(r,e,n,i,t,o))});var y=p?r:(d?h?za:Ma:h?au:iu)(t);return Ve(y||t,function(r,i){y&&(r=t[i=r]),Cn(s,i,Dn(r,e,n,i,t,o))}),s}function In(t,e,n){var i=n.length;if(null==t)return!i;for(t=ee(t);i--;){var a=n[i],o=e[a],s=t[a];if(s===r&&!(a in t)||!o(s))return!1}return!0}function Bn(t,e,n){if("function"!=typeof t)throw new ie(a);return no(function(){t.apply(r,n)},e)}function Fn(t,e,r,i){var a=-1,o=Ge,s=!0,u=t.length,l=[],h=e.length;if(!u)return l;r&&(e=Qe(e,pr(r))),i?(o=Ze,s=!1):e.length>=n&&(o=gr,s=!1,e=new bn(e));t:for(;++a<u;){var c=t[a],f=null==r?c:r(c);if(c=i||0!==c?c:0,s&&f==f){for(var d=h;d--;)if(e[d]===f)continue t;l.push(c)}else o(e,f,i)||l.push(c)}return l}dn.templateSettings={escape:Tt,evaluate:St,interpolate:At,variable:"",imports:{_:dn}},dn.prototype=vn.prototype,dn.prototype.constructor=dn,gn.prototype=pn(vn.prototype),gn.prototype.constructor=gn,_n.prototype=pn(vn.prototype),_n.prototype.constructor=_n,yn.prototype.clear=function(){this.__data__=en?en(null):{},this.size=0},yn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yn.prototype.get=function(t){var e=this.__data__;if(en){var n=e[t];return n===o?r:n}return he.call(e,t)?e[t]:r},yn.prototype.has=function(t){var e=this.__data__;return en?e[t]!==r:he.call(e,t)},yn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=en&&e===r?o:e,this},mn.prototype.clear=function(){this.__data__=[],this.size=0},mn.prototype.delete=function(t){var e=this.__data__,r=Ln(e,t);return!(r<0||(r==e.length-1?e.pop():Ie.call(e,r,1),--this.size,0))},mn.prototype.get=function(t){var e=this.__data__,n=Ln(e,t);return n<0?r:e[n][1]},mn.prototype.has=function(t){return Ln(this.__data__,t)>-1},mn.prototype.set=function(t,e){var r=this.__data__,n=Ln(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},xn.prototype.clear=function(){this.size=0,this.__data__={hash:new yn,map:new(Qr||mn),string:new yn}},xn.prototype.delete=function(t){var e=Ia(this,t).delete(t);return this.size-=e?1:0,e},xn.prototype.get=function(t){return Ia(this,t).get(t)},xn.prototype.has=function(t){return Ia(this,t).has(t)},xn.prototype.set=function(t,e){var r=Ia(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},bn.prototype.add=bn.prototype.push=function(t){return this.__data__.set(t,o),this},bn.prototype.has=function(t){return this.__data__.has(t)},wn.prototype.clear=function(){this.__data__=new mn,this.size=0},wn.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},wn.prototype.get=function(t){return this.__data__.get(t)},wn.prototype.has=function(t){return this.__data__.has(t)},wn.prototype.set=function(t,e){var r=this.__data__;if(r instanceof mn){var i=r.__data__;if(!Qr||i.length<n-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new xn(i)}return r.set(t,e),this.size=r.size,this};var jn=oa(Yn),Wn=oa($n,!0);function Nn(t,e){var r=!0;return jn(t,function(t,n,i){return r=!!e(t,n,i)}),r}function Hn(t,e,n){for(var i=-1,a=t.length;++i<a;){var o=t[i],s=e(o);if(null!=s&&(u===r?s==s&&!Ds(s):n(s,u)))var u=s,l=o}return l}function qn(t,e){var r=[];return jn(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function Un(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=Ua),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?Un(s,e-1,r,n,i):Ke(i,s):n||(i[i.length]=s)}return i}var Vn=sa(),Xn=sa(!0);function Yn(t,e){return t&&Vn(t,e,iu)}function $n(t,e){return t&&Xn(t,e,iu)}function Gn(t,e){return $e(e,function(e){return Ts(t[e])})}function Zn(t,e){for(var n=0,i=(e=Xi(e,t)).length;null!=t&&n<i;)t=t[lo(e[n++])];return n&&n==i?t:r}function Qn(t,e,r){var n=e(t);return _s(t)?n:Ke(n,r(t))}function Kn(t){return null==t?t===r?nt:Z:Or&&Or in ee(t)?function(t){var e=he.call(t,Or),n=t[Or];try{t[Or]=r;var i=!0}catch(t){}var a=de.call(t);return i&&(e?t[Or]=n:delete t[Or]),a}(t):function(t){return de.call(t)}(t)}function Jn(t,e){return t>e}function ti(t,e){return null!=t&&he.call(t,e)}function ei(t,e){return null!=t&&e in ee(t)}function ri(t,e,n){for(var i=n?Ze:Ge,a=t[0].length,o=t.length,s=o,u=Zt(o),l=1/0,h=[];s--;){var c=t[s];s&&e&&(c=Qe(c,pr(e))),l=Vr(c.length,l),u[s]=!n&&(e||a>=120&&c.length>=120)?new bn(s&&c):r}c=t[0];var f=-1,d=u[0];t:for(;++f<a&&h.length<l;){var p=c[f],v=e?e(p):p;if(p=n||0!==p?p:0,!(d?gr(d,v):i(h,v,n))){for(s=o;--s;){var g=u[s];if(!(g?gr(g,v):i(t[s],v,n)))continue t}d&&d.push(v),h.push(p)}}return h}function ni(t,e,n){var i=null==(t=to(t,e=Xi(e,t)))?t:t[lo(ko(e))];return null==i?r:qe(i,t,n)}function ii(t){return Cs(t)&&Kn(t)==j}function ai(t,e,n,i,a){return t===e||(null==t||null==e||!Cs(t)&&!Cs(e)?t!=t&&e!=e:function(t,e,n,i,a,o){var s=_s(t),u=_s(e),l=s?W:Na(t),h=u?W:Na(e),c=(l=l==j?Q:l)==Q,f=(h=h==j?Q:h)==Q,v=l==h;if(v&&bs(t)){if(!bs(e))return!1;s=!0,c=!1}if(v&&!c)return o||(o=new wn),s||Is(t)?Ca(t,e,n,i,a,o):function(t,e,r,n,i,a,o){switch(r){case st:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ot:return!(t.byteLength!=e.byteLength||!a(new Le(t),new Le(e)));case H:case q:case G:return ds(+t,+e);case V:return t.name==e.name&&t.message==e.message;case J:case et:return t==e+"";case $:var s=kr;case tt:var u=n&d;if(s||(s=Ar),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;n|=p,o.set(t,e);var h=Ca(s(t),s(e),n,i,a,o);return o.delete(t),h;case rt:if(cn)return cn.call(t)==cn.call(e)}return!1}(t,e,l,n,i,a,o);if(!(n&d)){var g=c&&he.call(t,"__wrapped__"),_=f&&he.call(e,"__wrapped__");if(g||_){var y=g?t.value():t,m=_?e.value():e;return o||(o=new wn),a(y,m,n,i,o)}}return!!v&&(o||(o=new wn),function(t,e,n,i,a,o){var s=n&d,u=Ma(t),l=u.length,h=Ma(e).length;if(l!=h&&!s)return!1;for(var c=l;c--;){var f=u[c];if(!(s?f in e:he.call(e,f)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var v=!0;o.set(t,e),o.set(e,t);for(var g=s;++c<l;){f=u[c];var _=t[f],y=e[f];if(i)var m=s?i(y,_,f,e,t,o):i(_,y,f,t,e,o);if(!(m===r?_===y||a(_,y,n,i,o):m)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var x=t.constructor,b=e.constructor;x!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b)&&(v=!1)}return o.delete(t),o.delete(e),v}(t,e,n,i,a,o))}(t,e,n,i,ai,a))}function oi(t,e,n,i){var a=n.length,o=a,s=!i;if(null==t)return!o;for(t=ee(t);a--;){var u=n[a];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<o;){var l=(u=n[a])[0],h=t[l],c=u[1];if(s&&u[2]){if(h===r&&!(l in t))return!1}else{var f=new wn;if(i)var v=i(h,c,l,t,e,f);if(!(v===r?ai(c,h,d|p,i,f):v))return!1}}return!0}function si(t){return!(!Ps(t)||(e=t,fe&&fe in e))&&(Ts(t)?ye:Ut).test(ho(t));var e}function ui(t){return"function"==typeof t?t:null==t?Mu:"object"==typeof t?_s(t)?pi(t[0],t[1]):di(t):ju(t)}function li(t){if(!Za(t))return qr(t);var e=[];for(var r in ee(t))he.call(t,r)&&"constructor"!=r&&e.push(r);return e}function hi(t){if(!Ps(t))return function(t){var e=[];if(null!=t)for(var r in ee(t))e.push(r);return e}(t);var e=Za(t),r=[];for(var n in t)("constructor"!=n||!e&&he.call(t,n))&&r.push(n);return r}function ci(t,e){return t<e}function fi(t,e){var r=-1,n=ms(t)?Zt(t.length):[];return jn(t,function(t,i,a){n[++r]=e(t,i,a)}),n}function di(t){var e=Ba(t);return 1==e.length&&e[0][2]?Ka(e[0][0],e[0][1]):function(r){return r===t||oi(r,t,e)}}function pi(t,e){return Ya(t)&&Qa(e)?Ka(lo(t),e):function(n){var i=Js(n,t);return i===r&&i===e?tu(n,t):ai(e,i,d|p)}}function vi(t,e,n,i,a){t!==e&&Vn(e,function(o,s){if(a||(a=new wn),Ps(o))!function(t,e,n,i,a,o,s){var u=eo(t,n),l=eo(e,n),h=s.get(l);if(h)Pn(t,n,h);else{var c=o?o(u,l,n+"",t,e,s):r,f=c===r;if(f){var d=_s(l),p=!d&&bs(l),v=!d&&!p&&Is(l);c=l,d||p||v?_s(u)?c=u:xs(u)?c=ra(u):p?(f=!1,c=Zi(l,!0)):v?(f=!1,c=Ki(l,!0)):c=[]:zs(l)||gs(l)?(c=u,gs(u)?c=Us(u):Ps(u)&&!Ts(u)||(c=qa(l))):f=!1}f&&(s.set(l,c),a(c,l,i,o,s),s.delete(l)),Pn(t,n,c)}}(t,e,s,n,vi,i,a);else{var u=i?i(eo(t,s),o,s+"",t,e,a):r;u===r&&(u=o),Pn(t,s,u)}},au)}function gi(t,e){var n=t.length;if(n)return Va(e+=e<0?n:0,n)?t[e]:r}function _i(t,e,r){var n=-1;return e=Qe(e.length?e:[Mu],pr(Da())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(fi(t,function(t,r,i){return{criteria:Qe(e,function(e){return e(t)}),index:++n,value:t}}),function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var u=Ji(i[n],a[n]);if(u){if(n>=s)return u;var l=r[n];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,r)})}function yi(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=Zn(t,o);r(s,o)&&Ai(a,Xi(o,t),s)}return a}function mi(t,e,r,n){var i=n?or:ar,a=-1,o=e.length,s=t;for(t===e&&(e=ra(e)),r&&(s=Qe(t,pr(r)));++a<o;)for(var u=0,l=e[a],h=r?r(l):l;(u=i(s,h,u,n))>-1;)s!==t&&Ie.call(s,u,1),Ie.call(t,u,1);return t}function xi(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==a){var a=i;Va(i)?Ie.call(t,i,1):Fi(t,i)}}return t}function bi(t,e){return t+Fr($r()*(e-t+1))}function wi(t,e){var r="";if(!t||e<1||e>O)return r;do{e%2&&(r+=t),(e=Fr(e/2))&&(t+=t)}while(e);return r}function ki(t,e){return io(Ja(t,e,Mu),t+"")}function Ti(t){return Tn(du(t))}function Si(t,e){var r=du(t);return so(r,En(e,0,r.length))}function Ai(t,e,n,i){if(!Ps(t))return t;for(var a=-1,o=(e=Xi(e,t)).length,s=o-1,u=t;null!=u&&++a<o;){var l=lo(e[a]),h=n;if(a!=s){var c=u[l];(h=i?i(c,l,u):r)===r&&(h=Ps(c)?c:Va(e[a+1])?[]:{})}Cn(u,l,h),u=u[l]}return t}var Pi=rn?function(t,e){return rn.set(t,e),t}:Mu,Ci=Rr?function(t,e){return Rr(t,"toString",{configurable:!0,enumerable:!1,value:Pu(e),writable:!0})}:Mu;function Li(t){return so(du(t))}function Mi(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Zt(i);++n<i;)a[n]=t[n+e];return a}function zi(t,e){var r;return jn(t,function(t,n,i){return!(r=e(t,n,i))}),!!r}function Oi(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=B){for(;n<i;){var a=n+i>>>1,o=t[a];null!==o&&!Ds(o)&&(r?o<=e:o<e)?n=a+1:i=a}return i}return Ri(t,e,Mu,r)}function Ri(t,e,n,i){e=n(e);for(var a=0,o=null==t?0:t.length,s=e!=e,u=null===e,l=Ds(e),h=e===r;a<o;){var c=Fr((a+o)/2),f=n(t[c]),d=f!==r,p=null===f,v=f==f,g=Ds(f);if(s)var _=i||v;else _=h?v&&(i||d):u?v&&d&&(i||!p):l?v&&d&&!p&&(i||!g):!p&&!g&&(i?f<=e:f<e);_?a=c+1:o=c}return Vr(o,I)}function Ei(t,e){for(var r=-1,n=t.length,i=0,a=[];++r<n;){var o=t[r],s=e?e(o):o;if(!r||!ds(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Di(t){return"number"==typeof t?t:Ds(t)?E:+t}function Ii(t){if("string"==typeof t)return t;if(_s(t))return Qe(t,Ii)+"";if(Ds(t))return fn?fn.call(t):"";var e=t+"";return"0"==e&&1/t==-z?"-0":e}function Bi(t,e,r){var i=-1,a=Ge,o=t.length,s=!0,u=[],l=u;if(r)s=!1,a=Ze;else if(o>=n){var h=e?null:wa(t);if(h)return Ar(h);s=!1,a=gr,l=new bn}else l=e?[]:u;t:for(;++i<o;){var c=t[i],f=e?e(c):c;if(c=r||0!==c?c:0,s&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue t;e&&l.push(f),u.push(c)}else a(l,f,r)||(l!==u&&l.push(f),u.push(c))}return u}function Fi(t,e){return null==(t=to(t,e=Xi(e,t)))||delete t[lo(ko(e))]}function ji(t,e,r,n){return Ai(t,e,r(Zn(t,e)),n)}function Wi(t,e,r,n){for(var i=t.length,a=n?i:-1;(n?a--:++a<i)&&e(t[a],a,t););return r?Mi(t,n?0:a,n?a+1:i):Mi(t,n?a+1:0,n?i:a)}function Ni(t,e){var r=t;return r instanceof _n&&(r=r.value()),Je(e,function(t,e){return e.func.apply(e.thisArg,Ke([t],e.args))},r)}function Hi(t,e,r){var n=t.length;if(n<2)return n?Bi(t[0]):[];for(var i=-1,a=Zt(n);++i<n;)for(var o=t[i],s=-1;++s<n;)s!=i&&(a[i]=Fn(a[i]||o,t[s],e,r));return Bi(Un(a,1),e,r)}function qi(t,e,n){for(var i=-1,a=t.length,o=e.length,s={};++i<a;){var u=i<o?e[i]:r;n(s,t[i],u)}return s}function Ui(t){return xs(t)?t:[]}function Vi(t){return"function"==typeof t?t:Mu}function Xi(t,e){return _s(t)?t:Ya(t,e)?[t]:uo(Vs(t))}var Yi=ki;function $i(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:Mi(t,e,n)}var Gi=Er||function(t){return ze.clearTimeout(t)};function Zi(t,e){if(e)return t.slice();var r=t.length,n=Me?Me(r):new t.constructor(r);return t.copy(n),n}function Qi(t){var e=new t.constructor(t.byteLength);return new Le(e).set(new Le(t)),e}function Ki(t,e){var r=e?Qi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Ji(t,e){if(t!==e){var n=t!==r,i=null===t,a=t==t,o=Ds(t),s=e!==r,u=null===e,l=e==e,h=Ds(e);if(!u&&!h&&!o&&t>e||o&&s&&l&&!u&&!h||i&&s&&l||!n&&l||!a)return 1;if(!i&&!o&&!h&&t<e||h&&n&&a&&!i&&!o||u&&n&&a||!s&&a||!l)return-1}return 0}function ta(t,e,r,n){for(var i=-1,a=t.length,o=r.length,s=-1,u=e.length,l=Ur(a-o,0),h=Zt(u+l),c=!n;++s<u;)h[s]=e[s];for(;++i<o;)(c||i<a)&&(h[r[i]]=t[i]);for(;l--;)h[s++]=t[i++];return h}function ea(t,e,r,n){for(var i=-1,a=t.length,o=-1,s=r.length,u=-1,l=e.length,h=Ur(a-s,0),c=Zt(h+l),f=!n;++i<h;)c[i]=t[i];for(var d=i;++u<l;)c[d+u]=e[u];for(;++o<s;)(f||i<a)&&(c[d+r[o]]=t[i++]);return c}function ra(t,e){var r=-1,n=t.length;for(e||(e=Zt(n));++r<n;)e[r]=t[r];return e}function na(t,e,n,i){var a=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var u=e[o],l=i?i(n[u],t[u],u,n,t):r;l===r&&(l=t[u]),a?On(n,u,l):Cn(n,u,l)}return n}function ia(t,e){return function(r,n){var i=_s(r)?Ue:Mn,a=e?e():{};return i(r,t,Da(n,2),a)}}function aa(t){return ki(function(e,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=t.length>3&&"function"==typeof o?(a--,o):r,s&&Xa(n[0],n[1],s)&&(o=a<3?r:o,a=1),e=ee(e);++i<a;){var u=n[i];u&&t(e,u,i,o)}return e})}function oa(t,e){return function(r,n){if(null==r)return r;if(!ms(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=ee(r);(e?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function sa(t){return function(e,r,n){for(var i=-1,a=ee(e),o=n(e),s=o.length;s--;){var u=o[t?s:++i];if(!1===r(a[u],u,a))break}return e}}function ua(t){return function(e){var n=wr(e=Vs(e))?Lr(e):r,i=n?n[0]:e.charAt(0),a=n?$i(n,1).join(""):e.slice(1);return i[t]()+a}}function la(t){return function(e){return Je(Tu(gu(e).replace(ge,"")),t,"")}}function ha(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=pn(t.prototype),n=t.apply(r,e);return Ps(n)?n:r}}function ca(t){return function(e,n,i){var a=ee(e);if(!ms(e)){var o=Da(n,3);e=iu(e),n=function(t){return o(a[t],t,a)}}var s=t(e,n,i);return s>-1?a[o?e[s]:s]:r}}function fa(t){return La(function(e){var n=e.length,i=n,o=gn.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new ie(a);if(o&&!u&&"wrapper"==Ra(s))var u=new gn([],!0)}for(i=u?i:n;++i<n;){var l=Ra(s=e[i]),h="wrapper"==l?Oa(s):r;u=h&&$a(h[0])&&h[1]==(w|y|x|k)&&!h[4].length&&1==h[9]?u[Ra(h[0])].apply(u,h[3]):1==s.length&&$a(s)?u[l]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&_s(r))return u.plant(r).value();for(var i=0,a=n?e[i].apply(this,t):r;++i<n;)a=e[i].call(this,a);return a}})}function da(t,e,n,i,a,o,s,u,l,h){var c=e&w,f=e&v,d=e&g,p=e&(y|m),_=e&T,x=d?r:ha(t);return function v(){for(var g=arguments.length,y=Zt(g),m=g;m--;)y[m]=arguments[m];if(p)var b=Ea(v),w=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(y,b);if(i&&(y=ta(y,i,a,p)),o&&(y=ea(y,o,s,p)),g-=w,p&&g<h){var k=Sr(y,b);return xa(t,e,da,v.placeholder,n,y,k,u,l,h-g)}var T=f?n:this,S=d?T[t]:t;return g=y.length,u?y=function(t,e){for(var n=t.length,i=Vr(e.length,n),a=ra(t);i--;){var o=e[i];t[i]=Va(o,n)?a[o]:r}return t}(y,u):_&&g>1&&y.reverse(),c&&l<g&&(y.length=l),this&&this!==ze&&this instanceof v&&(S=x||ha(S)),S.apply(T,y)}}function pa(t,e){return function(r,n){return function(t,e,r,n){return Yn(t,function(t,i,a){e(n,r(t),i,a)}),n}(r,t,e(n),{})}}function va(t,e){return function(n,i){var a;if(n===r&&i===r)return e;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=Ii(n),i=Ii(i)):(n=Di(n),i=Di(i)),a=t(n,i)}return a}}function ga(t){return La(function(e){return e=Qe(e,pr(Da())),ki(function(r){var n=this;return t(e,function(t){return qe(t,n,r)})})})}function _a(t,e){var n=(e=e===r?" ":Ii(e)).length;if(n<2)return n?wi(e,t):e;var i=wi(e,Br(t/Cr(e)));return wr(e)?$i(Lr(i),0,t).join(""):i.slice(0,t)}function ya(t){return function(e,n,i){return i&&"number"!=typeof i&&Xa(e,n,i)&&(n=i=r),e=Ws(e),n===r?(n=e,e=0):n=Ws(n),function(t,e,r,n){for(var i=-1,a=Ur(Br((e-t)/(r||1)),0),o=Zt(a);a--;)o[n?a:++i]=t,t+=r;return o}(e,n,i=i===r?e<n?1:-1:Ws(i),t)}}function ma(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=qs(e),r=qs(r)),t(e,r)}}function xa(t,e,n,i,a,o,s,u,l,h){var c=e&y;e|=c?x:b,(e&=~(c?b:x))&_||(e&=~(v|g));var f=[t,e,a,c?o:r,c?s:r,c?r:o,c?r:s,u,l,h],d=n.apply(r,f);return $a(t)&&ro(d,f),d.placeholder=i,ao(d,t,e)}function ba(t){var e=te[t];return function(t,r){if(t=qs(t),(r=null==r?0:Vr(Ns(r),292))&&Nr(t)){var n=(Vs(t)+"e").split("e");return+((n=(Vs(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var wa=Jr&&1/Ar(new Jr([,-0]))[1]==z?function(t){return new Jr(t)}:Du;function ka(t){return function(e){var r=Na(e);return r==$?kr(e):r==tt?Pr(e):function(t,e){return Qe(e,function(e){return[e,t[e]]})}(e,t(e))}}function Ta(t,e,n,i,o,s,l,h){var c=e&g;if(!c&&"function"!=typeof t)throw new ie(a);var f=i?i.length:0;if(f||(e&=~(x|b),i=o=r),l=l===r?l:Ur(Ns(l),0),h=h===r?h:Ns(h),f-=o?o.length:0,e&b){var d=i,p=o;i=o=r}var T=c?r:Oa(t),S=[t,e,n,i,o,d,p,s,l,h];if(T&&function(t,e){var r=t[1],n=e[1],i=r|n,a=i<(v|g|w),o=n==w&&r==y||n==w&&r==k&&t[7].length<=e[8]||n==(w|k)&&e[7].length<=e[8]&&r==y;if(!a&&!o)return t;n&v&&(t[2]=e[2],i|=r&v?0:_);var s=e[3];if(s){var l=t[3];t[3]=l?ta(l,s,e[4]):s,t[4]=l?Sr(t[3],u):e[4]}(s=e[5])&&(l=t[5],t[5]=l?ea(l,s,e[6]):s,t[6]=l?Sr(t[5],u):e[6]),(s=e[7])&&(t[7]=s),n&w&&(t[8]=null==t[8]?e[8]:Vr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(S,T),t=S[0],e=S[1],n=S[2],i=S[3],o=S[4],!(h=S[9]=S[9]===r?c?0:t.length:Ur(S[9]-f,0))&&e&(y|m)&&(e&=~(y|m)),e&&e!=v)A=e==y||e==m?function(t,e,n){var i=ha(t);return function a(){for(var o=arguments.length,s=Zt(o),u=o,l=Ea(a);u--;)s[u]=arguments[u];var h=o<3&&s[0]!==l&&s[o-1]!==l?[]:Sr(s,l);return(o-=h.length)<n?xa(t,e,da,a.placeholder,r,s,h,r,r,n-o):qe(this&&this!==ze&&this instanceof a?i:t,this,s)}}(t,e,h):e!=x&&e!=(v|x)||o.length?da.apply(r,S):function(t,e,r,n){var i=e&v,a=ha(t);return function e(){for(var o=-1,s=arguments.length,u=-1,l=n.length,h=Zt(l+s),c=this&&this!==ze&&this instanceof e?a:t;++u<l;)h[u]=n[u];for(;s--;)h[u++]=arguments[++o];return qe(c,i?r:this,h)}}(t,e,n,i);else var A=function(t,e,r){var n=e&v,i=ha(t);return function e(){return(this&&this!==ze&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,n);return ao((T?Pi:ro)(A,S),t,e)}function Sa(t,e,n,i){return t===r||ds(t,se[n])&&!he.call(i,n)?e:t}function Aa(t,e,n,i,a,o){return Ps(t)&&Ps(e)&&(o.set(e,t),vi(t,e,r,Aa,o),o.delete(e)),t}function Pa(t){return zs(t)?r:t}function Ca(t,e,n,i,a,o){var s=n&d,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var c=-1,f=!0,v=n&p?new bn:r;for(o.set(t,e),o.set(e,t);++c<u;){var g=t[c],_=e[c];if(i)var y=s?i(_,g,c,e,t,o):i(g,_,c,t,e,o);if(y!==r){if(y)continue;f=!1;break}if(v){if(!er(e,function(t,e){if(!gr(v,e)&&(g===t||a(g,t,n,i,o)))return v.push(e)})){f=!1;break}}else if(g!==_&&!a(g,_,n,i,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function La(t){return io(Ja(t,r,yo),t+"")}function Ma(t){return Qn(t,iu,ja)}function za(t){return Qn(t,au,Wa)}var Oa=rn?function(t){return rn.get(t)}:Du;function Ra(t){for(var e=t.name+"",r=nn[e],n=he.call(nn,e)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==t)return i.name}return e}function Ea(t){return(he.call(dn,"placeholder")?dn:t).placeholder}function Da(){var t=dn.iteratee||zu;return t=t===zu?ui:t,arguments.length?t(arguments[0],arguments[1]):t}function Ia(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ba(t){for(var e=iu(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Qa(i)]}return e}function Fa(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return si(n)?n:r}var ja=jr?function(t){return null==t?[]:(t=ee(t),$e(jr(t),function(e){return De.call(t,e)}))}:Hu,Wa=jr?function(t){for(var e=[];t;)Ke(e,ja(t)),t=Oe(t);return e}:Hu,Na=Kn;function Ha(t,e,r){for(var n=-1,i=(e=Xi(e,t)).length,a=!1;++n<i;){var o=lo(e[n]);if(!(a=null!=t&&r(t,o)))break;t=t[o]}return a||++n!=i?a:!!(i=null==t?0:t.length)&&As(i)&&Va(o,i)&&(_s(t)||gs(t))}function qa(t){return"function"!=typeof t.constructor||Za(t)?{}:pn(Oe(t))}function Ua(t){return _s(t)||gs(t)||!!(rr&&t&&t[rr])}function Va(t,e){var r=typeof t;return!!(e=null==e?O:e)&&("number"==r||"symbol"!=r&&Xt.test(t))&&t>-1&&t%1==0&&t<e}function Xa(t,e,r){if(!Ps(r))return!1;var n=typeof e;return!!("number"==n?ms(r)&&Va(e,r.length):"string"==n&&e in r)&&ds(r[e],t)}function Ya(t,e){if(_s(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Ds(t))||Ct.test(t)||!Pt.test(t)||null!=e&&t in ee(e)}function $a(t){var e=Ra(t),r=dn[e];if("function"!=typeof r||!(e in _n.prototype))return!1;if(t===r)return!0;var n=Oa(r);return!!n&&t===n[0]}(Zr&&Na(new Zr(new ArrayBuffer(1)))!=st||Qr&&Na(new Qr)!=$||Kr&&"[object Promise]"!=Na(Kr.resolve())||Jr&&Na(new Jr)!=tt||tn&&Na(new tn)!=it)&&(Na=function(t){var e=Kn(t),n=e==Q?t.constructor:r,i=n?ho(n):"";if(i)switch(i){case an:return st;case on:return $;case sn:return"[object Promise]";case un:return tt;case ln:return it}return e});var Ga=ue?Ts:qu;function Za(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Qa(t){return t==t&&!Ps(t)}function Ka(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in ee(n))}}function Ja(t,e,n){return e=Ur(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Ur(r.length-e,0),o=Zt(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Zt(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),qe(t,this,s)}}function to(t,e){return e.length<2?t:Zn(t,Mi(e,0,-1))}function eo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ro=oo(Pi),no=Ir||function(t,e){return ze.setTimeout(t,e)},io=oo(Ci);function ao(t,e,r){var n=e+"";return io(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(Dt,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Ve(F,function(r){var n="_."+r[0];e&r[1]&&!Ge(t,n)&&t.push(n)}),t.sort()}(function(t){var e=t.match(It);return e?e[1].split(Bt):[]}(n),r)))}function oo(t){var e=0,n=0;return function(){var i=Xr(),a=C-(i-n);if(n=i,a>0){if(++e>=P)return arguments[0]}else e=0;return t.apply(r,arguments)}}function so(t,e){var n=-1,i=t.length,a=i-1;for(e=e===r?i:e;++n<e;){var o=bi(n,a),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var uo=function(t){var e=ss(t,function(t){return r.size===s&&r.clear(),t}),r=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Lt,function(t,r,n,i){e.push(n?i.replace(jt,"$1"):r||t)}),e});function lo(t){if("string"==typeof t||Ds(t))return t;var e=t+"";return"0"==e&&1/t==-z?"-0":e}function ho(t){if(null!=t){try{return le.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function co(t){if(t instanceof _n)return t.clone();var e=new gn(t.__wrapped__,t.__chain__);return e.__actions__=ra(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var fo=ki(function(t,e){return xs(t)?Fn(t,Un(e,1,xs,!0)):[]}),po=ki(function(t,e){var n=ko(e);return xs(n)&&(n=r),xs(t)?Fn(t,Un(e,1,xs,!0),Da(n,2)):[]}),vo=ki(function(t,e){var n=ko(e);return xs(n)&&(n=r),xs(t)?Fn(t,Un(e,1,xs,!0),r,n):[]});function go(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:Ns(r);return i<0&&(i=Ur(n+i,0)),ir(t,Da(e,3),i)}function _o(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var a=i-1;return n!==r&&(a=Ns(n),a=n<0?Ur(i+a,0):Vr(a,i-1)),ir(t,Da(e,3),a,!0)}function yo(t){return null!=t&&t.length?Un(t,1):[]}function mo(t){return t&&t.length?t[0]:r}var xo=ki(function(t){var e=Qe(t,Ui);return e.length&&e[0]===t[0]?ri(e):[]}),bo=ki(function(t){var e=ko(t),n=Qe(t,Ui);return e===ko(n)?e=r:n.pop(),n.length&&n[0]===t[0]?ri(n,Da(e,2)):[]}),wo=ki(function(t){var e=ko(t),n=Qe(t,Ui);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?ri(n,r,e):[]});function ko(t){var e=null==t?0:t.length;return e?t[e-1]:r}var To=ki(So);function So(t,e){return t&&t.length&&e&&e.length?mi(t,e):t}var Ao=La(function(t,e){var r=null==t?0:t.length,n=Rn(t,e);return xi(t,Qe(e,function(t){return Va(t,r)?+t:t}).sort(Ji)),n});function Po(t){return null==t?t:Gr.call(t)}var Co=ki(function(t){return Bi(Un(t,1,xs,!0))}),Lo=ki(function(t){var e=ko(t);return xs(e)&&(e=r),Bi(Un(t,1,xs,!0),Da(e,2))}),Mo=ki(function(t){var e=ko(t);return e="function"==typeof e?e:r,Bi(Un(t,1,xs,!0),r,e)});function zo(t){if(!t||!t.length)return[];var e=0;return t=$e(t,function(t){if(xs(t))return e=Ur(t.length,e),!0}),dr(e,function(e){return Qe(t,lr(e))})}function Oo(t,e){if(!t||!t.length)return[];var n=zo(t);return null==e?n:Qe(n,function(t){return qe(e,r,t)})}var Ro=ki(function(t,e){return xs(t)?Fn(t,e):[]}),Eo=ki(function(t){return Hi($e(t,xs))}),Do=ki(function(t){var e=ko(t);return xs(e)&&(e=r),Hi($e(t,xs),Da(e,2))}),Io=ki(function(t){var e=ko(t);return e="function"==typeof e?e:r,Hi($e(t,xs),r,e)}),Bo=ki(zo);var Fo=ki(function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,Oo(t,n)});function jo(t){var e=dn(t);return e.__chain__=!0,e}function Wo(t,e){return e(t)}var No=La(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,a=function(e){return Rn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof _n&&Va(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Wo,args:[a],thisArg:r}),new gn(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(r),t})):this.thru(a)});var Ho=ia(function(t,e,r){he.call(t,r)?++t[r]:On(t,r,1)});var qo=ca(go),Uo=ca(_o);function Vo(t,e){return(_s(t)?Ve:jn)(t,Da(e,3))}function Xo(t,e){return(_s(t)?Xe:Wn)(t,Da(e,3))}var Yo=ia(function(t,e,r){he.call(t,r)?t[r].push(e):On(t,r,[e])});var $o=ki(function(t,e,r){var n=-1,i="function"==typeof e,a=ms(t)?Zt(t.length):[];return jn(t,function(t){a[++n]=i?qe(e,t,r):ni(t,e,r)}),a}),Go=ia(function(t,e,r){On(t,r,e)});function Zo(t,e){return(_s(t)?Qe:fi)(t,Da(e,3))}var Qo=ia(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});var Ko=ki(function(t,e){if(null==t)return[];var r=e.length;return r>1&&Xa(t,e[0],e[1])?e=[]:r>2&&Xa(e[0],e[1],e[2])&&(e=[e[0]]),_i(t,Un(e,1),[])}),Jo=Dr||function(){return ze.Date.now()};function ts(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Ta(t,w,r,r,r,r,e)}function es(t,e){var n;if("function"!=typeof e)throw new ie(a);return t=Ns(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var rs=ki(function(t,e,r){var n=v;if(r.length){var i=Sr(r,Ea(rs));n|=x}return Ta(t,n,e,r,i)}),ns=ki(function(t,e,r){var n=v|g;if(r.length){var i=Sr(r,Ea(ns));n|=x}return Ta(e,n,t,r,i)});function is(t,e,n){var i,o,s,u,l,h,c=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new ie(a);function v(e){var n=i,a=o;return i=o=r,c=e,u=t.apply(a,n)}function g(t){var n=t-h;return h===r||n>=e||n<0||d&&t-c>=s}function _(){var t=Jo();if(g(t))return y(t);l=no(_,function(t){var r=e-(t-h);return d?Vr(r,s-(t-c)):r}(t))}function y(t){return l=r,p&&i?v(t):(i=o=r,u)}function m(){var t=Jo(),n=g(t);if(i=arguments,o=this,h=t,n){if(l===r)return function(t){return c=t,l=no(_,e),f?v(t):u}(h);if(d)return Gi(l),l=no(_,e),v(h)}return l===r&&(l=no(_,e)),u}return e=qs(e)||0,Ps(n)&&(f=!!n.leading,s=(d="maxWait"in n)?Ur(qs(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),m.cancel=function(){l!==r&&Gi(l),c=0,i=h=o=l=r},m.flush=function(){return l===r?u:y(Jo())},m}var as=ki(function(t,e){return Bn(t,1,e)}),os=ki(function(t,e,r){return Bn(t,qs(e)||0,r)});function ss(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(a);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(ss.Cache||xn),r}function us(t){if("function"!=typeof t)throw new ie(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ss.Cache=xn;var ls=Yi(function(t,e){var r=(e=1==e.length&&_s(e[0])?Qe(e[0],pr(Da())):Qe(Un(e,1),pr(Da()))).length;return ki(function(n){for(var i=-1,a=Vr(n.length,r);++i<a;)n[i]=e[i].call(this,n[i]);return qe(t,this,n)})}),hs=ki(function(t,e){var n=Sr(e,Ea(hs));return Ta(t,x,r,e,n)}),cs=ki(function(t,e){var n=Sr(e,Ea(cs));return Ta(t,b,r,e,n)}),fs=La(function(t,e){return Ta(t,k,r,r,r,e)});function ds(t,e){return t===e||t!=t&&e!=e}var ps=ma(Jn),vs=ma(function(t,e){return t>=e}),gs=ii(function(){return arguments}())?ii:function(t){return Cs(t)&&he.call(t,"callee")&&!De.call(t,"callee")},_s=Zt.isArray,ys=Be?pr(Be):function(t){return Cs(t)&&Kn(t)==ot};function ms(t){return null!=t&&As(t.length)&&!Ts(t)}function xs(t){return Cs(t)&&ms(t)}var bs=Wr||qu,ws=Fe?pr(Fe):function(t){return Cs(t)&&Kn(t)==q};function ks(t){if(!Cs(t))return!1;var e=Kn(t);return e==V||e==U||"string"==typeof t.message&&"string"==typeof t.name&&!zs(t)}function Ts(t){if(!Ps(t))return!1;var e=Kn(t);return e==X||e==Y||e==N||e==K}function Ss(t){return"number"==typeof t&&t==Ns(t)}function As(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=O}function Ps(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Cs(t){return null!=t&&"object"==typeof t}var Ls=je?pr(je):function(t){return Cs(t)&&Na(t)==$};function Ms(t){return"number"==typeof t||Cs(t)&&Kn(t)==G}function zs(t){if(!Cs(t)||Kn(t)!=Q)return!1;var e=Oe(t);if(null===e)return!0;var r=he.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&le.call(r)==pe}var Os=We?pr(We):function(t){return Cs(t)&&Kn(t)==J};var Rs=Ne?pr(Ne):function(t){return Cs(t)&&Na(t)==tt};function Es(t){return"string"==typeof t||!_s(t)&&Cs(t)&&Kn(t)==et}function Ds(t){return"symbol"==typeof t||Cs(t)&&Kn(t)==rt}var Is=He?pr(He):function(t){return Cs(t)&&As(t.length)&&!!Te[Kn(t)]};var Bs=ma(ci),Fs=ma(function(t,e){return t<=e});function js(t){if(!t)return[];if(ms(t))return Es(t)?Lr(t):ra(t);if(hr&&t[hr])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[hr]());var e=Na(t);return(e==$?kr:e==tt?Ar:du)(t)}function Ws(t){return t?(t=qs(t))===z||t===-z?(t<0?-1:1)*R:t==t?t:0:0===t?t:0}function Ns(t){var e=Ws(t),r=e%1;return e==e?r?e-r:e:0}function Hs(t){return t?En(Ns(t),0,D):0}function qs(t){if("number"==typeof t)return t;if(Ds(t))return E;if(Ps(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ps(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ot,"");var r=qt.test(t);return r||Vt.test(t)?Ce(t.slice(2),r?2:8):Ht.test(t)?E:+t}function Us(t){return na(t,au(t))}function Vs(t){return null==t?"":Ii(t)}var Xs=aa(function(t,e){if(Za(e)||ms(e))na(e,iu(e),t);else for(var r in e)he.call(e,r)&&Cn(t,r,e[r])}),Ys=aa(function(t,e){na(e,au(e),t)}),$s=aa(function(t,e,r,n){na(e,au(e),t,n)}),Gs=aa(function(t,e,r,n){na(e,iu(e),t,n)}),Zs=La(Rn);var Qs=ki(function(t,e){t=ee(t);var n=-1,i=e.length,a=i>2?e[2]:r;for(a&&Xa(e[0],e[1],a)&&(i=1);++n<i;)for(var o=e[n],s=au(o),u=-1,l=s.length;++u<l;){var h=s[u],c=t[h];(c===r||ds(c,se[h])&&!he.call(t,h))&&(t[h]=o[h])}return t}),Ks=ki(function(t){return t.push(r,Aa),qe(su,r,t)});function Js(t,e,n){var i=null==t?r:Zn(t,e);return i===r?n:i}function tu(t,e){return null!=t&&Ha(t,e,ei)}var eu=pa(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=r},Pu(Mu)),ru=pa(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),he.call(t,e)?t[e].push(r):t[e]=[r]},Da),nu=ki(ni);function iu(t){return ms(t)?kn(t):li(t)}function au(t){return ms(t)?kn(t,!0):hi(t)}var ou=aa(function(t,e,r){vi(t,e,r)}),su=aa(function(t,e,r,n){vi(t,e,r,n)}),uu=La(function(t,e){var r={};if(null==t)return r;var n=!1;e=Qe(e,function(e){return e=Xi(e,t),n||(n=e.length>1),e}),na(t,za(t),r),n&&(r=Dn(r,l|c|f,Pa));for(var i=e.length;i--;)Fi(r,e[i]);return r});var lu=La(function(t,e){return null==t?{}:function(t,e){return yi(t,e,function(e,r){return tu(t,r)})}(t,e)});function hu(t,e){if(null==t)return{};var r=Qe(za(t),function(t){return[t]});return e=Da(e),yi(t,r,function(t,r){return e(t,r[0])})}var cu=ka(iu),fu=ka(au);function du(t){return null==t?[]:vr(t,iu(t))}var pu=la(function(t,e,r){return e=e.toLowerCase(),t+(r?vu(e):e)});function vu(t){return ku(Vs(t).toLowerCase())}function gu(t){return(t=Vs(t))&&t.replace(Yt,mr).replace(_e,"")}var _u=la(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),yu=la(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),mu=ua("toLowerCase");var xu=la(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});var bu=la(function(t,e,r){return t+(r?" ":"")+ku(e)});var wu=la(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),ku=ua("toUpperCase");function Tu(t,e,n){return t=Vs(t),(e=n?r:e)===r?function(t){return be.test(t)}(t)?function(t){return t.match(me)||[]}(t):function(t){return t.match(Ft)||[]}(t):t.match(e)||[]}var Su=ki(function(t,e){try{return qe(t,r,e)}catch(t){return ks(t)?t:new Kt(t)}}),Au=La(function(t,e){return Ve(e,function(e){e=lo(e),On(t,e,rs(t[e],t))}),t});function Pu(t){return function(){return t}}var Cu=fa(),Lu=fa(!0);function Mu(t){return t}function zu(t){return ui("function"==typeof t?t:Dn(t,l))}var Ou=ki(function(t,e){return function(r){return ni(r,t,e)}}),Ru=ki(function(t,e){return function(r){return ni(t,r,e)}});function Eu(t,e,r){var n=iu(e),i=Gn(e,n);null!=r||Ps(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=Gn(e,iu(e)));var a=!(Ps(r)&&"chain"in r&&!r.chain),o=Ts(t);return Ve(i,function(r){var n=e[r];t[r]=n,o&&(t.prototype[r]=function(){var e=this.__chain__;if(a||e){var r=t(this.__wrapped__),i=r.__actions__=ra(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Ke([this.value()],arguments))})}),t}function Du(){}var Iu=ga(Qe),Bu=ga(Ye),Fu=ga(er);function ju(t){return Ya(t)?lr(lo(t)):function(t){return function(e){return Zn(e,t)}}(t)}var Wu=ya(),Nu=ya(!0);function Hu(){return[]}function qu(){return!1}var Uu=va(function(t,e){return t+e},0),Vu=ba("ceil"),Xu=va(function(t,e){return t/e},1),Yu=ba("floor");var $u,Gu=va(function(t,e){return t*e},1),Zu=ba("round"),Qu=va(function(t,e){return t-e},0);return dn.after=function(t,e){if("function"!=typeof e)throw new ie(a);return t=Ns(t),function(){if(--t<1)return e.apply(this,arguments)}},dn.ary=ts,dn.assign=Xs,dn.assignIn=Ys,dn.assignInWith=$s,dn.assignWith=Gs,dn.at=Zs,dn.before=es,dn.bind=rs,dn.bindAll=Au,dn.bindKey=ns,dn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return _s(t)?t:[t]},dn.chain=jo,dn.chunk=function(t,e,n){e=(n?Xa(t,e,n):e===r)?1:Ur(Ns(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,o=0,s=Zt(Br(i/e));a<i;)s[o++]=Mi(t,a,a+=e);return s},dn.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var a=t[e];a&&(i[n++]=a)}return i},dn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Zt(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return Ke(_s(r)?ra(r):[r],Un(e,1))},dn.cond=function(t){var e=null==t?0:t.length,r=Da();return t=e?Qe(t,function(t){if("function"!=typeof t[1])throw new ie(a);return[r(t[0]),t[1]]}):[],ki(function(r){for(var n=-1;++n<e;){var i=t[n];if(qe(i[0],this,r))return qe(i[1],this,r)}})},dn.conforms=function(t){return function(t){var e=iu(t);return function(r){return In(r,t,e)}}(Dn(t,l))},dn.constant=Pu,dn.countBy=Ho,dn.create=function(t,e){var r=pn(t);return null==e?r:zn(r,e)},dn.curry=function t(e,n,i){var a=Ta(e,y,r,r,r,r,r,n=i?r:n);return a.placeholder=t.placeholder,a},dn.curryRight=function t(e,n,i){var a=Ta(e,m,r,r,r,r,r,n=i?r:n);return a.placeholder=t.placeholder,a},dn.debounce=is,dn.defaults=Qs,dn.defaultsDeep=Ks,dn.defer=as,dn.delay=os,dn.difference=fo,dn.differenceBy=po,dn.differenceWith=vo,dn.drop=function(t,e,n){var i=null==t?0:t.length;return i?Mi(t,(e=n||e===r?1:Ns(e))<0?0:e,i):[]},dn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Mi(t,0,(e=i-(e=n||e===r?1:Ns(e)))<0?0:e):[]},dn.dropRightWhile=function(t,e){return t&&t.length?Wi(t,Da(e,3),!0,!0):[]},dn.dropWhile=function(t,e){return t&&t.length?Wi(t,Da(e,3),!0):[]},dn.fill=function(t,e,n,i){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&Xa(t,e,n)&&(n=0,i=a),function(t,e,n,i){var a=t.length;for((n=Ns(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:Ns(i))<0&&(i+=a),i=n>i?0:Hs(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},dn.filter=function(t,e){return(_s(t)?$e:qn)(t,Da(e,3))},dn.flatMap=function(t,e){return Un(Zo(t,e),1)},dn.flatMapDeep=function(t,e){return Un(Zo(t,e),z)},dn.flatMapDepth=function(t,e,n){return n=n===r?1:Ns(n),Un(Zo(t,e),n)},dn.flatten=yo,dn.flattenDeep=function(t){return null!=t&&t.length?Un(t,z):[]},dn.flattenDepth=function(t,e){return null!=t&&t.length?Un(t,e=e===r?1:Ns(e)):[]},dn.flip=function(t){return Ta(t,T)},dn.flow=Cu,dn.flowRight=Lu,dn.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},dn.functions=function(t){return null==t?[]:Gn(t,iu(t))},dn.functionsIn=function(t){return null==t?[]:Gn(t,au(t))},dn.groupBy=Yo,dn.initial=function(t){return null!=t&&t.length?Mi(t,0,-1):[]},dn.intersection=xo,dn.intersectionBy=bo,dn.intersectionWith=wo,dn.invert=eu,dn.invertBy=ru,dn.invokeMap=$o,dn.iteratee=zu,dn.keyBy=Go,dn.keys=iu,dn.keysIn=au,dn.map=Zo,dn.mapKeys=function(t,e){var r={};return e=Da(e,3),Yn(t,function(t,n,i){On(r,e(t,n,i),t)}),r},dn.mapValues=function(t,e){var r={};return e=Da(e,3),Yn(t,function(t,n,i){On(r,n,e(t,n,i))}),r},dn.matches=function(t){return di(Dn(t,l))},dn.matchesProperty=function(t,e){return pi(t,Dn(e,l))},dn.memoize=ss,dn.merge=ou,dn.mergeWith=su,dn.method=Ou,dn.methodOf=Ru,dn.mixin=Eu,dn.negate=us,dn.nthArg=function(t){return t=Ns(t),ki(function(e){return gi(e,t)})},dn.omit=uu,dn.omitBy=function(t,e){return hu(t,us(Da(e)))},dn.once=function(t){return es(2,t)},dn.orderBy=function(t,e,n,i){return null==t?[]:(_s(e)||(e=null==e?[]:[e]),_s(n=i?r:n)||(n=null==n?[]:[n]),_i(t,e,n))},dn.over=Iu,dn.overArgs=ls,dn.overEvery=Bu,dn.overSome=Fu,dn.partial=hs,dn.partialRight=cs,dn.partition=Qo,dn.pick=lu,dn.pickBy=hu,dn.property=ju,dn.propertyOf=function(t){return function(e){return null==t?r:Zn(t,e)}},dn.pull=To,dn.pullAll=So,dn.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?mi(t,e,Da(r,2)):t},dn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?mi(t,e,r,n):t},dn.pullAt=Ao,dn.range=Wu,dn.rangeRight=Nu,dn.rearg=fs,dn.reject=function(t,e){return(_s(t)?$e:qn)(t,us(Da(e,3)))},dn.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],a=t.length;for(e=Da(e,3);++n<a;){var o=t[n];e(o,n,t)&&(r.push(o),i.push(n))}return xi(t,i),r},dn.rest=function(t,e){if("function"!=typeof t)throw new ie(a);return ki(t,e=e===r?e:Ns(e))},dn.reverse=Po,dn.sampleSize=function(t,e,n){return e=(n?Xa(t,e,n):e===r)?1:Ns(e),(_s(t)?Sn:Si)(t,e)},dn.set=function(t,e,r){return null==t?t:Ai(t,e,r)},dn.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Ai(t,e,n,i)},dn.shuffle=function(t){return(_s(t)?An:Li)(t)},dn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Xa(t,e,n)?(e=0,n=i):(e=null==e?0:Ns(e),n=n===r?i:Ns(n)),Mi(t,e,n)):[]},dn.sortBy=Ko,dn.sortedUniq=function(t){return t&&t.length?Ei(t):[]},dn.sortedUniqBy=function(t,e){return t&&t.length?Ei(t,Da(e,2)):[]},dn.split=function(t,e,n){return n&&"number"!=typeof n&&Xa(t,e,n)&&(e=n=r),(n=n===r?D:n>>>0)?(t=Vs(t))&&("string"==typeof e||null!=e&&!Os(e))&&!(e=Ii(e))&&wr(t)?$i(Lr(t),0,n):t.split(e,n):[]},dn.spread=function(t,e){if("function"!=typeof t)throw new ie(a);return e=null==e?0:Ur(Ns(e),0),ki(function(r){var n=r[e],i=$i(r,0,e);return n&&Ke(i,n),qe(t,this,i)})},dn.tail=function(t){var e=null==t?0:t.length;return e?Mi(t,1,e):[]},dn.take=function(t,e,n){return t&&t.length?Mi(t,0,(e=n||e===r?1:Ns(e))<0?0:e):[]},dn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Mi(t,(e=i-(e=n||e===r?1:Ns(e)))<0?0:e,i):[]},dn.takeRightWhile=function(t,e){return t&&t.length?Wi(t,Da(e,3),!1,!0):[]},dn.takeWhile=function(t,e){return t&&t.length?Wi(t,Da(e,3)):[]},dn.tap=function(t,e){return e(t),t},dn.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new ie(a);return Ps(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),is(t,e,{leading:n,maxWait:e,trailing:i})},dn.thru=Wo,dn.toArray=js,dn.toPairs=cu,dn.toPairsIn=fu,dn.toPath=function(t){return _s(t)?Qe(t,lo):Ds(t)?[t]:ra(uo(Vs(t)))},dn.toPlainObject=Us,dn.transform=function(t,e,r){var n=_s(t),i=n||bs(t)||Is(t);if(e=Da(e,4),null==r){var a=t&&t.constructor;r=i?n?new a:[]:Ps(t)&&Ts(a)?pn(Oe(t)):{}}return(i?Ve:Yn)(t,function(t,n,i){return e(r,t,n,i)}),r},dn.unary=function(t){return ts(t,1)},dn.union=Co,dn.unionBy=Lo,dn.unionWith=Mo,dn.uniq=function(t){return t&&t.length?Bi(t):[]},dn.uniqBy=function(t,e){return t&&t.length?Bi(t,Da(e,2)):[]},dn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?Bi(t,r,e):[]},dn.unset=function(t,e){return null==t||Fi(t,e)},dn.unzip=zo,dn.unzipWith=Oo,dn.update=function(t,e,r){return null==t?t:ji(t,e,Vi(r))},dn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:ji(t,e,Vi(n),i)},dn.values=du,dn.valuesIn=function(t){return null==t?[]:vr(t,au(t))},dn.without=Ro,dn.words=Tu,dn.wrap=function(t,e){return hs(Vi(e),t)},dn.xor=Eo,dn.xorBy=Do,dn.xorWith=Io,dn.zip=Bo,dn.zipObject=function(t,e){return qi(t||[],e||[],Cn)},dn.zipObjectDeep=function(t,e){return qi(t||[],e||[],Ai)},dn.zipWith=Fo,dn.entries=cu,dn.entriesIn=fu,dn.extend=Ys,dn.extendWith=$s,Eu(dn,dn),dn.add=Uu,dn.attempt=Su,dn.camelCase=pu,dn.capitalize=vu,dn.ceil=Vu,dn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=qs(n))==n?n:0),e!==r&&(e=(e=qs(e))==e?e:0),En(qs(t),e,n)},dn.clone=function(t){return Dn(t,f)},dn.cloneDeep=function(t){return Dn(t,l|f)},dn.cloneDeepWith=function(t,e){return Dn(t,l|f,e="function"==typeof e?e:r)},dn.cloneWith=function(t,e){return Dn(t,f,e="function"==typeof e?e:r)},dn.conformsTo=function(t,e){return null==e||In(t,e,iu(e))},dn.deburr=gu,dn.defaultTo=function(t,e){return null==t||t!=t?e:t},dn.divide=Xu,dn.endsWith=function(t,e,n){t=Vs(t),e=Ii(e);var i=t.length,a=n=n===r?i:En(Ns(n),0,i);return(n-=e.length)>=0&&t.slice(n,a)==e},dn.eq=ds,dn.escape=function(t){return(t=Vs(t))&&kt.test(t)?t.replace(bt,xr):t},dn.escapeRegExp=function(t){return(t=Vs(t))&&zt.test(t)?t.replace(Mt,"\\$&"):t},dn.every=function(t,e,n){var i=_s(t)?Ye:Nn;return n&&Xa(t,e,n)&&(e=r),i(t,Da(e,3))},dn.find=qo,dn.findIndex=go,dn.findKey=function(t,e){return nr(t,Da(e,3),Yn)},dn.findLast=Uo,dn.findLastIndex=_o,dn.findLastKey=function(t,e){return nr(t,Da(e,3),$n)},dn.floor=Yu,dn.forEach=Vo,dn.forEachRight=Xo,dn.forIn=function(t,e){return null==t?t:Vn(t,Da(e,3),au)},dn.forInRight=function(t,e){return null==t?t:Xn(t,Da(e,3),au)},dn.forOwn=function(t,e){return t&&Yn(t,Da(e,3))},dn.forOwnRight=function(t,e){return t&&$n(t,Da(e,3))},dn.get=Js,dn.gt=ps,dn.gte=vs,dn.has=function(t,e){return null!=t&&Ha(t,e,ti)},dn.hasIn=tu,dn.head=mo,dn.identity=Mu,dn.includes=function(t,e,r,n){t=ms(t)?t:du(t),r=r&&!n?Ns(r):0;var i=t.length;return r<0&&(r=Ur(i+r,0)),Es(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&ar(t,e,r)>-1},dn.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:Ns(r);return i<0&&(i=Ur(n+i,0)),ar(t,e,i)},dn.inRange=function(t,e,n){return e=Ws(e),n===r?(n=e,e=0):n=Ws(n),function(t,e,r){return t>=Vr(e,r)&&t<Ur(e,r)}(t=qs(t),e,n)},dn.invoke=nu,dn.isArguments=gs,dn.isArray=_s,dn.isArrayBuffer=ys,dn.isArrayLike=ms,dn.isArrayLikeObject=xs,dn.isBoolean=function(t){return!0===t||!1===t||Cs(t)&&Kn(t)==H},dn.isBuffer=bs,dn.isDate=ws,dn.isElement=function(t){return Cs(t)&&1===t.nodeType&&!zs(t)},dn.isEmpty=function(t){if(null==t)return!0;if(ms(t)&&(_s(t)||"string"==typeof t||"function"==typeof t.splice||bs(t)||Is(t)||gs(t)))return!t.length;var e=Na(t);if(e==$||e==tt)return!t.size;if(Za(t))return!li(t).length;for(var r in t)if(he.call(t,r))return!1;return!0},dn.isEqual=function(t,e){return ai(t,e)},dn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?ai(t,e,r,n):!!i},dn.isError=ks,dn.isFinite=function(t){return"number"==typeof t&&Nr(t)},dn.isFunction=Ts,dn.isInteger=Ss,dn.isLength=As,dn.isMap=Ls,dn.isMatch=function(t,e){return t===e||oi(t,e,Ba(e))},dn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,oi(t,e,Ba(e),n)},dn.isNaN=function(t){return Ms(t)&&t!=+t},dn.isNative=function(t){if(Ga(t))throw new Kt(i);return si(t)},dn.isNil=function(t){return null==t},dn.isNull=function(t){return null===t},dn.isNumber=Ms,dn.isObject=Ps,dn.isObjectLike=Cs,dn.isPlainObject=zs,dn.isRegExp=Os,dn.isSafeInteger=function(t){return Ss(t)&&t>=-O&&t<=O},dn.isSet=Rs,dn.isString=Es,dn.isSymbol=Ds,dn.isTypedArray=Is,dn.isUndefined=function(t){return t===r},dn.isWeakMap=function(t){return Cs(t)&&Na(t)==it},dn.isWeakSet=function(t){return Cs(t)&&Kn(t)==at},dn.join=function(t,e){return null==t?"":Hr.call(t,e)},dn.kebabCase=_u,dn.last=ko,dn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=Ns(n))<0?Ur(i+a,0):Vr(a,i-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,a):ir(t,sr,a,!0)},dn.lowerCase=yu,dn.lowerFirst=mu,dn.lt=Bs,dn.lte=Fs,dn.max=function(t){return t&&t.length?Hn(t,Mu,Jn):r},dn.maxBy=function(t,e){return t&&t.length?Hn(t,Da(e,2),Jn):r},dn.mean=function(t){return ur(t,Mu)},dn.meanBy=function(t,e){return ur(t,Da(e,2))},dn.min=function(t){return t&&t.length?Hn(t,Mu,ci):r},dn.minBy=function(t,e){return t&&t.length?Hn(t,Da(e,2),ci):r},dn.stubArray=Hu,dn.stubFalse=qu,dn.stubObject=function(){return{}},dn.stubString=function(){return""},dn.stubTrue=function(){return!0},dn.multiply=Gu,dn.nth=function(t,e){return t&&t.length?gi(t,Ns(e)):r},dn.noConflict=function(){return ze._===this&&(ze._=ve),this},dn.noop=Du,dn.now=Jo,dn.pad=function(t,e,r){t=Vs(t);var n=(e=Ns(e))?Cr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return _a(Fr(i),r)+t+_a(Br(i),r)},dn.padEnd=function(t,e,r){t=Vs(t);var n=(e=Ns(e))?Cr(t):0;return e&&n<e?t+_a(e-n,r):t},dn.padStart=function(t,e,r){t=Vs(t);var n=(e=Ns(e))?Cr(t):0;return e&&n<e?_a(e-n,r)+t:t},dn.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),Yr(Vs(t).replace(Rt,""),e||0)},dn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Xa(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=Ws(t),e===r?(e=t,t=0):e=Ws(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var a=$r();return Vr(t+a*(e-t+Pe("1e-"+((a+"").length-1))),e)}return bi(t,e)},dn.reduce=function(t,e,r){var n=_s(t)?Je:cr,i=arguments.length<3;return n(t,Da(e,4),r,i,jn)},dn.reduceRight=function(t,e,r){var n=_s(t)?tr:cr,i=arguments.length<3;return n(t,Da(e,4),r,i,Wn)},dn.repeat=function(t,e,n){return e=(n?Xa(t,e,n):e===r)?1:Ns(e),wi(Vs(t),e)},dn.replace=function(){var t=arguments,e=Vs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},dn.result=function(t,e,n){var i=-1,a=(e=Xi(e,t)).length;for(a||(a=1,t=r);++i<a;){var o=null==t?r:t[lo(e[i])];o===r&&(i=a,o=n),t=Ts(o)?o.call(t):o}return t},dn.round=Zu,dn.runInContext=t,dn.sample=function(t){return(_s(t)?Tn:Ti)(t)},dn.size=function(t){if(null==t)return 0;if(ms(t))return Es(t)?Cr(t):t.length;var e=Na(t);return e==$||e==tt?t.size:li(t).length},dn.snakeCase=xu,dn.some=function(t,e,n){var i=_s(t)?er:zi;return n&&Xa(t,e,n)&&(e=r),i(t,Da(e,3))},dn.sortedIndex=function(t,e){return Oi(t,e)},dn.sortedIndexBy=function(t,e,r){return Ri(t,e,Da(r,2))},dn.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=Oi(t,e);if(n<r&&ds(t[n],e))return n}return-1},dn.sortedLastIndex=function(t,e){return Oi(t,e,!0)},dn.sortedLastIndexBy=function(t,e,r){return Ri(t,e,Da(r,2),!0)},dn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=Oi(t,e,!0)-1;if(ds(t[r],e))return r}return-1},dn.startCase=bu,dn.startsWith=function(t,e,r){return t=Vs(t),r=null==r?0:En(Ns(r),0,t.length),e=Ii(e),t.slice(r,r+e.length)==e},dn.subtract=Qu,dn.sum=function(t){return t&&t.length?fr(t,Mu):0},dn.sumBy=function(t,e){return t&&t.length?fr(t,Da(e,2)):0},dn.template=function(t,e,n){var i=dn.templateSettings;n&&Xa(t,e,n)&&(e=r),t=Vs(t),e=$s({},e,i,Sa);var a,o,s=$s({},e.imports,i.imports,Sa),u=iu(s),l=vr(s,u),h=0,c=e.interpolate||$t,f="__p += '",d=re((e.escape||$t).source+"|"+c.source+"|"+(c===At?Wt:$t).source+"|"+(e.evaluate||$t).source+"|$","g"),p="//# sourceURL="+(he.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++ke+"]")+"\n";t.replace(d,function(e,r,n,i,s,u){return n||(n=i),f+=t.slice(h,u).replace(Gt,br),r&&(a=!0,f+="' +\n__e("+r+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),h=u+e.length,e}),f+="';\n";var v=he.call(e,"variable")&&e.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(_t,""):f).replace(yt,"$1").replace(mt,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Su(function(){return Jt(u,p+"return "+f).apply(r,l)});if(g.source=f,ks(g))throw g;return g},dn.times=function(t,e){if((t=Ns(t))<1||t>O)return[];var r=D,n=Vr(t,D);e=Da(e),t-=D;for(var i=dr(n,e);++r<t;)e(r);return i},dn.toFinite=Ws,dn.toInteger=Ns,dn.toLength=Hs,dn.toLower=function(t){return Vs(t).toLowerCase()},dn.toNumber=qs,dn.toSafeInteger=function(t){return t?En(Ns(t),-O,O):0===t?t:0},dn.toString=Vs,dn.toUpper=function(t){return Vs(t).toUpperCase()},dn.trim=function(t,e,n){if((t=Vs(t))&&(n||e===r))return t.replace(Ot,"");if(!t||!(e=Ii(e)))return t;var i=Lr(t),a=Lr(e);return $i(i,_r(i,a),yr(i,a)+1).join("")},dn.trimEnd=function(t,e,n){if((t=Vs(t))&&(n||e===r))return t.replace(Et,"");if(!t||!(e=Ii(e)))return t;var i=Lr(t);return $i(i,0,yr(i,Lr(e))+1).join("")},dn.trimStart=function(t,e,n){if((t=Vs(t))&&(n||e===r))return t.replace(Rt,"");if(!t||!(e=Ii(e)))return t;var i=Lr(t);return $i(i,_r(i,Lr(e))).join("")},dn.truncate=function(t,e){var n=S,i=A;if(Ps(e)){var a="separator"in e?e.separator:a;n="length"in e?Ns(e.length):n,i="omission"in e?Ii(e.omission):i}var o=(t=Vs(t)).length;if(wr(t)){var s=Lr(t);o=s.length}if(n>=o)return t;var u=n-Cr(i);if(u<1)return i;var l=s?$i(s,0,u).join(""):t.slice(0,u);if(a===r)return l+i;if(s&&(u+=l.length-u),Os(a)){if(t.slice(u).search(a)){var h,c=l;for(a.global||(a=re(a.source,Vs(Nt.exec(a))+"g")),a.lastIndex=0;h=a.exec(c);)var f=h.index;l=l.slice(0,f===r?u:f)}}else if(t.indexOf(Ii(a),u)!=u){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+i},dn.unescape=function(t){return(t=Vs(t))&&wt.test(t)?t.replace(xt,Mr):t},dn.uniqueId=function(t){var e=++ce;return Vs(t)+e},dn.upperCase=wu,dn.upperFirst=ku,dn.each=Vo,dn.eachRight=Xo,dn.first=mo,Eu(dn,($u={},Yn(dn,function(t,e){he.call(dn.prototype,e)||($u[e]=t)}),$u),{chain:!1}),dn.VERSION="4.17.14",Ve(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){dn[t].placeholder=dn}),Ve(["drop","take"],function(t,e){_n.prototype[t]=function(n){n=n===r?1:Ur(Ns(n),0);var i=this.__filtered__&&!e?new _n(this):this.clone();return i.__filtered__?i.__takeCount__=Vr(n,i.__takeCount__):i.__views__.push({size:Vr(n,D),type:t+(i.__dir__<0?"Right":"")}),i},_n.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ve(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r==L||3==r;_n.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Da(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}}),Ve(["head","last"],function(t,e){var r="take"+(e?"Right":"");_n.prototype[t]=function(){return this[r](1).value()[0]}}),Ve(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");_n.prototype[t]=function(){return this.__filtered__?new _n(this):this[r](1)}}),_n.prototype.compact=function(){return this.filter(Mu)},_n.prototype.find=function(t){return this.filter(t).head()},_n.prototype.findLast=function(t){return this.reverse().find(t)},_n.prototype.invokeMap=ki(function(t,e){return"function"==typeof t?new _n(this):this.map(function(r){return ni(r,t,e)})}),_n.prototype.reject=function(t){return this.filter(us(Da(t)))},_n.prototype.slice=function(t,e){t=Ns(t);var n=this;return n.__filtered__&&(t>0||e<0)?new _n(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=Ns(e))<0?n.dropRight(-e):n.take(e-t)),n)},_n.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_n.prototype.toArray=function(){return this.take(D)},Yn(_n.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),a=dn[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);a&&(dn.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,u=e instanceof _n,l=s[0],h=u||_s(e),c=function(t){var e=a.apply(dn,Ke([t],s));return i&&f?e[0]:e};h&&n&&"function"==typeof l&&1!=l.length&&(u=h=!1);var f=this.__chain__,d=!!this.__actions__.length,p=o&&!f,v=u&&!d;if(!o&&h){e=v?e:new _n(this);var g=t.apply(e,s);return g.__actions__.push({func:Wo,args:[c],thisArg:r}),new gn(g,f)}return p&&v?t.apply(this,s):(g=this.thru(c),p?i?g.value()[0]:g.value():g)})}),Ve(["pop","push","shift","sort","splice","unshift"],function(t){var e=ae[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);dn.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(_s(i)?i:[],t)}return this[r](function(r){return e.apply(_s(r)?r:[],t)})}}),Yn(_n.prototype,function(t,e){var r=dn[e];if(r){var n=r.name+"";he.call(nn,n)||(nn[n]=[]),nn[n].push({name:e,func:r})}}),nn[da(r,g).name]=[{name:"wrapper",func:r}],_n.prototype.clone=function(){var t=new _n(this.__wrapped__);return t.__actions__=ra(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ra(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ra(this.__views__),t},_n.prototype.reverse=function(){if(this.__filtered__){var t=new _n(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},_n.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=_s(t),n=e<0,i=r?t.length:0,a=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=Vr(e,t+o);break;case"takeRight":t=Ur(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=n?s:o-1,h=this.__iteratees__,c=h.length,f=0,d=Vr(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return Ni(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var v=-1,g=t[l+=e];++v<c;){var _=h[v],y=_.iteratee,m=_.type,x=y(g);if(m==M)g=x;else if(!x){if(m==L)continue t;break t}}p[f++]=g}return p},dn.prototype.at=No,dn.prototype.chain=function(){return jo(this)},dn.prototype.commit=function(){return new gn(this.value(),this.__chain__)},dn.prototype.next=function(){this.__values__===r&&(this.__values__=js(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},dn.prototype.plant=function(t){for(var e,n=this;n instanceof vn;){var i=co(n);i.__index__=0,i.__values__=r,e?a.__wrapped__=i:e=i;var a=i;n=n.__wrapped__}return a.__wrapped__=t,e},dn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof _n){var e=t;return this.__actions__.length&&(e=new _n(this)),(e=e.reverse()).__actions__.push({func:Wo,args:[Po],thisArg:r}),new gn(e,this.__chain__)}return this.thru(Po)},dn.prototype.toJSON=dn.prototype.valueOf=dn.prototype.value=function(){return Ni(this.__wrapped__,this.__actions__)},dn.prototype.first=dn.prototype.head,hr&&(dn.prototype[hr]=function(){return this}),dn}();Re?((Re.exports=zr)._=zr,Oe._=zr):ze._=zr}).call(h)}),xl={install:function(t){var e=.25,r=t._global,n=document.createElement("div"),i=n.style;i.position="absolute",i.bottom="10px",i.right="10px",i.border="1px solid #ccc",i.background="#fff",t._el.appendChild(n);var a=pl.init(n,{renderer:"canvas",width:t.$zr.getWidth()*e,height:t.$zr.getHeight()*e}),o=new pl.Group;o.silent=!0,a.add(o),r.afterUpdate=ml.debounce(function(){o.removeAll(),r.eachChild(function(t){o.add(ml.cloneDeep(t))});var t=o.getBoundingRect(),n=t.x,i=t.y,s=t.width,u=t.height;a.resize({width:s*e,height:u*e}),o.attr("scale",[e,e]),o.attr("position",[-n*e,-i*e]),a.flush()},300)}};var bl=function(){function e(){t(this,e)}return r(e,[{key:"_init",value:function(){var t;console.log("init",this),this.$zr=pl.init(this._el,this._option),this.createGlobalGroup(),(t=this).registerElement(_l),t.registerElement(yl),function(t){t.registerPlugin(xl)}(this)}},{key:"createGlobalGroup",value:function(){this._global=new pl.Group,this.$zr.add(this._global),this.addDragEvent(),this.addZoomEvent()}},{key:"addDragEvent",value:function(){var t,e=this,r=!1;this.$zr.on("mousedown",function(e){e.target||(r=!0,t=[e.event.zrX,e.event.zrY])}),this.$zr.on("mouseup",function(){r=!1}),this.$zr.on("mouseout",function(){r=!1}),this.$zr.on("mousemove",function(n){if(r){var i=e._global.position[0]+n.event.zrX-t[0],a=e._global.position[1]+n.event.zrY-t[1];e._global.attr("position",[i,a]),t=[n.event.zrX,n.event.zrY],e.$zr.refresh()}})}},{key:"addZoomEvent",value:function(){var t=this,e=1;this.$zr.on("mousewheel",function(r){var n=[r.event.zrX,r.event.zrY],i=n[0],a=n[1],o=l(t._global.position,2),s=o[0],u=o[1],h=l(t._global.scale,2),c=h[0],f=h[1],d=e+r.wheelDelta/10;d<.2||d>5||(e=d,t._global.animateTo({scale:[e,e],position:[i+e/c*(s-i),a+e/f*(u-a)]},180),t.$zr.refresh())})}}]),e}(),wl=function(){function e(){t(this,e),this._plugins=[],this._elements={},this._globalOptions={},this._data={}}return r(e,[{key:"registerPlugin",value:function(t,e){this._plugins.includes(t)||(this._plugins.push(t),t.install(this,e))}},{key:"registerElement",value:function(t){t.name in this._elements||(this._elements[t.name]=t)}},{key:"addData",value:function(t){t.type in this._data||(this._data[t.type]={}),this._data[t.type][t.id]=vl.clone(t)}},{key:"setData",value:function(t){t.type in this._data||(this._data[t.type]={}),this._data[t.type][t.id]=vl.clone(t)}},{key:"getData",value:function(t){t.type in this._data||(this._data[t.type]={}),this._data[t.type][t.id]=vl.clone(t)}},{key:"deleteData",value:function(t,e){"string"==typeof t&&(null==e?this._data[t]={}:e in this._data[t]||(this._data[t][e].dispose(),delete this._data[t][e]))}}]),e}(),kl=function e(){t(this,e)},Tl=function(){function e(){t(this,e)}return r(e,[{key:"dispose",value:function(){this.$zr.dispose()}}]),e}(),Sl=function(e){function r(e,n){var i;return t(this,r),(i=u(this,o(r).call(this)))._el=e,i._option=n,i._init(),i}return a(r,vl.mix(bl,wl,kl,Tl)),r}();module.exports=Sl;